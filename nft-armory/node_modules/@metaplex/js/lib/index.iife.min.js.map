{"version":3,"file":"index.iife.min.js","sources":["../src/providers/conversion/ConversionRateProvider.ts","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/axios.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/index.js","../src/providers/conversion/Coingecko.ts","../node_modules/form-data/lib/browser.js","../src/providers/storage/arweave/ArweaveStorage.ts","../src/Connection.ts","../node_modules/base64-js/index.js","../node_modules/ieee754/index.js","../node_modules/buffer/index.js","../src/Account.ts","../node_modules/bn.js/lib/bn.js","../node_modules/safe-buffer/index.js","../node_modules/base-x/src/index.js","../node_modules/bs58/index.js","../node_modules/text-encoding-utf-8/lib/encoding.lib.mjs","../node_modules/borsh/lib/index.js","../src/utils/borsh.ts","../node_modules/crypto-hash/browser.js","../src/utils/crypto.ts","../src/utils/metadata.ts","../src/utils/tupleNumeric.ts","../src/errors.ts","../src/Transaction.ts","../src/actions/transactions.ts","../src/Program.ts","../src/config.ts","../src/programs/metaplex/MetaplexProgram.ts","../src/programs/metaplex/accounts/BidRedemptionTicket.ts","../src/programs/auction/AuctionProgram.ts","../src/programs/auction/accounts/Auction.ts","../src/programs/auction/transactions/CreateAuction.ts","../src/programs/auction/accounts/BidderMetadata.ts","../src/programs/auction/accounts/BidderPot.ts","../src/programs/auction/accounts/AuctionExtended.ts","../src/programs/auction/transactions/CancelBid.ts","../src/programs/auction/transactions/PlaceBid.ts","../src/programs/auction/transactions/SetAuctionAuthority.ts","../src/programs/metaplex/accounts/AuctionManager.ts","../src/programs/metaplex/accounts/SafetyDepositConfig.ts","../src/programs/metaplex/accounts/PayoutTicket.ts","../src/programs/metaplex/accounts/PrizeTrackingTicket.ts","../src/programs/metaplex/accounts/WhitelistedCreator.ts","../src/programs/metaplex/accounts/Store.ts","../src/programs/metaplex/accounts/AuctionWinnerTokenTypeTracker.ts","../src/programs/vault/VaultProgram.ts","../src/programs/vault/accounts/Vault.ts","../src/programs/vault/accounts/SafetyDepositBox.ts","../src/programs/vault/accounts/ExternalPriceAccount.ts","../src/programs/vault/transactions/CombineVault.ts","../src/programs/vault/transactions/InitVault.ts","../src/programs/vault/transactions/RedeemShares.ts","../src/programs/vault/transactions/SetVaultAuthority.ts","../src/programs/vault/transactions/UpdateExternalPriceAccount.ts","../src/programs/metadata/MetadataProgram.ts","../src/programs/vault/transactions/ActivateVault.ts","../src/programs/vault/transactions/AddSharesToTreasury.ts","../src/programs/vault/transactions/AddTokenToInactiveVault.ts","../src/programs/vault/transactions/MintFractionalShares.ts","../src/programs/vault/transactions/WithdrawSharesFromTreasury.ts","../src/programs/vault/transactions/WithdrawTokenFromSafetyDepositBox.ts","../src/programs/metadata/accounts/Edition.ts","../src/programs/metadata/accounts/EditionMarker.ts","../src/programs/metadata/accounts/MasterEdition.ts","../src/programs/shared/accounts/TokenAccount.ts","../src/programs/shared/transactions/CreateMint.ts","../src/programs/shared/transactions/CreateTokenAccount.ts","../src/programs/shared/transactions/CreateAssociatedTokenAccount.ts","../src/programs/shared/transactions/MintTo.ts","../src/programs/metadata/accounts/Metadata.ts","../src/programs/metadata/transactions/CreateMetadata.ts","../src/programs/metadata/transactions/UpdateMetadata.ts","../src/programs/metadata/transactions/CreateMasterEdition.ts","../src/programs/metadata/transactions/MintNewEditionFromMasterEditionViaToken.ts","../src/programs/metadata/transactions/UpdatePrimarySaleHappenedViaToken.ts","../src/programs/metadata/transactions/SignMetadata.ts","../src/programs/metaplex/transactions/RedeemBid.ts","../src/programs/metaplex/transactions/SetStore.ts","../src/programs/metaplex/transactions/SetWhitelistedCreator.ts","../src/programs/metaplex/transactions/StartAuction.ts","../src/programs/metaplex/transactions/InitAuctionManagerV2.ts","../src/programs/metaplex/transactions/ClaimBid.ts","../src/programs/metaplex/transactions/RedeemFullRightsTransferBid.ts","../src/programs/shared/transactions/PayForFiles.ts","../src/actions/shared/index.ts","../src/utils/transactions-batch.ts","../src/actions/cancelBid.ts","../src/actions/placeBid.ts","../src/actions/redeemBid.ts","../src/actions/claimBid.ts","../node_modules/retry/lib/retry_operation.js","../node_modules/retry/lib/retry.js","../node_modules/async-retry/lib/index.js","../node_modules/retry/index.js","../src/actions/initStore.ts","../src/actions/mintNFT.ts","../src/actions/mintEditionFromMaster.ts","../src/actions/createMetadata.ts","../src/actions/createMasterEdition.ts","../src/actions/signMetadata.ts","../src/actions/updateMetadata.ts","../src/actions/instantSale.ts","../src/wallet/index.ts"],"sourcesContent":["// We are keeping an organized enum of all currencies to allow for easier refactoring should\n// we decide to change the way that metaplex names currencies internally\nexport enum Currency {\n  USD = 'usd',\n  EUR = 'eur',\n  AR = 'ar',\n  SOL = 'sol',\n}\n\nexport type ConversionRatePair = {\n  from: Currency;\n  to: Currency;\n  rate: number;\n};\n\nexport abstract class ConversionRateProvider {\n  getRate: (\n    from: Currency | Currency[],\n    to: Currency | Currency[],\n  ) => Promise<ConversionRatePair[]>;\n}\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected, options) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected,\n    synchronous: options ? options.synchronous : false,\n    runWhen: options ? options.runWhen : null\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n    var responseType = config.responseType;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !responseType || responseType === 'text' ||  responseType === 'json' ?\n        request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(\n        timeoutErrorMessage,\n        config,\n        config.transitional && config.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\nvar enhanceError = require('./core/enhanceError');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nvar defaults = {\n\n  transitional: {\n    silentJSONParsing: true,\n    forcedJSONParsing: true,\n    clarifyTimeoutError: false\n  },\n\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data) || (headers && headers['Content-Type'] === 'application/json')) {\n      setContentTypeIfUnset(headers, 'application/json');\n      return stringifySafely(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    var transitional = this.transitional;\n    var silentJSONParsing = transitional && transitional.silentJSONParsing;\n    var forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    var strictJSONParsing = !silentJSONParsing && this.responseType === 'json';\n\n    if (strictJSONParsing || (forcedJSONParsing && utils.isString(data) && data.length)) {\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw enhanceError(e, this, 'E_JSON_PARSE');\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar defaults = require('./../defaults');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  var context = this || defaults;\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(context, data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar pkg = require('./../../package.json');\n\nvar validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function(type, i) {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nvar deprecatedWarnings = {};\nvar currentVerArr = pkg.version.split('.');\n\n/**\n * Compare package versions\n * @param {string} version\n * @param {string?} thanVersion\n * @returns {boolean}\n */\nfunction isOlderVersion(version, thanVersion) {\n  var pkgVersionArr = thanVersion ? thanVersion.split('.') : currentVerArr;\n  var destVer = version.split('.');\n  for (var i = 0; i < 3; i++) {\n    if (pkgVersionArr[i] > destVer[i]) {\n      return true;\n    } else if (pkgVersionArr[i] < destVer[i]) {\n      return false;\n    }\n  }\n  return false;\n}\n\n/**\n * Transitional option validator\n * @param {function|boolean?} validator\n * @param {string?} version\n * @param {string} message\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  var isDeprecated = version && isOlderVersion(version);\n\n  function formatMessage(opt, desc) {\n    return '[Axios v' + pkg.version + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return function(value, opt, opts) {\n    if (validator === false) {\n      throw new Error(formatMessage(opt, ' has been removed in ' + version));\n    }\n\n    if (isDeprecated && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new TypeError('options must be an object');\n  }\n  var keys = Object.keys(options);\n  var i = keys.length;\n  while (i-- > 0) {\n    var opt = keys[i];\n    var validator = schema[opt];\n    if (validator) {\n      var value = options[opt];\n      var result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new TypeError('option ' + opt + ' must be ' + result);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw Error('Unknown option ' + opt);\n    }\n  }\n}\n\nmodule.exports = {\n  isOlderVersion: isOlderVersion,\n  assertOptions: assertOptions,\n  validators: validators\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\nvar validator = require('../helpers/validator');\n\nvar validators = validator.validators;\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  var transitional = config.transitional;\n\n  if (transitional !== undefined) {\n    validator.assertOptions(transitional, {\n      silentJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      forcedJSONParsing: validators.transitional(validators.boolean, '1.0.0'),\n      clarifyTimeoutError: validators.transitional(validators.boolean, '1.0.0')\n    }, false);\n  }\n\n  // filter out skipped interceptors\n  var requestInterceptorChain = [];\n  var synchronousRequestInterceptors = true;\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n      return;\n    }\n\n    synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n    requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var responseInterceptorChain = [];\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  var promise;\n\n  if (!synchronousRequestInterceptors) {\n    var chain = [dispatchRequest, undefined];\n\n    Array.prototype.unshift.apply(chain, requestInterceptorChain);\n    chain = chain.concat(responseInterceptorChain);\n\n    promise = Promise.resolve(config);\n    while (chain.length) {\n      promise = promise.then(chain.shift(), chain.shift());\n    }\n\n    return promise;\n  }\n\n\n  var newConfig = config;\n  while (requestInterceptorChain.length) {\n    var onFulfilled = requestInterceptorChain.shift();\n    var onRejected = requestInterceptorChain.shift();\n    try {\n      newConfig = onFulfilled(newConfig);\n    } catch (error) {\n      onRejected(error);\n      break;\n    }\n  }\n\n  try {\n    promise = dispatchRequest(newConfig);\n  } catch (error) {\n    return Promise.reject(error);\n  }\n\n  while (responseInterceptorChain.length) {\n    promise = promise.then(responseInterceptorChain.shift(), responseInterceptorChain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","module.exports = require('./lib/axios');","import { ConversionRateProvider, Currency } from './ConversionRateProvider';\nimport axios from 'axios';\n\nexport class Coingecko implements ConversionRateProvider {\n  constructor() {}\n\n  // this method translates currency strings to the format that coingecko requires\n  private static translateCurrency(currency: Currency): string {\n    switch (currency) {\n      case Currency.AR:\n        return 'arweave';\n      case Currency.SOL:\n        return 'solana';\n      case Currency.USD:\n        return 'usd';\n      case Currency.EUR:\n        return 'eur';\n      default:\n        throw new Error('Invalid currency supplied to Coingecko conversion rate provider');\n    }\n  }\n\n  async getRate(from: Currency | Currency[], to: Currency | Currency[]) {\n    const fromArray = typeof from === 'string' ? [from] : from;\n    const toArray = typeof to === 'string' ? [to] : to;\n    const fromIds = fromArray.map((currency) => Coingecko.translateCurrency(currency)).join(',');\n    const toIds = toArray.map((currency) => Coingecko.translateCurrency(currency)).join(',');\n    const url = `https://api.coingecko.com/api/v3/simple/price?ids=${fromIds}&vs_currencies=${toIds}`;\n    const response = await axios(url);\n    const data = await response.data;\n    return fromArray.reduce((previousPairs, fromCurrency) => {\n      return [\n        ...previousPairs,\n        ...toArray.map((toCurrency) => ({\n          from: fromCurrency,\n          to: toCurrency,\n          rate: data[Coingecko.translateCurrency(fromCurrency)][\n            Coingecko.translateCurrency(toCurrency)\n          ],\n        })),\n      ];\n    }, []);\n  }\n}\n","/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n","import { Storage, UploadResult } from '../Storage';\nimport { Buffer } from 'buffer';\nimport axios from 'axios';\nimport FormData from 'form-data';\n\nconst ARWEAVE_URL = 'https://arweave.net';\nconst LAMPORT_MULTIPLIER = 10 ** 9;\nconst WINSTON_MULTIPLIER = 10 ** 12;\n\nexport interface ArweaveUploadResult extends UploadResult {\n  messages?: {\n    filename: string;\n    status: 'success' | 'fail';\n    transactionId?: string;\n    error?: string;\n  }[];\n}\n\nexport interface ArweaveStorageCtorFields {\n  endpoint: string;\n  env: 'mainnet-beta' | 'testnet' | 'devnet';\n}\n\nexport class ArweaveStorage implements Storage {\n  readonly endpoint: string;\n  readonly env: string;\n\n  constructor({ endpoint, env }: ArweaveStorageCtorFields) {\n    this.endpoint = endpoint;\n    this.env = env;\n  }\n\n  async getAssetCostToStore(files: Map<string, Buffer>, arweaveRate: number, solanaRate: number) {\n    const buffers = Array.from(files.values());\n    const totalBytes = buffers.reduce((sum, f) => (sum += f.byteLength), 0);\n    const txnFeeInWinstons = parseInt(await (await axios(`${ARWEAVE_URL}/price/0`)).data);\n    const byteCostInWinstons = parseInt(\n      await (\n        await axios(`${ARWEAVE_URL}/price/${totalBytes.toString()}`)\n      ).data,\n    );\n    const totalArCost =\n      (txnFeeInWinstons * buffers.length + byteCostInWinstons) / WINSTON_MULTIPLIER;\n    // To figure out how many lamports are required, multiply ar byte cost by this number\n    const arMultiplier = arweaveRate / solanaRate;\n    // We also always make a manifest file, which, though tiny, needs payment.\n    return LAMPORT_MULTIPLIER * totalArCost * arMultiplier * 1.1;\n  }\n\n  async upload(\n    files: Map<string, Buffer>,\n    mintKey: string,\n    txid: string,\n  ): Promise<ArweaveUploadResult> {\n    const fileEntries = Array.from(files.entries());\n    const tags = fileEntries.reduce(\n      (acc: Record<string, Array<{ name: string; value: string }>>, [fileName]) => {\n        acc[fileName] = [{ name: 'mint', value: mintKey }];\n        return acc;\n      },\n      {},\n    );\n\n    const body = new FormData();\n\n    body.append('tags', JSON.stringify(tags));\n    body.append('transaction', txid);\n    body.append('env', this.env);\n    fileEntries.map(([, file]) => {\n      body.append('file[]', file);\n    });\n\n    // TODO: I hate to do this, but it seems to be like an upstream problem:\n    // https://github.com/jimmywarting/FormData/issues/133\n    // I'll make sure to track it. - Danny\n    const response = await axios.post(this.endpoint, body);\n\n    if (response.data.error) {\n      return Promise.reject(new Error(response.data.error));\n    }\n\n    return response.data;\n  }\n}\n","import { clusterApiUrl, Commitment, Connection as SolanaConnection } from '@solana/web3.js';\n\nexport enum ChainId {\n  MainnetBeta = 101,\n  Testnet = 102,\n  Devnet = 103,\n}\n\nexport const ENV: Record<string, { endpoint: string; ChainId: ChainId }> = {\n  devnet: {\n    endpoint: clusterApiUrl('devnet'),\n    ChainId: ChainId.Devnet,\n  },\n  'mainnet-beta': {\n    endpoint: 'https://api.metaplex.solana.com/',\n    ChainId: ChainId.MainnetBeta,\n  },\n  'mainnet-beta (Solana)': {\n    endpoint: 'https://api.mainnet-beta.solana.com',\n    ChainId: ChainId.MainnetBeta,\n  },\n  'mainnet-beta (Serum)': {\n    endpoint: 'https://solana-api.projectserum.com/',\n    ChainId: ChainId.MainnetBeta,\n  },\n  testnet: {\n    endpoint: clusterApiUrl('testnet'),\n    ChainId: ChainId.Testnet,\n  },\n};\n\nexport class Connection extends SolanaConnection {\n  constructor(endpoint: keyof typeof ENV | string = 'mainnet-beta', commitment?: Commitment) {\n    if (endpoint in ENV) endpoint = ENV[endpoint].endpoint;\n    super(endpoint, commitment);\n  }\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","import { AccountInfo, Commitment, PublicKey, Connection } from '@solana/web3.js';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { Buffer } from 'buffer';\n\nexport type AccountConstructor<T> = {\n  new (pubkey: AnyPublicKey, info: AccountInfo<Buffer>): T;\n};\n\nexport class Account<T = unknown> {\n  readonly pubkey: PublicKey;\n  readonly info: AccountInfo<Buffer>;\n  data: T;\n\n  constructor(pubkey: AnyPublicKey, info?: AccountInfo<Buffer>) {\n    this.pubkey = new PublicKey(pubkey);\n    this.info = info;\n  }\n\n  static from<T>(this: AccountConstructor<T>, account: Account<unknown>) {\n    return new this(account.pubkey, account.info);\n  }\n\n  static async load<T>(\n    this: AccountConstructor<T>,\n    connection: Connection,\n    pubkey: AnyPublicKey,\n  ): Promise<T> {\n    const info = await Account.getInfo(connection, pubkey);\n\n    return new this(pubkey, info);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  static isCompatible(data: Buffer): boolean {\n    throw new Error(`method 'isCompatible' is not implemented`);\n  }\n\n  static async getInfo(connection: Connection, pubkey: AnyPublicKey) {\n    const info = await connection.getAccountInfo(new PublicKey(pubkey));\n    if (!info) {\n      throw new Error(`Unable to find account: ${pubkey}`);\n    }\n\n    return { ...info, data: Buffer.from(info?.data) };\n  }\n\n  static async getInfos(\n    connection: Connection,\n    pubkeys: AnyPublicKey[],\n    commitment: Commitment = 'recent',\n  ) {\n    const BATCH_SIZE = 99; // Must batch above this limit.\n\n    const promises: Promise<Map<AnyPublicKey, AccountInfo<Buffer>> | undefined>[] = [];\n    for (let i = 0; i < pubkeys.length; i += BATCH_SIZE) {\n      promises.push(\n        Account.getMultipleAccounts(\n          connection,\n          pubkeys.slice(i, Math.min(pubkeys.length, i + BATCH_SIZE)),\n          commitment,\n        ),\n      );\n    }\n\n    const results = new Map<AnyPublicKey, AccountInfo<Buffer>>();\n    (await Promise.all(promises)).forEach((result) =>\n      [...(result?.entries() ?? [])].forEach(([k, v]) => results.set(k, v)),\n    );\n    return results;\n  }\n\n  private static async getMultipleAccounts(\n    connection: Connection,\n    pubkeys: AnyPublicKey[],\n    commitment: Commitment,\n  ) {\n    const args = connection._buildArgs([pubkeys.map((k) => k.toString())], commitment, 'base64');\n    const unsafeRes = await (connection as any)._rpcRequest('getMultipleAccounts', args);\n    if (unsafeRes.error) {\n      throw new Error('failed to get info about accounts ' + unsafeRes.error.message);\n    }\n    if (!unsafeRes.result.value) return;\n    const infos = (unsafeRes.result.value as AccountInfo<string[]>[]).map((info) => ({\n      ...info,\n      data: Buffer.from(info.data[0], 'base64'),\n    })) as AccountInfo<Buffer>[];\n    return infos.reduce((acc, info, index) => {\n      acc.set(pubkeys[index], info);\n      return acc;\n    }, new Map<AnyPublicKey, AccountInfo<Buffer>>());\n  }\n\n  assertOwner(pubkey: AnyPublicKey) {\n    return this.info?.owner.equals(new PublicKey(pubkey));\n  }\n\n  toJSON() {\n    return {\n      pubkey: this.pubkey.toString(),\n      info: {\n        executable: !!this.info?.executable,\n        owner: this.info?.owner ? new PublicKey(this.info?.owner) : null,\n        lamports: this.info?.lamports,\n        data: this.info?.data.toJSON(),\n      },\n      data: this.data,\n    };\n  }\n\n  toString() {\n    return JSON.stringify(this.toJSON());\n  }\n}\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (Array.isArray(source) || source instanceof Uint8Array) { source = _Buffer.from(source) }\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","var basex = require('base-x')\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n","'use strict';\n\n// This is free and unencumbered software released into the public domain.\n// See LICENSE.md for more information.\n\n//\n// Utilities\n//\n\n/**\n * @param {number} a The number to test.\n * @param {number} min The minimum value in the range, inclusive.\n * @param {number} max The maximum value in the range, inclusive.\n * @return {boolean} True if a >= min and a <= max.\n */\nfunction inRange(a, min, max) {\n  return min <= a && a <= max;\n}\n\n/**\n * @param {*} o\n * @return {Object}\n */\nfunction ToDictionary(o) {\n  if (o === undefined) return {};\n  if (o === Object(o)) return o;\n  throw TypeError('Could not convert argument to dictionary');\n}\n\n/**\n * @param {string} string Input string of UTF-16 code units.\n * @return {!Array.<number>} Code points.\n */\nfunction stringToCodePoints(string) {\n  // https://heycam.github.io/webidl/#dfn-obtain-unicode\n\n  // 1. Let S be the DOMString value.\n  var s = String(string);\n\n  // 2. Let n be the length of S.\n  var n = s.length;\n\n  // 3. Initialize i to 0.\n  var i = 0;\n\n  // 4. Initialize U to be an empty sequence of Unicode characters.\n  var u = [];\n\n  // 5. While i < n:\n  while (i < n) {\n\n    // 1. Let c be the code unit in S at index i.\n    var c = s.charCodeAt(i);\n\n    // 2. Depending on the value of c:\n\n    // c < 0xD800 or c > 0xDFFF\n    if (c < 0xD800 || c > 0xDFFF) {\n      // Append to U the Unicode character with code point c.\n      u.push(c);\n    }\n\n    // 0xDC00  c  0xDFFF\n    else if (0xDC00 <= c && c <= 0xDFFF) {\n      // Append to U a U+FFFD REPLACEMENT CHARACTER.\n      u.push(0xFFFD);\n    }\n\n    // 0xD800  c  0xDBFF\n    else if (0xD800 <= c && c <= 0xDBFF) {\n      // 1. If i = n1, then append to U a U+FFFD REPLACEMENT\n      // CHARACTER.\n      if (i === n - 1) {\n        u.push(0xFFFD);\n      }\n      // 2. Otherwise, i < n1:\n      else {\n        // 1. Let d be the code unit in S at index i+1.\n        var d = string.charCodeAt(i + 1);\n\n        // 2. If 0xDC00  d  0xDFFF, then:\n        if (0xDC00 <= d && d <= 0xDFFF) {\n          // 1. Let a be c & 0x3FF.\n          var a = c & 0x3FF;\n\n          // 2. Let b be d & 0x3FF.\n          var b = d & 0x3FF;\n\n          // 3. Append to U the Unicode character with code point\n          // 2^16+2^10*a+b.\n          u.push(0x10000 + (a << 10) + b);\n\n          // 4. Set i to i+1.\n          i += 1;\n        }\n\n        // 3. Otherwise, d < 0xDC00 or d > 0xDFFF. Append to U a\n        // U+FFFD REPLACEMENT CHARACTER.\n        else  {\n          u.push(0xFFFD);\n        }\n      }\n    }\n\n    // 3. Set i to i+1.\n    i += 1;\n  }\n\n  // 6. Return U.\n  return u;\n}\n\n/**\n * @param {!Array.<number>} code_points Array of code points.\n * @return {string} string String of UTF-16 code units.\n */\nfunction codePointsToString(code_points) {\n  var s = '';\n  for (var i = 0; i < code_points.length; ++i) {\n    var cp = code_points[i];\n    if (cp <= 0xFFFF) {\n      s += String.fromCharCode(cp);\n    } else {\n      cp -= 0x10000;\n      s += String.fromCharCode((cp >> 10) + 0xD800,\n                               (cp & 0x3FF) + 0xDC00);\n    }\n  }\n  return s;\n}\n\n\n//\n// Implementation of Encoding specification\n// https://encoding.spec.whatwg.org/\n//\n\n//\n// 3. Terminology\n//\n\n/**\n * End-of-stream is a special token that signifies no more tokens\n * are in the stream.\n * @const\n */ var end_of_stream = -1;\n\n/**\n * A stream represents an ordered sequence of tokens.\n *\n * @constructor\n * @param {!(Array.<number>|Uint8Array)} tokens Array of tokens that provide the\n * stream.\n */\nfunction Stream(tokens) {\n  /** @type {!Array.<number>} */\n  this.tokens = [].slice.call(tokens);\n}\n\nStream.prototype = {\n  /**\n   * @return {boolean} True if end-of-stream has been hit.\n   */\n  endOfStream: function() {\n    return !this.tokens.length;\n  },\n\n  /**\n   * When a token is read from a stream, the first token in the\n   * stream must be returned and subsequently removed, and\n   * end-of-stream must be returned otherwise.\n   *\n   * @return {number} Get the next token from the stream, or\n   * end_of_stream.\n   */\n   read: function() {\n    if (!this.tokens.length)\n      return end_of_stream;\n     return this.tokens.shift();\n   },\n\n  /**\n   * When one or more tokens are prepended to a stream, those tokens\n   * must be inserted, in given order, before the first token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The token(s) to prepend to the stream.\n   */\n  prepend: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.unshift(tokens.pop());\n    } else {\n      this.tokens.unshift(token);\n    }\n  },\n\n  /**\n   * When one or more tokens are pushed to a stream, those tokens\n   * must be inserted, in given order, after the last token in the\n   * stream.\n   *\n   * @param {(number|!Array.<number>)} token The tokens(s) to prepend to the stream.\n   */\n  push: function(token) {\n    if (Array.isArray(token)) {\n      var tokens = /**@type {!Array.<number>}*/(token);\n      while (tokens.length)\n        this.tokens.push(tokens.shift());\n    } else {\n      this.tokens.push(token);\n    }\n  }\n};\n\n//\n// 4. Encodings\n//\n\n// 4.1 Encoders and decoders\n\n/** @const */\nvar finished = -1;\n\n/**\n * @param {boolean} fatal If true, decoding errors raise an exception.\n * @param {number=} opt_code_point Override the standard fallback code point.\n * @return {number} The code point to insert on a decoding error.\n */\nfunction decoderError(fatal, opt_code_point) {\n  if (fatal)\n    throw TypeError('Decoder error');\n  return opt_code_point || 0xFFFD;\n}\n\n/** @interface */\nfunction Decoder() {}\nDecoder.prototype = {\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point, or |finished|.\n   */\n  handler: function(stream, bite) {}\n};\n\n/** @interface */\nfunction Encoder() {}\nEncoder.prototype = {\n  /**\n   * @param {Stream} stream The stream of code points being encoded.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit, or |finished|.\n   */\n  handler: function(stream, code_point) {}\n};\n\n//\n// 7. API\n//\n\n/** @const */ var DEFAULT_ENCODING = 'utf-8';\n\n// 7.1 Interface TextDecoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextDecoder(encoding, options) {\n  if (!(this instanceof TextDecoder)) {\n    return new TextDecoder(encoding, options);\n  }\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {boolean} */\n  this._BOMseen = false;\n  /** @private @type {?Decoder} */\n  this._decoder = null;\n  /** @private @type {boolean} */\n  this._fatal = Boolean(options['fatal']);\n  /** @private @type {boolean} */\n  this._ignoreBOM = Boolean(options['ignoreBOM']);\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n  Object.defineProperty(this, 'fatal', {value: this._fatal});\n  Object.defineProperty(this, 'ignoreBOM', {value: this._ignoreBOM});\n}\n\nTextDecoder.prototype = {\n  /**\n   * @param {ArrayBufferView=} input The buffer of bytes to decode.\n   * @param {Object=} options\n   * @return {string} The decoded string.\n   */\n  decode: function decode(input, options) {\n    var bytes;\n    if (typeof input === 'object' && input instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input);\n    } else if (typeof input === 'object' && 'buffer' in input &&\n               input.buffer instanceof ArrayBuffer) {\n      bytes = new Uint8Array(input.buffer,\n                             input.byteOffset,\n                             input.byteLength);\n    } else {\n      bytes = new Uint8Array(0);\n    }\n\n    options = ToDictionary(options);\n\n    if (!this._streaming) {\n      this._decoder = new UTF8Decoder({fatal: this._fatal});\n      this._BOMseen = false;\n    }\n    this._streaming = Boolean(options['stream']);\n\n    var input_stream = new Stream(bytes);\n\n    var code_points = [];\n\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n\n    while (!input_stream.endOfStream()) {\n      result = this._decoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (result === null)\n        continue;\n      if (Array.isArray(result))\n        code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n      else\n        code_points.push(result);\n    }\n    if (!this._streaming) {\n      do {\n        result = this._decoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (result === null)\n          continue;\n        if (Array.isArray(result))\n          code_points.push.apply(code_points, /**@type {!Array.<number>}*/(result));\n        else\n          code_points.push(result);\n      } while (!input_stream.endOfStream());\n      this._decoder = null;\n    }\n\n    if (code_points.length) {\n      // If encoding is one of utf-8, utf-16be, and utf-16le, and\n      // ignore BOM flag and BOM seen flag are unset, run these\n      // subsubsteps:\n      if (['utf-8'].indexOf(this.encoding) !== -1 &&\n          !this._ignoreBOM && !this._BOMseen) {\n        // If token is U+FEFF, set BOM seen flag.\n        if (code_points[0] === 0xFEFF) {\n          this._BOMseen = true;\n          code_points.shift();\n        } else {\n          // Otherwise, if token is not end-of-stream, set BOM seen\n          // flag and append token to output.\n          this._BOMseen = true;\n        }\n      }\n    }\n\n    return codePointsToString(code_points);\n  }\n};\n\n// 7.2 Interface TextEncoder\n\n/**\n * @constructor\n * @param {string=} encoding The label of the encoding;\n *     defaults to 'utf-8'.\n * @param {Object=} options\n */\nfunction TextEncoder(encoding, options) {\n  if (!(this instanceof TextEncoder))\n    return new TextEncoder(encoding, options);\n  encoding = encoding !== undefined ? String(encoding).toLowerCase() : DEFAULT_ENCODING;\n  if (encoding !== DEFAULT_ENCODING) {\n    throw new Error('Encoding not supported. Only utf-8 is supported');\n  }\n  options = ToDictionary(options);\n\n  /** @private @type {boolean} */\n  this._streaming = false;\n  /** @private @type {?Encoder} */\n  this._encoder = null;\n  /** @private @type {{fatal: boolean}} */\n  this._options = {fatal: Boolean(options['fatal'])};\n\n  Object.defineProperty(this, 'encoding', {value: 'utf-8'});\n}\n\nTextEncoder.prototype = {\n  /**\n   * @param {string=} opt_string The string to encode.\n   * @param {Object=} options\n   * @return {Uint8Array} Encoded bytes, as a Uint8Array.\n   */\n  encode: function encode(opt_string, options) {\n    opt_string = opt_string ? String(opt_string) : '';\n    options = ToDictionary(options);\n\n    // NOTE: This option is nonstandard. None of the encodings\n    // permitted for encoding (i.e. UTF-8, UTF-16) are stateful,\n    // so streaming is not necessary.\n    if (!this._streaming)\n      this._encoder = new UTF8Encoder(this._options);\n    this._streaming = Boolean(options['stream']);\n\n    var bytes = [];\n    var input_stream = new Stream(stringToCodePoints(opt_string));\n    /** @type {?(number|!Array.<number>)} */\n    var result;\n    while (!input_stream.endOfStream()) {\n      result = this._encoder.handler(input_stream, input_stream.read());\n      if (result === finished)\n        break;\n      if (Array.isArray(result))\n        bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n      else\n        bytes.push(result);\n    }\n    if (!this._streaming) {\n      while (true) {\n        result = this._encoder.handler(input_stream, input_stream.read());\n        if (result === finished)\n          break;\n        if (Array.isArray(result))\n          bytes.push.apply(bytes, /**@type {!Array.<number>}*/(result));\n        else\n          bytes.push(result);\n      }\n      this._encoder = null;\n    }\n    return new Uint8Array(bytes);\n  }\n};\n\n//\n// 8. The encoding\n//\n\n// 8.1 utf-8\n\n/**\n * @constructor\n * @implements {Decoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Decoder(options) {\n  var fatal = options.fatal;\n\n  // utf-8's decoder's has an associated utf-8 code point, utf-8\n  // bytes seen, and utf-8 bytes needed (all initially 0), a utf-8\n  // lower boundary (initially 0x80), and a utf-8 upper boundary\n  // (initially 0xBF).\n  var /** @type {number} */ utf8_code_point = 0,\n      /** @type {number} */ utf8_bytes_seen = 0,\n      /** @type {number} */ utf8_bytes_needed = 0,\n      /** @type {number} */ utf8_lower_boundary = 0x80,\n      /** @type {number} */ utf8_upper_boundary = 0xBF;\n\n  /**\n   * @param {Stream} stream The stream of bytes being decoded.\n   * @param {number} bite The next byte read from the stream.\n   * @return {?(number|!Array.<number>)} The next code point(s)\n   *     decoded, or null if not enough data exists in the input\n   *     stream to decode a complete code point.\n   */\n  this.handler = function(stream, bite) {\n    // 1. If byte is end-of-stream and utf-8 bytes needed is not 0,\n    // set utf-8 bytes needed to 0 and return error.\n    if (bite === end_of_stream && utf8_bytes_needed !== 0) {\n      utf8_bytes_needed = 0;\n      return decoderError(fatal);\n    }\n\n    // 2. If byte is end-of-stream, return finished.\n    if (bite === end_of_stream)\n      return finished;\n\n    // 3. If utf-8 bytes needed is 0, based on byte:\n    if (utf8_bytes_needed === 0) {\n\n      // 0x00 to 0x7F\n      if (inRange(bite, 0x00, 0x7F)) {\n        // Return a code point whose value is byte.\n        return bite;\n      }\n\n      // 0xC2 to 0xDF\n      if (inRange(bite, 0xC2, 0xDF)) {\n        // Set utf-8 bytes needed to 1 and utf-8 code point to byte\n        //  0xC0.\n        utf8_bytes_needed = 1;\n        utf8_code_point = bite - 0xC0;\n      }\n\n      // 0xE0 to 0xEF\n      else if (inRange(bite, 0xE0, 0xEF)) {\n        // 1. If byte is 0xE0, set utf-8 lower boundary to 0xA0.\n        if (bite === 0xE0)\n          utf8_lower_boundary = 0xA0;\n        // 2. If byte is 0xED, set utf-8 upper boundary to 0x9F.\n        if (bite === 0xED)\n          utf8_upper_boundary = 0x9F;\n        // 3. Set utf-8 bytes needed to 2 and utf-8 code point to\n        // byte  0xE0.\n        utf8_bytes_needed = 2;\n        utf8_code_point = bite - 0xE0;\n      }\n\n      // 0xF0 to 0xF4\n      else if (inRange(bite, 0xF0, 0xF4)) {\n        // 1. If byte is 0xF0, set utf-8 lower boundary to 0x90.\n        if (bite === 0xF0)\n          utf8_lower_boundary = 0x90;\n        // 2. If byte is 0xF4, set utf-8 upper boundary to 0x8F.\n        if (bite === 0xF4)\n          utf8_upper_boundary = 0x8F;\n        // 3. Set utf-8 bytes needed to 3 and utf-8 code point to\n        // byte  0xF0.\n        utf8_bytes_needed = 3;\n        utf8_code_point = bite - 0xF0;\n      }\n\n      // Otherwise\n      else {\n        // Return error.\n        return decoderError(fatal);\n      }\n\n      // Then (byte is in the range 0xC2 to 0xF4) set utf-8 code\n      // point to utf-8 code point << (6  utf-8 bytes needed) and\n      // return continue.\n      utf8_code_point = utf8_code_point << (6 * utf8_bytes_needed);\n      return null;\n    }\n\n    // 4. If byte is not in the range utf-8 lower boundary to utf-8\n    // upper boundary, run these substeps:\n    if (!inRange(bite, utf8_lower_boundary, utf8_upper_boundary)) {\n\n      // 1. Set utf-8 code point, utf-8 bytes needed, and utf-8\n      // bytes seen to 0, set utf-8 lower boundary to 0x80, and set\n      // utf-8 upper boundary to 0xBF.\n      utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n      utf8_lower_boundary = 0x80;\n      utf8_upper_boundary = 0xBF;\n\n      // 2. Prepend byte to stream.\n      stream.prepend(bite);\n\n      // 3. Return error.\n      return decoderError(fatal);\n    }\n\n    // 5. Set utf-8 lower boundary to 0x80 and utf-8 upper boundary\n    // to 0xBF.\n    utf8_lower_boundary = 0x80;\n    utf8_upper_boundary = 0xBF;\n\n    // 6. Increase utf-8 bytes seen by one and set utf-8 code point\n    // to utf-8 code point + (byte  0x80) << (6  (utf-8 bytes\n    // needed  utf-8 bytes seen)).\n    utf8_bytes_seen += 1;\n    utf8_code_point += (bite - 0x80) << (6 * (utf8_bytes_needed - utf8_bytes_seen));\n\n    // 7. If utf-8 bytes seen is not equal to utf-8 bytes needed,\n    // continue.\n    if (utf8_bytes_seen !== utf8_bytes_needed)\n      return null;\n\n    // 8. Let code point be utf-8 code point.\n    var code_point = utf8_code_point;\n\n    // 9. Set utf-8 code point, utf-8 bytes needed, and utf-8 bytes\n    // seen to 0.\n    utf8_code_point = utf8_bytes_needed = utf8_bytes_seen = 0;\n\n    // 10. Return a code point whose value is code point.\n    return code_point;\n  };\n}\n\n/**\n * @constructor\n * @implements {Encoder}\n * @param {{fatal: boolean}} options\n */\nfunction UTF8Encoder(options) {\n  var fatal = options.fatal;\n  /**\n   * @param {Stream} stream Input stream.\n   * @param {number} code_point Next code point read from the stream.\n   * @return {(number|!Array.<number>)} Byte(s) to emit.\n   */\n  this.handler = function(stream, code_point) {\n    // 1. If code point is end-of-stream, return finished.\n    if (code_point === end_of_stream)\n      return finished;\n\n    // 2. If code point is in the range U+0000 to U+007F, return a\n    // byte whose value is code point.\n    if (inRange(code_point, 0x0000, 0x007f))\n      return code_point;\n\n    // 3. Set count and offset based on the range code point is in:\n    var count, offset;\n    // U+0080 to U+07FF:    1 and 0xC0\n    if (inRange(code_point, 0x0080, 0x07FF)) {\n      count = 1;\n      offset = 0xC0;\n    }\n    // U+0800 to U+FFFF:    2 and 0xE0\n    else if (inRange(code_point, 0x0800, 0xFFFF)) {\n      count = 2;\n      offset = 0xE0;\n    }\n    // U+10000 to U+10FFFF: 3 and 0xF0\n    else if (inRange(code_point, 0x10000, 0x10FFFF)) {\n      count = 3;\n      offset = 0xF0;\n    }\n\n    // 4.Let bytes be a byte sequence whose first byte is (code\n    // point >> (6  count)) + offset.\n    var bytes = [(code_point >> (6 * count)) + offset];\n\n    // 5. Run these substeps while count is greater than 0:\n    while (count > 0) {\n\n      // 1. Set temp to code point >> (6  (count  1)).\n      var temp = code_point >> (6 * (count - 1));\n\n      // 2. Append to bytes 0x80 | (temp & 0x3F).\n      bytes.push(0x80 | (temp & 0x3F));\n\n      // 3. Decrease count by one.\n      count -= 1;\n    }\n\n    // 6. Return bytes bytes, in order.\n    return bytes;\n  };\n}\n\nexport {TextEncoder, TextDecoder};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deserializeUnchecked = exports.deserialize = exports.serialize = exports.BinaryReader = exports.BinaryWriter = exports.BorshError = exports.baseDecode = exports.baseEncode = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst bs58_1 = __importDefault(require(\"bs58\"));\n// TODO: Make sure this polyfill not included when not required\nconst encoding = __importStar(require(\"text-encoding-utf-8\"));\nconst TextDecoder = (typeof global.TextDecoder !== 'function') ? encoding.TextDecoder : global.TextDecoder;\nconst textDecoder = new TextDecoder('utf-8', { fatal: true });\nfunction baseEncode(value) {\n    if (typeof (value) === 'string') {\n        value = Buffer.from(value, 'utf8');\n    }\n    return bs58_1.default.encode(Buffer.from(value));\n}\nexports.baseEncode = baseEncode;\nfunction baseDecode(value) {\n    return Buffer.from(bs58_1.default.decode(value));\n}\nexports.baseDecode = baseDecode;\nconst INITIAL_LENGTH = 1024;\nclass BorshError extends Error {\n    constructor(message) {\n        super(message);\n        this.fieldPath = [];\n        this.originalMessage = message;\n    }\n    addToFieldPath(fieldName) {\n        this.fieldPath.splice(0, 0, fieldName);\n        // NOTE: Modifying message directly as jest doesn't use .toString()\n        this.message = this.originalMessage + ': ' + this.fieldPath.join('.');\n    }\n}\nexports.BorshError = BorshError;\n/// Binary encoder.\nclass BinaryWriter {\n    constructor() {\n        this.buf = Buffer.alloc(INITIAL_LENGTH);\n        this.length = 0;\n    }\n    maybeResize() {\n        if (this.buf.length < 16 + this.length) {\n            this.buf = Buffer.concat([this.buf, Buffer.alloc(INITIAL_LENGTH)]);\n        }\n    }\n    writeU8(value) {\n        this.maybeResize();\n        this.buf.writeUInt8(value, this.length);\n        this.length += 1;\n    }\n    writeU16(value) {\n        this.maybeResize();\n        this.buf.writeUInt16LE(value, this.length);\n        this.length += 2;\n    }\n    writeU32(value) {\n        this.maybeResize();\n        this.buf.writeUInt32LE(value, this.length);\n        this.length += 4;\n    }\n    writeU64(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray('le', 8)));\n    }\n    writeU128(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray('le', 16)));\n    }\n    writeU256(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray('le', 32)));\n    }\n    writeU512(value) {\n        this.maybeResize();\n        this.writeBuffer(Buffer.from(new bn_js_1.default(value).toArray('le', 64)));\n    }\n    writeBuffer(buffer) {\n        // Buffer.from is needed as this.buf.subarray can return plain Uint8Array in browser\n        this.buf = Buffer.concat([Buffer.from(this.buf.subarray(0, this.length)), buffer, Buffer.alloc(INITIAL_LENGTH)]);\n        this.length += buffer.length;\n    }\n    writeString(str) {\n        this.maybeResize();\n        const b = Buffer.from(str, 'utf8');\n        this.writeU32(b.length);\n        this.writeBuffer(b);\n    }\n    writeFixedArray(array) {\n        this.writeBuffer(Buffer.from(array));\n    }\n    writeArray(array, fn) {\n        this.maybeResize();\n        this.writeU32(array.length);\n        for (const elem of array) {\n            this.maybeResize();\n            fn(elem);\n        }\n    }\n    toArray() {\n        return this.buf.subarray(0, this.length);\n    }\n}\nexports.BinaryWriter = BinaryWriter;\nfunction handlingRangeError(target, propertyKey, propertyDescriptor) {\n    const originalMethod = propertyDescriptor.value;\n    propertyDescriptor.value = function (...args) {\n        try {\n            return originalMethod.apply(this, args);\n        }\n        catch (e) {\n            if (e instanceof RangeError) {\n                const code = e.code;\n                if (['ERR_BUFFER_OUT_OF_BOUNDS', 'ERR_OUT_OF_RANGE'].indexOf(code) >= 0) {\n                    throw new BorshError('Reached the end of buffer when deserializing');\n                }\n            }\n            throw e;\n        }\n    };\n}\nclass BinaryReader {\n    constructor(buf) {\n        this.buf = buf;\n        this.offset = 0;\n    }\n    readU8() {\n        const value = this.buf.readUInt8(this.offset);\n        this.offset += 1;\n        return value;\n    }\n    readU16() {\n        const value = this.buf.readUInt16LE(this.offset);\n        this.offset += 2;\n        return value;\n    }\n    readU32() {\n        const value = this.buf.readUInt32LE(this.offset);\n        this.offset += 4;\n        return value;\n    }\n    readU64() {\n        const buf = this.readBuffer(8);\n        return new bn_js_1.default(buf, 'le');\n    }\n    readU128() {\n        const buf = this.readBuffer(16);\n        return new bn_js_1.default(buf, 'le');\n    }\n    readU256() {\n        const buf = this.readBuffer(32);\n        return new bn_js_1.default(buf, 'le');\n    }\n    readU512() {\n        const buf = this.readBuffer(64);\n        return new bn_js_1.default(buf, 'le');\n    }\n    readBuffer(len) {\n        if ((this.offset + len) > this.buf.length) {\n            throw new BorshError(`Expected buffer length ${len} isn't within bounds`);\n        }\n        const result = this.buf.slice(this.offset, this.offset + len);\n        this.offset += len;\n        return result;\n    }\n    readString() {\n        const len = this.readU32();\n        const buf = this.readBuffer(len);\n        try {\n            // NOTE: Using TextDecoder to fail on invalid UTF-8\n            return textDecoder.decode(buf);\n        }\n        catch (e) {\n            throw new BorshError(`Error decoding UTF-8 string: ${e}`);\n        }\n    }\n    readFixedArray(len) {\n        return new Uint8Array(this.readBuffer(len));\n    }\n    readArray(fn) {\n        const len = this.readU32();\n        const result = Array();\n        for (let i = 0; i < len; ++i) {\n            result.push(fn());\n        }\n        return result;\n    }\n}\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU8\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU16\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU32\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU64\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU128\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU256\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readU512\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readString\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readFixedArray\", null);\n__decorate([\n    handlingRangeError\n], BinaryReader.prototype, \"readArray\", null);\nexports.BinaryReader = BinaryReader;\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\nfunction serializeField(schema, fieldName, value, fieldType, writer) {\n    try {\n        // TODO: Handle missing values properly (make sure they never result in just skipped write)\n        if (typeof fieldType === 'string') {\n            writer[`write${capitalizeFirstLetter(fieldType)}`](value);\n        }\n        else if (fieldType instanceof Array) {\n            if (typeof fieldType[0] === 'number') {\n                if (value.length !== fieldType[0]) {\n                    throw new BorshError(`Expecting byte array of length ${fieldType[0]}, but got ${value.length} bytes`);\n                }\n                writer.writeFixedArray(value);\n            }\n            else {\n                writer.writeArray(value, (item) => { serializeField(schema, fieldName, item, fieldType[0], writer); });\n            }\n        }\n        else if (fieldType.kind !== undefined) {\n            switch (fieldType.kind) {\n                case 'option': {\n                    if (value === null || value === undefined) {\n                        writer.writeU8(0);\n                    }\n                    else {\n                        writer.writeU8(1);\n                        serializeField(schema, fieldName, value, fieldType.type, writer);\n                    }\n                    break;\n                }\n                default: throw new BorshError(`FieldType ${fieldType} unrecognized`);\n            }\n        }\n        else {\n            serializeStruct(schema, value, writer);\n        }\n    }\n    catch (error) {\n        if (error instanceof BorshError) {\n            error.addToFieldPath(fieldName);\n        }\n        throw error;\n    }\n}\nfunction serializeStruct(schema, obj, writer) {\n    const structSchema = schema.get(obj.constructor);\n    if (!structSchema) {\n        throw new BorshError(`Class ${obj.constructor.name} is missing in schema`);\n    }\n    if (structSchema.kind === 'struct') {\n        structSchema.fields.map(([fieldName, fieldType]) => {\n            serializeField(schema, fieldName, obj[fieldName], fieldType, writer);\n        });\n    }\n    else if (structSchema.kind === 'enum') {\n        const name = obj[structSchema.field];\n        for (let idx = 0; idx < structSchema.values.length; ++idx) {\n            const [fieldName, fieldType] = structSchema.values[idx];\n            if (fieldName === name) {\n                writer.writeU8(idx);\n                serializeField(schema, fieldName, obj[fieldName], fieldType, writer);\n                break;\n            }\n        }\n    }\n    else {\n        throw new BorshError(`Unexpected schema kind: ${structSchema.kind} for ${obj.constructor.name}`);\n    }\n}\n/// Serialize given object using schema of the form:\n/// { class_name -> [ [field_name, field_type], .. ], .. }\nfunction serialize(schema, obj) {\n    const writer = new BinaryWriter();\n    serializeStruct(schema, obj, writer);\n    return writer.toArray();\n}\nexports.serialize = serialize;\nfunction deserializeField(schema, fieldName, fieldType, reader) {\n    try {\n        if (typeof fieldType === 'string') {\n            return reader[`read${capitalizeFirstLetter(fieldType)}`]();\n        }\n        if (fieldType instanceof Array) {\n            if (typeof fieldType[0] === 'number') {\n                return reader.readFixedArray(fieldType[0]);\n            }\n            return reader.readArray(() => deserializeField(schema, fieldName, fieldType[0], reader));\n        }\n        if (fieldType.kind === 'option') {\n            const option = reader.readU8();\n            if (option) {\n                return deserializeField(schema, fieldName, fieldType.type, reader);\n            }\n            return undefined;\n        }\n        return deserializeStruct(schema, fieldType, reader);\n    }\n    catch (error) {\n        if (error instanceof BorshError) {\n            error.addToFieldPath(fieldName);\n        }\n        throw error;\n    }\n}\nfunction deserializeStruct(schema, classType, reader) {\n    const structSchema = schema.get(classType);\n    if (!structSchema) {\n        throw new BorshError(`Class ${classType.name} is missing in schema`);\n    }\n    if (structSchema.kind === 'struct') {\n        const result = {};\n        for (const [fieldName, fieldType] of schema.get(classType).fields) {\n            result[fieldName] = deserializeField(schema, fieldName, fieldType, reader);\n        }\n        return new classType(result);\n    }\n    if (structSchema.kind === 'enum') {\n        const idx = reader.readU8();\n        if (idx >= structSchema.values.length) {\n            throw new BorshError(`Enum index: ${idx} is out of range`);\n        }\n        const [fieldName, fieldType] = structSchema.values[idx];\n        const fieldValue = deserializeField(schema, fieldName, fieldType, reader);\n        return new classType({ [fieldName]: fieldValue });\n    }\n    throw new BorshError(`Unexpected schema kind: ${structSchema.kind} for ${classType.constructor.name}`);\n}\n/// Deserializes object from bytes using schema.\nfunction deserialize(schema, classType, buffer) {\n    const reader = new BinaryReader(buffer);\n    const result = deserializeStruct(schema, classType, reader);\n    if (reader.offset < buffer.length) {\n        throw new BorshError(`Unexpected ${buffer.length - reader.offset} bytes after deserialized data`);\n    }\n    return result;\n}\nexports.deserialize = deserialize;\n/// Deserializes object from bytes using schema, without checking the length read\nfunction deserializeUnchecked(schema, classType, buffer) {\n    const reader = new BinaryReader(buffer);\n    return deserializeStruct(schema, classType, reader);\n}\nexports.deserializeUnchecked = deserializeUnchecked;\n","import { PublicKey } from '@solana/web3.js';\nimport { deserializeUnchecked, serialize, deserialize, BinaryReader, BinaryWriter } from 'borsh';\nimport base58 from 'bs58';\n\nexport const extendBorsh = () => {\n  (BinaryReader.prototype as any).readPubkey = function () {\n    const reader = this as unknown as BinaryReader;\n    const array = reader.readFixedArray(32);\n    return new PublicKey(array);\n  };\n  (BinaryWriter.prototype as any).writePubkey = function (value: PublicKey) {\n    const writer = this as unknown as BinaryWriter;\n    writer.writeFixedArray(value.toBuffer());\n  };\n  (BinaryReader.prototype as any).readPubkeyAsString = function () {\n    const reader = this as unknown as BinaryReader;\n    const array = reader.readFixedArray(32);\n    return base58.encode(array); // pubkey string\n  };\n  (BinaryWriter.prototype as any).writePubkeyAsString = function (\n    value: string, // pubkey string\n  ) {\n    const writer = this as unknown as BinaryWriter;\n    writer.writeFixedArray(base58.decode(value));\n  };\n};\n\nextendBorsh();\n\ntype DataConstructor<T, A> = {\n  readonly SCHEMA;\n  new (args: A): T;\n};\n\nexport class Data<T = {}> {\n  constructor(args: T = {} as T) {\n    Object.assign(this, args);\n  }\n\n  static struct<T, A>(this: DataConstructor<T, A>, fields: any) {\n    return struct(this, fields);\n  }\n\n  static serialize<T, A>(this: DataConstructor<T, A>, args: A = {} as A) {\n    return Buffer.from(serialize(this.SCHEMA, new this(args)));\n  }\n\n  static deserialize<T, A>(this: DataConstructor<T, A>, data: Buffer) {\n    return deserializeUnchecked(this.SCHEMA, this, data);\n  }\n}\n\nexport const struct = <T>(type: any, fields: any) => {\n  return new Map<any, any>([[type, { kind: 'struct', fields }]]);\n};\n\nexport { deserialize, deserializeUnchecked, serialize };\n","/* eslint-env browser */\n/* global globalThis:readonly */\n'use strict';\n\n// Ponyfill for `globalThis`\nconst _globalThis = (() => {\n\tif (typeof globalThis !== 'undefined') {\n\t\treturn globalThis;\n\t}\n\n\tif (typeof self !== 'undefined') {\n\t\treturn self;\n\t}\n\n\t/* istanbul ignore next */\n\tif (typeof window !== 'undefined') {\n\t\treturn window;\n\t}\n\n\t/* istanbul ignore next */\n\tif (typeof global !== 'undefined') {\n\t\treturn global;\n\t}\n})();\n\nconst bufferToHex = buffer => {\n\tconst view = new DataView(buffer);\n\n\tlet hexCodes = '';\n\tfor (let i = 0; i < view.byteLength; i += 4) {\n\t\thexCodes += view.getUint32(i).toString(16).padStart(8, '0');\n\t}\n\n\treturn hexCodes;\n};\n\nconst create = algorithm => async (buffer, options) => {\n\tif (typeof buffer === 'string') {\n\t\tbuffer = new _globalThis.TextEncoder().encode(buffer);\n\t}\n\n\toptions = {\n\t\toutputFormat: 'hex',\n\t\t...options\n\t};\n\n\tconst hash = await _globalThis.crypto.subtle.digest(algorithm, buffer);\n\n\treturn options.outputFormat === 'hex' ? bufferToHex(hash) : hash;\n};\n\nexports.sha1 = create('SHA-1');\nexports.sha256 = create('SHA-256');\nexports.sha384 = create('SHA-384');\nexports.sha512 = create('SHA-512');\n","import { sha256 } from 'crypto-hash';\nimport { Buffer } from 'buffer';\n\nexport const getFileHash = async (file: Buffer) => Buffer.from(await sha256(file.toString()));\n","import axios, { AxiosResponse } from 'axios';\nimport { MetadataJson } from './../types';\n\nexport const lookup = async (url: string): Promise<MetadataJson> => {\n  try {\n    const { data } = await axios.get<any, AxiosResponse<MetadataJson>>(url);\n\n    return data;\n  } catch {\n    throw new Error(`unable to get metadata json from url ${url}`);\n  }\n};\n","import BN from 'bn.js';\n\nexport enum TupleNumericType {\n  U8 = 1,\n  U16 = 2,\n  U32 = 4,\n  U64 = 8,\n}\n\nexport const getBNFromData = (data: Uint8Array, offset: number, dataType: TupleNumericType): BN => {\n  switch (dataType) {\n    case TupleNumericType.U8:\n      return new BN(data[offset], 'le');\n    case TupleNumericType.U16:\n      return new BN(data.slice(offset, offset + 2), 'le');\n    case TupleNumericType.U32:\n      return new BN(data.slice(offset, offset + 4), 'le');\n    case TupleNumericType.U64:\n      return new BN(data.slice(offset, offset + 8), 'le');\n  }\n};\n","export enum ErrorCode {\n  ERROR_INVALID_OWNER,\n  ERROR_INVALID_ACCOUNT_DATA,\n  ERROR_DEPRECATED_ACCOUNT_DATA,\n}\n\nexport class MetaplexError extends Error {\n  errorCode: ErrorCode;\n\n  constructor(errorCode: ErrorCode, message: string) {\n    super(message);\n    this.errorCode = errorCode;\n  }\n}\n\nexport const ERROR_INVALID_OWNER: () => MetaplexError = () => {\n  return new MetaplexError(ErrorCode.ERROR_INVALID_OWNER, 'Invalid owner');\n};\n\nexport const ERROR_INVALID_ACCOUNT_DATA: () => MetaplexError = () => {\n  return new MetaplexError(ErrorCode.ERROR_INVALID_ACCOUNT_DATA, 'Invalid data');\n};\n\nexport const ERROR_DEPRECATED_ACCOUNT_DATA: () => MetaplexError = () => {\n  return new MetaplexError(ErrorCode.ERROR_DEPRECATED_ACCOUNT_DATA, 'Account data is deprecated');\n};\n","import { Transaction as SolanaTransaction, TransactionCtorFields } from '@solana/web3.js';\n\nexport class Transaction extends SolanaTransaction {\n  constructor(options?: TransactionCtorFields) {\n    super(options);\n  }\n\n  static fromCombined(transactions: Transaction[], options: TransactionCtorFields = {}) {\n    const combinedTransaction = new Transaction(options);\n    transactions.forEach((transaction) =>\n      transaction.instructions.forEach((instruction) => {\n        combinedTransaction.add(instruction);\n      }),\n    );\n    return combinedTransaction;\n  }\n}\n","import { Keypair, SendOptions } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { Transaction } from '../Transaction';\n\ninterface ISendTransactionParams {\n  connection: Connection;\n  wallet: Wallet;\n  txs: Transaction[];\n  signers?: Keypair[];\n  options?: SendOptions;\n}\n\nexport const sendTransaction = async ({\n  connection,\n  wallet,\n  txs,\n  signers = [],\n  options,\n}: ISendTransactionParams): Promise<string> => {\n  let tx = Transaction.fromCombined(txs, { feePayer: wallet.publicKey });\n  tx.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;\n\n  if (signers.length) {\n    tx.partialSign(...signers);\n  }\n  tx = await wallet.signTransaction(tx);\n\n  return connection.sendRawTransaction(tx.serialize(), options);\n};\n","import {\n  PublicKey,\n  Connection,\n  GetProgramAccountsConfig,\n  Commitment,\n  AccountInfo,\n} from '@solana/web3.js';\nimport { Account } from './Account';\nimport { Buffer } from 'buffer';\n\nexport abstract class Program {\n  static readonly PUBKEY: PublicKey;\n\n  static async findProgramAddress(seeds: (Buffer | Uint8Array)[]) {\n    return (await PublicKey.findProgramAddress(seeds, this.PUBKEY))[0];\n  }\n\n  static async getProgramAccounts(\n    connection: Connection,\n    configOrCommitment?: GetProgramAccountsConfig | Commitment,\n  ) {\n    const extra: Pick<GetProgramAccountsConfig, 'dataSlice' | 'filters'> = {};\n    let commitment;\n    if (configOrCommitment) {\n      if (typeof configOrCommitment === 'string') {\n        commitment = configOrCommitment;\n      } else {\n        commitment = configOrCommitment.commitment;\n        if (configOrCommitment.dataSlice) {\n          extra.dataSlice = configOrCommitment.dataSlice;\n        }\n        if (configOrCommitment.filters) {\n          extra.filters = configOrCommitment.filters;\n        }\n      }\n    }\n    const args = connection._buildArgs([this.PUBKEY.toBase58()], commitment, 'base64', extra);\n    const unsafeRes = await (connection as any)._rpcRequest('getProgramAccounts', args);\n\n    return (\n      unsafeRes.result as Array<{\n        account: AccountInfo<[string, string]>;\n        pubkey: string;\n      }>\n    )\n      .map(({ account: { data, executable, lamports, owner }, pubkey }) => ({\n        account: {\n          data: Buffer.from(data[0], 'base64'),\n          executable,\n          lamports,\n          owner: new PublicKey(owner),\n        } as AccountInfo<Buffer>,\n        pubkey: new PublicKey(pubkey),\n      }))\n      .map(({ pubkey, account }) => new Account(pubkey, account));\n  }\n}\n","// TODO: need to be able to overwrite dynamically\nexport const config = {\n  arweaveWallet: 'HvwC9QSAzvGXhhVrgPmauVwFWcYZhne3hVot9EbHuFTm',\n  programs: {\n    // Metaplex\n    auction: 'auctxRXPeJoc4817jDhf4HbjnhEcr1cCXenosMhK5R8',\n    metadata: 'metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s',\n    metaplex: 'p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98',\n    vault: 'vau1zxA2LbssAUEF7Gpw91zMM1LvXrvpzJtmZ58rPsn',\n    packs: 'BNRmGgciUJuyznkYHnmitA9an1BcDDiU9JmjEQwvBYVR',\n    // External\n    memo: 'MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr',\n    token: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n  },\n  maxCreatorLimit: 5,\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { Program } from '../../Program';\nimport { config } from '../../config';\n\nexport enum MetaplexKey {\n  Uninitialized = 0,\n  OriginalAuthorityLookupV1 = 1,\n  BidRedemptionTicketV1 = 2,\n  StoreV1 = 3,\n  WhitelistedCreatorV1 = 4,\n  PayoutTicketV1 = 5,\n  SafetyDepositValidationTicketV1 = 6,\n  AuctionManagerV1 = 7,\n  PrizeTrackingTicketV1 = 8,\n  SafetyDepositConfigV1 = 9,\n  AuctionManagerV2 = 10,\n  BidRedemptionTicketV2 = 11,\n  AuctionWinnerTokenTypeTrackerV1 = 12,\n}\n\nexport class MetaplexProgram extends Program {\n  static readonly PREFIX = 'metaplex';\n  static readonly TOTALS = 'totals';\n  static readonly PUBKEY = new PublicKey(config.programs.metaplex);\n}\n","import { AccountInfo } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport {\n  ERROR_DEPRECATED_ACCOUNT_DATA,\n  ERROR_INVALID_ACCOUNT_DATA,\n  ERROR_INVALID_OWNER,\n} from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\nexport interface BidRedemptionTicketV2Data {\n  key: MetaplexKey;\n  winnerIndex?: BN;\n  auctionManager: StringPublicKey;\n  data: number[];\n}\n\nexport const WINNER_INDEX_OFFSETS = [2, 10];\n\nexport class BidRedemptionTicket extends Account<BidRedemptionTicketV2Data> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (BidRedemptionTicket.isBidRedemptionTicketV1(this.info.data)) {\n      throw ERROR_DEPRECATED_ACCOUNT_DATA();\n    } else if (BidRedemptionTicket.isBidRedemptionTicketV2(this.info.data)) {\n      const data = this.info.data.toJSON().data;\n\n      const winnerIndex = data[1] !== 0 && new BN(data.slice(1, 9), 'le');\n      const offset = WINNER_INDEX_OFFSETS[+!!winnerIndex];\n\n      this.data = {\n        key: MetaplexKey.BidRedemptionTicketV2,\n        winnerIndex,\n        data,\n        auctionManager: bs58.encode(data.slice(offset, offset + 32)),\n      };\n    } else {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n  }\n\n  static isCompatible(data: Buffer) {\n    return (\n      BidRedemptionTicket.isBidRedemptionTicketV1(data) ||\n      BidRedemptionTicket.isBidRedemptionTicketV2(data)\n    );\n  }\n\n  static isBidRedemptionTicketV1(data: Buffer) {\n    return data[0] === MetaplexKey.BidRedemptionTicketV1;\n  }\n\n  static isBidRedemptionTicketV2(data: Buffer) {\n    return data[0] === MetaplexKey.BidRedemptionTicketV2;\n  }\n}\n","import { PublicKey } from '@solana/web3.js';\nimport { config } from '../../config';\nimport { Program } from '../../Program';\n\nexport class AuctionProgram extends Program {\n  static readonly PREFIX = 'auction';\n  static readonly EXTENDED = 'extended';\n  static readonly PUBKEY = new PublicKey(config.programs.auction);\n}\n","import { ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Buffer } from 'buffer';\nimport { Account } from '../../../Account';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { BidderMetadata } from './BidderMetadata';\nimport { BidderPot } from './BidderPot';\n\nexport enum AuctionState {\n  Created = 0,\n  Started,\n  Ended,\n}\n\nexport enum BidStateType {\n  EnglishAuction = 0,\n  OpenEdition = 1,\n}\n\nexport enum PriceFloorType {\n  None = 0,\n  Minimum = 1,\n  BlindedPrice = 2,\n}\n\ntype BidArgs = { key: StringPublicKey; amount: BN };\nexport class Bid extends Borsh.Data<BidArgs> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'pubkeyAsString'],\n    ['amount', 'u64'],\n  ]);\n\n  key: StringPublicKey;\n  amount: BN;\n}\n\ntype BidStateArgs = { type: BidStateType; bids: Bid[]; max: BN };\nexport class BidState extends Borsh.Data<BidStateArgs> {\n  static readonly SCHEMA = new Map([\n    ...Bid.SCHEMA,\n    ...this.struct([\n      ['type', 'u8'],\n      ['bids', [Bid]],\n      ['max', 'u64'],\n    ]),\n  ]);\n\n  type: BidStateType;\n  bids: Bid[];\n  max: BN;\n\n  getWinnerAt(winnerIndex: number): StringPublicKey | null {\n    const convertedIndex = this.bids.length - winnerIndex - 1;\n\n    if (convertedIndex >= 0 && convertedIndex < this.bids.length) {\n      return this.bids[convertedIndex].key;\n    } else {\n      return null;\n    }\n  }\n\n  getAmountAt(winnerIndex: number): BN | null {\n    const convertedIndex = this.bids.length - winnerIndex - 1;\n\n    if (convertedIndex >= 0 && convertedIndex < this.bids.length) {\n      return this.bids[convertedIndex].amount;\n    } else {\n      return null;\n    }\n  }\n\n  getWinnerIndex(bidder: StringPublicKey): number | null {\n    if (!this.bids) return null;\n\n    const index = this.bids.findIndex((b) => b.key === bidder);\n    // auction stores data in reverse order\n    if (index !== -1) {\n      const zeroBased = this.bids.length - index - 1;\n      return zeroBased < this.max.toNumber() ? zeroBased : null;\n    } else return null;\n  }\n}\n\ntype PriceFloorArgs = { type: PriceFloorType; hash?: Uint8Array; minPrice?: BN };\nexport class PriceFloor extends Borsh.Data {\n  static readonly SCHEMA = this.struct([\n    ['type', 'u8'],\n    ['hash', [32]],\n  ]);\n\n  type: PriceFloorType;\n  // It's an array of 32 u8s, when minimum, only first 8 are used (a u64), when blinded price, the entire\n  // thing is a hash and not actually a public key, and none is all zeroes\n  hash: Uint8Array;\n  minPrice?: BN;\n\n  constructor(args: PriceFloorArgs) {\n    super();\n    this.type = args.type;\n    this.hash = args.hash || new Uint8Array(32);\n    if (this.type === PriceFloorType.Minimum) {\n      if (args.minPrice) {\n        this.hash.set(args.minPrice.toArrayLike(Buffer, 'le', 8), 0);\n      } else {\n        this.minPrice = new BN((args.hash || new Uint8Array(0)).slice(0, 8), 'le');\n      }\n    }\n  }\n}\n\ntype Args = {\n  authority: StringPublicKey;\n  tokenMint: StringPublicKey;\n  lastBid: BN | null;\n  endedAt: BN | null;\n  endAuctionAt: BN | null;\n  auctionGap: BN | null;\n  priceFloor: PriceFloor;\n  state: AuctionState;\n  bidState: BidState;\n  totalUncancelledBids: BN;\n};\nexport class AuctionData extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...BidState.SCHEMA,\n    ...PriceFloor.SCHEMA,\n    ...this.struct([\n      ['authority', 'pubkeyAsString'],\n      ['tokenMint', 'pubkeyAsString'],\n      ['lastBid', { kind: 'option', type: 'u64' }],\n      ['endedAt', { kind: 'option', type: 'u64' }],\n      ['endAuctionAt', { kind: 'option', type: 'u64' }],\n      ['auctionGap', { kind: 'option', type: 'u64' }],\n      ['priceFloor', PriceFloor],\n      ['state', 'u8'],\n      ['bidState', BidState],\n    ]),\n  ]);\n\n  /// Pubkey of the authority with permission to modify this auction.\n  authority: StringPublicKey;\n  /// Token mint for the SPL token being used to bid\n  tokenMint: StringPublicKey;\n  /// The time the last bid was placed, used to keep track of auction timing.\n  lastBid: BN | null;\n  /// Slot time the auction was officially ended by.\n  endedAt: BN | null;\n  /// End time is the cut-off point that the auction is forced to end by.\n  endAuctionAt: BN | null;\n  /// Gap time is the amount of time in slots after the previous bid at which the auction ends.\n  auctionGap: BN | null;\n  /// Minimum price for any bid to meet.\n  priceFloor: PriceFloor;\n  /// The state the auction is in, whether it has started or ended.\n  state: AuctionState;\n  /// Auction Bids, each user may have one bid open at a time.\n  bidState: BidState;\n  /// Used for precalculation on the front end, not a backend key\n  bidRedemptionKey?: StringPublicKey;\n}\n\nexport class Auction extends Account<AuctionData> {\n  static readonly EXTENDED_DATA_SIZE = 8 + 9 + 2 + 200;\n\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(AuctionProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    this.data = AuctionData.deserialize(this.info.data);\n  }\n\n  static getPDA(vault: AnyPublicKey) {\n    return AuctionProgram.findProgramAddress([\n      Buffer.from(AuctionProgram.PREFIX),\n      AuctionProgram.PUBKEY.toBuffer(),\n      new PublicKey(vault).toBuffer(),\n    ]);\n  }\n\n  static async findMany(connection: Connection, filters: { authority?: AnyPublicKey } = {}) {\n    return (\n      await AuctionProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for assigned to authority\n          filters.authority && {\n            memcmp: {\n              offset: 0,\n              bytes: new PublicKey(filters.authority).toBase58(),\n            },\n          },\n        ].filter(Boolean),\n      })\n    )\n      .map((account) => {\n        try {\n          return Auction.from(account);\n        } catch (err) {}\n      })\n      .filter(Boolean);\n  }\n\n  async getBidderPots(connection: Connection) {\n    return (\n      await AuctionProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for BidderPot by data size\n          {\n            dataSize: BidderPot.DATA_SIZE,\n          },\n          // Filter for assigned to this auction\n          {\n            memcmp: {\n              offset: 32 + 32,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => BidderPot.from(account));\n  }\n\n  async getBidderMetadata(connection: Connection) {\n    return (\n      await AuctionProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for BidderMetadata by data size\n          {\n            dataSize: BidderMetadata.DATA_SIZE,\n          },\n          // Filter for assigned to this auction\n          {\n            memcmp: {\n              offset: 32,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => BidderMetadata.from(account));\n  }\n}\n","import { StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Transaction } from '../../../Transaction';\nimport { PriceFloor } from '../accounts/Auction';\n\nexport enum WinnerLimitType {\n  Unlimited = 0,\n  Capped = 1,\n}\n\ntype WinnerLimitArgs = {\n  type: WinnerLimitType;\n  usize: BN;\n};\nexport class WinnerLimit extends Borsh.Data<WinnerLimitArgs> {\n  static readonly SCHEMA = this.struct([\n    ['type', 'u8'],\n    ['usize', 'u64'],\n  ]);\n\n  type: WinnerLimitType;\n  usize: BN;\n}\n\ntype Args = {\n  winners: WinnerLimit;\n  endAuctionAt: BN | null;\n  auctionGap: BN | null;\n  tokenMint: StringPublicKey;\n  authority: StringPublicKey;\n  resource: StringPublicKey;\n  priceFloor: PriceFloor;\n  tickSize: BN | null;\n  gapTickSizePercentage: number | null;\n};\nexport class CreateAuctionArgs extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...WinnerLimit.SCHEMA,\n    ...PriceFloor.SCHEMA,\n    ...this.struct([\n      ['instruction', 'u8'],\n      ['winners', WinnerLimit],\n      ['endAuctionAt', { kind: 'option', type: 'u64' }],\n      ['auctionGap', { kind: 'option', type: 'u64' }],\n      ['tokenMint', 'pubkeyAsString'],\n      ['authority', 'pubkeyAsString'],\n      ['resource', 'pubkeyAsString'],\n      ['priceFloor', PriceFloor],\n      ['tickSize', { kind: 'option', type: 'u64' }],\n      ['gapTickSizePercentage', { kind: 'option', type: 'u8' }],\n    ]),\n  ]);\n\n  instruction = 1;\n  /// How many winners are allowed for this auction. See AuctionData.\n  winners: WinnerLimit;\n  /// End time is the cut-off point that the auction is forced to end by. See AuctionData.\n  endAuctionAt: BN | null;\n  /// Gap time is how much time after the previous bid where the auction ends. See AuctionData.\n  auctionGap: BN | null;\n  /// Token mint for the SPL token used for bidding.\n  tokenMint: StringPublicKey;\n  /// Authority\n  authority: StringPublicKey;\n  /// The resource being auctioned. See AuctionData.\n  resource: StringPublicKey;\n  priceFloor: PriceFloor;\n  tickSize: BN | null;\n  gapTickSizePercentage: number | null;\n}\n\ntype CreateAuctionParams = {\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  creator: PublicKey;\n  args: CreateAuctionArgs;\n};\n\nexport class CreateAuction extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateAuctionParams) {\n    super(options);\n    const { args, auction, auctionExtended, creator } = params;\n\n    const data = CreateAuctionArgs.serialize(args);\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: creator,\n            isSigner: true,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Account } from '../../../Account';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  bidderPubkey: StringPublicKey;\n  auctionPubkey: StringPublicKey;\n  lastBid: BN;\n  lastBidTimestamp: BN;\n  cancelled: boolean;\n};\nexport class BidderMetadataData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['bidderPubkey', 'pubkeyAsString'],\n    ['auctionPubkey', 'pubkeyAsString'],\n    ['lastBid', 'u64'],\n    ['lastBidTimestamp', 'u64'],\n    ['cancelled', 'u8'],\n  ]);\n\n  // Relationship with the bidder who's metadata this covers.\n  bidderPubkey: StringPublicKey;\n  // Relationship with the auction this bid was placed on.\n  auctionPubkey: StringPublicKey;\n  // Amount that the user bid.\n  lastBid: BN;\n  // Tracks the last time this user bid.\n  lastBidTimestamp: BN;\n  // Whether the last bid the user made was cancelled. This should also be enough to know if the\n  // user is a winner, as if cancelled it implies previous bids were also cancelled.\n  cancelled: boolean;\n}\n\nexport class BidderMetadata extends Account<BidderMetadataData> {\n  static readonly DATA_SIZE = 32 + 32 + 8 + 8 + 1;\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(AuctionProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!BidderMetadata.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = BidderMetadataData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data.length === BidderMetadata.DATA_SIZE;\n  }\n\n  static getPDA(auction: AnyPublicKey, bidder: AnyPublicKey) {\n    return AuctionProgram.findProgramAddress([\n      Buffer.from(AuctionProgram.PREFIX),\n      AuctionProgram.PUBKEY.toBuffer(),\n      new PublicKey(auction).toBuffer(),\n      new PublicKey(bidder).toBuffer(),\n      Buffer.from('metadata'),\n    ]);\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { AccountInfo, PublicKey } from '@solana/web3.js';\nimport { Account } from '../../../Account';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  bidderPot: StringPublicKey;\n  bidderAct: StringPublicKey;\n  auctionAct: StringPublicKey;\n  emptied: boolean;\n};\nexport class BidderPotData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['bidderPot', 'pubkeyAsString'],\n    ['bidderAct', 'pubkeyAsString'],\n    ['auctionAct', 'pubkeyAsString'],\n    ['emptied', 'u8'],\n  ]);\n\n  /// Points at actual pot that is a token account\n  bidderPot: StringPublicKey;\n  bidderAct: StringPublicKey;\n  auctionAct: StringPublicKey;\n  emptied: boolean;\n}\n\nexport class BidderPot extends Account<BidderPotData> {\n  static readonly DATA_SIZE = 32 + 32 + 32 + 1;\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(AuctionProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!BidderPot.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = BidderPotData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data.length === BidderPot.DATA_SIZE;\n  }\n\n  static getPDA(auction: AnyPublicKey, bidder: AnyPublicKey) {\n    return AuctionProgram.findProgramAddress([\n      Buffer.from(AuctionProgram.PREFIX),\n      AuctionProgram.PUBKEY.toBuffer(),\n      new PublicKey(auction).toBuffer(),\n      new PublicKey(bidder).toBuffer(),\n    ]);\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  totalUncancelledBids: BN;\n  tickSize: BN | null;\n  gapTickSizePercentage: number | null;\n  instantSalePrice: BN | null;\n  name: number[] | null;\n};\nexport class AuctionDataExtended extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['totalUncancelledBids', 'u64'],\n    ['tickSize', { kind: 'option', type: 'u64' }],\n    ['gapTickSizePercentage', { kind: 'option', type: 'u8' }],\n    ['instantSalePrice', { kind: 'option', type: 'u64' }],\n    ['name', { kind: 'option', type: [32] }],\n  ]);\n\n  totalUncancelledBids: BN;\n  tickSize: BN | null;\n  gapTickSizePercentage: number | null;\n  instantSalePrice: BN | null;\n  name: number[] | null;\n}\n\nexport class AuctionExtended extends Account<AuctionDataExtended> {\n  static readonly DATA_SIZE = 8 + 9 + 2 + 200;\n\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(AuctionProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!AuctionExtended.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = AuctionDataExtended.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data.length === AuctionExtended.DATA_SIZE;\n  }\n\n  static getPDA(vault: AnyPublicKey) {\n    return AuctionProgram.findProgramAddress([\n      Buffer.from(AuctionProgram.PREFIX),\n      AuctionProgram.PUBKEY.toBuffer(),\n      new PublicKey(vault).toBuffer(),\n      Buffer.from(AuctionProgram.EXTENDED),\n    ]);\n  }\n}\n","import { StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_CLOCK_PUBKEY,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { AuctionProgram } from '../AuctionProgram';\n\nexport class CancelBidArgs extends Borsh.Data<{ resource: StringPublicKey }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['resource', 'pubkeyAsString'],\n  ]);\n\n  instruction = 0;\n  resource: StringPublicKey;\n}\n\ntype CancelBidParams = {\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  bidderPot: PublicKey;\n  bidderMeta: PublicKey;\n  bidder: PublicKey;\n  bidderToken: PublicKey;\n  bidderPotToken: PublicKey;\n  tokenMint: PublicKey;\n  resource: PublicKey;\n};\n\nexport class CancelBid extends Transaction {\n  constructor(options: TransactionCtorFields, params: CancelBidParams) {\n    super(options);\n    const {\n      auction,\n      auctionExtended,\n      bidderPot,\n      bidderMeta,\n      bidder,\n      bidderToken,\n      bidderPotToken,\n      tokenMint,\n      resource,\n    } = params;\n\n    const data = CancelBidArgs.serialize({ resource: resource.toString() });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: bidder,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: bidderToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPot,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPotToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderMeta,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: SYSVAR_CLOCK_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_CLOCK_PUBKEY,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Transaction } from '../../../Transaction';\nimport { StringPublicKey } from '@metaplex/types';\nimport BN from 'bn.js';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\n\nexport class PlaceBidArgs extends Borsh.Data<{ resource: StringPublicKey; amount: BN }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['amount', 'u64'],\n    ['resource', 'pubkeyAsString'],\n  ]);\n\n  instruction = 6;\n  resource: StringPublicKey;\n  amount: BN;\n}\n\ntype PlaceBidParams = {\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  bidderPot: PublicKey;\n  bidderMeta: PublicKey;\n  bidder: PublicKey;\n  bidderToken: PublicKey;\n  bidderPotToken: PublicKey;\n  tokenMint: PublicKey;\n  transferAuthority: PublicKey;\n  resource: PublicKey;\n  amount: BN;\n};\n\nexport class PlaceBid extends Transaction {\n  constructor(options: TransactionCtorFields, params: PlaceBidParams) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      auction,\n      auctionExtended,\n      bidderPot,\n      bidderMeta,\n      bidder,\n      bidderToken,\n      bidderPotToken,\n      tokenMint,\n      transferAuthority,\n      resource,\n      amount,\n    } = params;\n\n    const data = PlaceBidArgs.serialize({ resource: resource.toString(), amount });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: bidder,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: bidderToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPot,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPotToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderMeta,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_CLOCK_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { AuctionProgram } from '../AuctionProgram';\nimport { Transaction } from '../../../Transaction';\n\nexport class SetAuctionAuthorityArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 5;\n}\n\ntype SetAuctionAuthorityParams = {\n  auction: PublicKey;\n  currentAuthority: PublicKey;\n  newAuthority: PublicKey;\n};\n\nexport class SetAuctionAuthority extends Transaction {\n  constructor(options: TransactionCtorFields, params: SetAuctionAuthorityParams) {\n    super(options);\n    const { auction, currentAuthority, newAuthority } = params;\n\n    const data = SetAuctionAuthorityArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: currentAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: newAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: AuctionProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { BidRedemptionTicket, WINNER_INDEX_OFFSETS } from './BidRedemptionTicket';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport {\n  ERROR_DEPRECATED_ACCOUNT_DATA,\n  ERROR_INVALID_ACCOUNT_DATA,\n  ERROR_INVALID_OWNER,\n} from '@metaplex/errors';\nimport { Auction } from '../../auction';\nimport { Buffer } from 'buffer';\n\nexport enum AuctionManagerStatus {\n  Initialized,\n  Validated,\n  Running,\n  Disbursing,\n  Finished,\n}\n\nexport class AuctionManagerStateV2 extends Borsh.Data<{\n  status: AuctionManagerStatus;\n  safetyConfigItemsValidated: BN;\n  bidsPushedToAcceptPayment: BN;\n  hasParticipation: boolean;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['status', 'u8'],\n    ['safetyConfigItemsValidated', 'u64'],\n    ['bidsPushedToAcceptPayment', 'u64'],\n    ['hasParticipation', 'u8'],\n  ]);\n\n  status: AuctionManagerStatus = AuctionManagerStatus.Initialized;\n  safetyConfigItemsValidated: BN = new BN(0);\n  bidsPushedToAcceptPayment: BN = new BN(0);\n  hasParticipation = false;\n}\n\ntype Args = {\n  store: StringPublicKey;\n  authority: StringPublicKey;\n  auction: StringPublicKey;\n  vault: StringPublicKey;\n  acceptPayment: StringPublicKey;\n  state: AuctionManagerStateV2;\n};\nexport class AuctionManagerV2Data extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...AuctionManagerStateV2.SCHEMA,\n    ...this.struct([\n      ['key', 'u8'],\n      ['store', 'pubkeyAsString'],\n      ['authority', 'pubkeyAsString'],\n      ['auction', 'pubkeyAsString'],\n      ['vault', 'pubkeyAsString'],\n      ['acceptPayment', 'pubkeyAsString'],\n      ['state', AuctionManagerStateV2],\n    ]),\n  ]);\n\n  key: MetaplexKey;\n  store: StringPublicKey;\n  authority: StringPublicKey;\n  auction: StringPublicKey;\n  vault: StringPublicKey;\n  acceptPayment: StringPublicKey;\n  state: AuctionManagerStateV2;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.AuctionManagerV2;\n  }\n}\n\nexport class AuctionManager extends Account<AuctionManagerV2Data> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (AuctionManager.isAuctionManagerV1(this.info.data)) {\n      throw ERROR_DEPRECATED_ACCOUNT_DATA();\n    } else if (AuctionManager.isAuctionManagerV2(this.info.data)) {\n      this.data = AuctionManagerV2Data.deserialize(this.info.data);\n    } else {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n  }\n\n  static isCompatible(data: Buffer) {\n    return AuctionManager.isAuctionManagerV1(data) || AuctionManager.isAuctionManagerV2(data);\n  }\n\n  static isAuctionManagerV1(data: Buffer) {\n    return data[0] === MetaplexKey.AuctionManagerV1;\n  }\n\n  static isAuctionManagerV2(data: Buffer) {\n    return data[0] === MetaplexKey.AuctionManagerV2;\n  }\n\n  static getPDA(auction: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      new PublicKey(auction).toBuffer(),\n    ]);\n  }\n\n  static async findMany(\n    connection: Connection,\n    filters: { store?: AnyPublicKey; authority?: AnyPublicKey } = {},\n  ) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for AuctionManagerV2 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.AuctionManagerV2])),\n            },\n          },\n          // Filter for assigned to store\n          filters.store && {\n            memcmp: {\n              offset: 1,\n              bytes: new PublicKey(filters.store).toBase58(),\n            },\n          },\n          // Filter for assigned to authority\n          filters.authority && {\n            memcmp: {\n              offset: 33,\n              bytes: new PublicKey(filters.authority).toBase58(),\n            },\n          },\n        ].filter(Boolean),\n      })\n    ).map((account) => AuctionManager.from(account));\n  }\n\n  async getAuction(connection: Connection) {\n    return Auction.load(connection, this.data.auction);\n  }\n\n  async getBidRedemptionTickets(connection: Connection, haveWinnerIndex = true) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for BidRedemptionTicketV2 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.BidRedemptionTicketV2])),\n            },\n          },\n          // Filter for assigned to this auction manager\n          {\n            memcmp: {\n              offset: WINNER_INDEX_OFFSETS[+haveWinnerIndex],\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => BidRedemptionTicket.from(account));\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { getBNFromData, TupleNumericType } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\nexport enum WinningConfigType {\n  /// You may be selling your one-of-a-kind NFT for the first time, but not it's accompanying Metadata,\n  /// of which you would like to retain ownership. You get 100% of the payment the first sale, then\n  /// royalties forever after.\n  ///\n  /// You may be re-selling something like a Limited/Open Edition print from another auction,\n  /// a master edition record token by itself (Without accompanying metadata/printing ownership), etc.\n  /// This means artists will get royalty fees according to the top level royalty % on the metadata\n  /// split according to their percentages of contribution.\n  ///\n  /// No metadata ownership is transferred in this instruction, which means while you may be transferring\n  /// the token for a limited/open edition away, you would still be (nominally) the owner of the limited edition\n  /// metadata, though it confers no rights or privileges of any kind.\n  TokenOnlyTransfer,\n  /// Means you are auctioning off the master edition record and it's metadata ownership as well as the\n  /// token itself. The other person will be able to mint authorization tokens and make changes to the\n  /// artwork.\n  FullRightsTransfer,\n  /// Means you are using authorization tokens to print off editions during the auction using\n  /// from a MasterEditionV1\n  PrintingV1,\n  /// Means you are using the MasterEditionV2 to print off editions\n  PrintingV2,\n  /// Means you are using a MasterEditionV2 as a participation prize.\n  Participation,\n}\n\nexport enum WinningConstraint {\n  NoParticipationPrize = 0,\n  ParticipationPrizeGiven = 1,\n}\n\nexport enum NonWinningConstraint {\n  NoParticipationPrize = 0,\n  GivenForFixedPrice = 1,\n  GivenForBidPrice = 2,\n}\n\nexport interface AmountRange {\n  amount: BN;\n  length: BN;\n}\n\nexport interface ParticipationConfigV2 {\n  winnerConstraint: WinningConstraint;\n  nonWinningConstraint: NonWinningConstraint;\n  fixedPrice: BN | null;\n}\n\nexport interface ParticipationStateV2 {\n  collectedToAcceptPayment: BN;\n}\n\nexport interface SafetyDepositConfigData {\n  key: MetaplexKey;\n  auctionManager: StringPublicKey;\n  order: BN;\n  winningConfigType: WinningConfigType;\n  amountType: TupleNumericType;\n  lengthType: TupleNumericType;\n  amountRanges: AmountRange[];\n  participationConfig: ParticipationConfigV2 | null;\n  participationState: ParticipationStateV2 | null;\n}\n\nexport class SafetyDepositConfig extends Account<SafetyDepositConfigData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!SafetyDepositConfig.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.SafetyDepositConfigV1;\n  }\n\n  static async getPDA(auctionManager: AnyPublicKey, safetyDeposit: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(auctionManager).toBuffer(),\n      new PublicKey(safetyDeposit).toBuffer(),\n    ]);\n  }\n}\n\nconst deserialize = (buffer: Buffer) => {\n  const data: SafetyDepositConfigData = {\n    key: MetaplexKey.SafetyDepositConfigV1,\n    auctionManager: bs58.encode(buffer.slice(1, 33)),\n    order: new BN(buffer.slice(33, 41), 'le'),\n    winningConfigType: buffer[41],\n    amountType: buffer[42],\n    lengthType: buffer[43],\n    amountRanges: [],\n    participationConfig: null,\n    participationState: null,\n  };\n\n  const lengthOfArray = new BN(buffer.slice(44, 48), 'le');\n  let offset = 48;\n\n  for (let i = 0; i < lengthOfArray.toNumber(); i++) {\n    const amount = getBNFromData(buffer, offset, data.amountType);\n    offset += data.amountType;\n    const length = getBNFromData(buffer, offset, data.lengthType);\n    offset += data.lengthType;\n    data.amountRanges.push({ amount, length });\n  }\n\n  if (buffer[offset] == 0) {\n    offset += 1;\n    data.participationConfig = null;\n  } else {\n    // pick up participation config manually\n    const winnerConstraint = buffer[offset + 1];\n    const nonWinningConstraint = buffer[offset + 2];\n    let fixedPrice: BN | null = null;\n    offset += 3;\n\n    if (buffer[offset] == 1) {\n      fixedPrice = new BN(buffer.slice(offset + 1, offset + 9), 'le');\n      offset += 9;\n    } else {\n      offset += 1;\n    }\n    data.participationConfig = {\n      winnerConstraint,\n      nonWinningConstraint,\n      fixedPrice,\n    };\n  }\n\n  if (buffer[offset] == 0) {\n    offset += 1;\n    data.participationState = null;\n  } else {\n    // pick up participation state manually\n    const collectedToAcceptPayment = new BN(buffer.slice(offset + 1, offset + 9), 'le');\n    offset += 9;\n    data.participationState = {\n      collectedToAcceptPayment,\n    };\n  }\n\n  return data;\n};\n","import { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = { recipient: StringPublicKey; amountPaid: BN };\nexport class PayoutTicketData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['recipient', 'pubkeyAsString'],\n    ['amountPaid', 'u64'],\n  ]);\n\n  key: MetaplexKey;\n  recipient: StringPublicKey;\n  amountPaid: BN;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.PayoutTicketV1;\n  }\n}\n\nexport class PayoutTicket extends Account<PayoutTicketData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!PayoutTicket.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = PayoutTicketData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.PayoutTicketV1;\n  }\n\n  static async getPayoutTicketsByRecipient(connection: Connection, recipient: AnyPublicKey) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for PayoutTicketV1 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.PayoutTicketV1])),\n            },\n          },\n          // Filter for assigned to recipient\n          {\n            memcmp: {\n              offset: 1,\n              bytes: new PublicKey(recipient).toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => PayoutTicket.from(account));\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  metadata: string;\n  supplySnapshot: BN;\n  expectedRedemptions: BN;\n  redemptions: BN;\n};\nexport class PrizeTrackingTicketData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['metadata', 'pubkeyAsString'],\n    ['supplySnapshot', 'u64'],\n    ['expectedRedemptions', 'u64'],\n    ['redemptions', 'u64'],\n  ]);\n\n  key: MetaplexKey = MetaplexKey.PrizeTrackingTicketV1;\n  metadata: string;\n  supplySnapshot: BN;\n  expectedRedemptions: BN;\n  redemptions: BN;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.PrizeTrackingTicketV1;\n  }\n}\n\nexport class PrizeTrackingTicket extends Account<PrizeTrackingTicketData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!PrizeTrackingTicket.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = PrizeTrackingTicketData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.PrizeTrackingTicketV1;\n  }\n\n  static async getPDA(auctionManager: AnyPublicKey, mint: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(auctionManager).toBuffer(),\n      new PublicKey(mint).toBuffer(),\n    ]);\n  }\n}\n","import { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { MetaplexProgram, MetaplexKey } from '../MetaplexProgram';\nimport { AccountInfo, PublicKey } from '@solana/web3.js';\nimport { Account } from '../../../Account';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = { address: string; activated: boolean };\nexport class WhitelistedCreatorData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['address', 'pubkeyAsString'],\n    ['activated', 'u8'],\n  ]);\n\n  key: MetaplexKey = MetaplexKey.WhitelistedCreatorV1;\n  address: StringPublicKey;\n  activated = true;\n\n  // Populated from name service\n  twitter?: string;\n  name?: string;\n  image?: string;\n  description?: string;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.WhitelistedCreatorV1;\n  }\n}\n\nexport class WhitelistedCreator extends Account<WhitelistedCreatorData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!WhitelistedCreator.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = WhitelistedCreatorData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.WhitelistedCreatorV1;\n  }\n\n  static async getPDA(store: AnyPublicKey, creator: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(store).toBuffer(),\n      new PublicKey(creator).toBuffer(),\n    ]);\n  }\n}\n","import { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { MetaplexProgram, MetaplexKey } from '../MetaplexProgram';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport bs58 from 'bs58';\nimport { WhitelistedCreator } from './WhitelistedCreator';\nimport { AuctionManager } from './AuctionManager';\nimport { Account } from '../../../Account';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  public: boolean;\n  auctionProgram: StringPublicKey;\n  tokenVaultProgram: StringPublicKey;\n  tokenMetadataProgram: StringPublicKey;\n  tokenProgram: StringPublicKey;\n};\nexport class StoreData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['public', 'u8'],\n    ['auctionProgram', 'pubkeyAsString'],\n    ['tokenVaultProgram', 'pubkeyAsString'],\n    ['tokenMetadataProgram', 'pubkeyAsString'],\n    ['tokenProgram', 'pubkeyAsString'],\n  ]);\n\n  key: MetaplexKey = MetaplexKey.StoreV1;\n  public = true;\n  auctionProgram: StringPublicKey;\n  tokenVaultProgram: StringPublicKey;\n  tokenMetadataProgram: StringPublicKey;\n  tokenProgram: StringPublicKey;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetaplexKey.StoreV1;\n  }\n}\n\nexport class Store extends Account<StoreData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!Store.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = StoreData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.StoreV1;\n  }\n\n  static async getPDA(owner: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(owner).toBuffer(),\n    ]);\n  }\n\n  // TODO: we need some filter for current store\n  async getWhitelistedCreators(connection: Connection) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for WhitelistedCreatorV1 keys\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.WhitelistedCreatorV1])),\n            },\n          },\n        ],\n      })\n    ).map((account) => WhitelistedCreator.from(account));\n  }\n\n  async getAuctionManagers(connection: Connection) {\n    return (\n      await MetaplexProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for AuctionManagerV2 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetaplexKey.AuctionManagerV2])),\n            },\n          },\n          // Filter for assigned to this store\n          {\n            memcmp: {\n              offset: 1,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => AuctionManager.from(account));\n  }\n}\n","import { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { getBNFromData, TupleNumericType } from '@metaplex/utils';\nimport { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Buffer } from 'buffer';\nimport { Account } from '../../../Account';\nimport { MetaplexKey, MetaplexProgram } from '../MetaplexProgram';\nimport { AmountRange } from './SafetyDepositConfig';\n\nexport interface AuctionWinnerTokenTypeTrackerData {\n  key: MetaplexKey;\n  amountType: TupleNumericType;\n  lengthType: TupleNumericType;\n  amountRanges: AmountRange[];\n}\n\nexport class AuctionWinnerTokenTypeTracker extends Account<AuctionWinnerTokenTypeTrackerData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetaplexProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!AuctionWinnerTokenTypeTracker.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetaplexKey.AuctionWinnerTokenTypeTrackerV1;\n  }\n\n  static async getPDA(auctionManager: AnyPublicKey) {\n    return MetaplexProgram.findProgramAddress([\n      Buffer.from(MetaplexProgram.PREFIX),\n      MetaplexProgram.PUBKEY.toBuffer(),\n      new PublicKey(auctionManager).toBuffer(),\n      Buffer.from(MetaplexProgram.TOTALS),\n    ]);\n  }\n}\n\nconst deserialize = (buffer: Buffer) => {\n  const data: AuctionWinnerTokenTypeTrackerData = {\n    key: MetaplexKey.SafetyDepositConfigV1,\n    amountType: buffer[1],\n    lengthType: buffer[2],\n    amountRanges: [],\n  };\n\n  const lengthOfArray = new BN(buffer.slice(3, 7), 'le');\n  let offset = 7;\n\n  for (let i = 0; i < lengthOfArray.toNumber(); i++) {\n    const amount = getBNFromData(buffer, offset, data.amountType);\n    offset += data.amountType;\n    const length = getBNFromData(buffer, offset, data.lengthType);\n    offset += data.lengthType;\n    data.amountRanges.push({ amount, length });\n  }\n\n  return data;\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { Program } from '../../Program';\nimport { config } from '../../config';\n\nexport enum VaultKey {\n  Uninitialized = 0,\n  VaultV1 = 3,\n  SafetyDepositBoxV1 = 1,\n  ExternalPriceAccountV1 = 2,\n}\n\nexport enum VaultInstructions {\n  InitVault,\n  AddTokenToInactiveVault,\n  ActivateVault,\n  CombineVault,\n  RedeemShares,\n  WithdrawTokenFromSafetyDepositBox,\n  MintFractionalShares,\n  WithdrawSharesFromTreasury,\n  AddSharesToTreasury,\n  UpdateExternalPriceAccount,\n  SetVaultAuthority,\n}\n\nexport class VaultProgram extends Program {\n  static readonly PREFIX = 'vault';\n  static readonly PUBKEY = new PublicKey(config.programs.vault);\n}\n","import { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { Account } from '../../../Account';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { SafetyDepositBox } from './SafetyDepositBox';\nimport { VaultKey, VaultProgram } from '../VaultProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\nexport class AmountArgs extends Borsh.Data<{\n  instruction: number;\n  amount: BN;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['amount', 'u8'],\n  ]);\n\n  instruction: number;\n  amount: BN;\n}\n\nexport class NumberOfShareArgs extends Borsh.Data<{\n  instruction: number;\n  numberOfShares: BN;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['numberOfShares', 'u8'],\n  ]);\n\n  instruction: number;\n  numberOfShares: BN;\n}\n\nexport enum VaultState {\n  Inactive = 0,\n  Active = 1,\n  Combined = 2,\n  Deactivated = 3,\n}\n\ntype Args = {\n  tokenProgram: StringPublicKey;\n  fractionMint: StringPublicKey;\n  authority: StringPublicKey;\n  fractionTreasury: StringPublicKey;\n  redeemTreasury: StringPublicKey;\n  allowFurtherShareCreation: boolean;\n  pricingLookupAddress: StringPublicKey;\n  tokenTypeCount: number;\n  state: VaultState;\n  lockedPricePerShare: BN;\n};\nexport class VaultData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['tokenProgram', 'pubkeyAsString'],\n    ['fractionMint', 'pubkeyAsString'],\n    ['authority', 'pubkeyAsString'],\n    ['fractionTreasury', 'pubkeyAsString'],\n    ['redeemTreasury', 'pubkeyAsString'],\n    ['allowFurtherShareCreation', 'u8'],\n    ['pricingLookupAddress', 'pubkeyAsString'],\n    ['tokenTypeCount', 'u8'],\n    ['state', 'u8'],\n    ['lockedPricePerShare', 'u64'],\n  ]);\n\n  key: VaultKey;\n  /// Store token program used\n  tokenProgram: StringPublicKey;\n  /// Mint that produces the fractional shares\n  fractionMint: StringPublicKey;\n  /// Authority who can make changes to the vault\n  authority: StringPublicKey;\n  /// treasury where fractional shares are held for redemption by authority\n  fractionTreasury: StringPublicKey;\n  /// treasury where monies are held for fractional share holders to redeem(burn) shares once buyout is made\n  redeemTreasury: StringPublicKey;\n  /// Can authority mint more shares from fraction_mint after activation\n  allowFurtherShareCreation: boolean;\n\n  /// Must point at an ExternalPriceAccount, which gives permission and price for buyout.\n  pricingLookupAddress: StringPublicKey;\n  /// In inactive state, we use this to set the order key on Safety Deposit Boxes being added and\n  /// then we increment it and save so the next safety deposit box gets the next number.\n  /// In the Combined state during token redemption by authority, we use it as a decrementing counter each time\n  /// The authority of the vault withdrawals a Safety Deposit contents to count down how many\n  /// are left to be opened and closed down. Once this hits zero, and the fraction mint has zero shares,\n  /// then we can deactivate the vault.\n  tokenTypeCount: number;\n  state: VaultState;\n\n  /// Once combination happens, we copy price per share to vault so that if something nefarious happens\n  /// to external price account, like price change, we still have the math 'saved' for use in our calcs\n  lockedPricePerShare: BN;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = VaultKey.VaultV1;\n  }\n}\n\nexport class Vault extends Account<VaultData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(VaultProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!Vault.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = VaultData.deserialize(this.info.data);\n  }\n\n  static async getPDA(pubkey: AnyPublicKey) {\n    return VaultProgram.findProgramAddress([\n      Buffer.from(VaultProgram.PREFIX),\n      VaultProgram.PUBKEY.toBuffer(),\n      new PublicKey(pubkey).toBuffer(),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === VaultKey.VaultV1;\n  }\n\n  async getSafetyDepositBoxes(connection: Connection) {\n    return (\n      await VaultProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for SafetyDepositBoxV1 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([VaultKey.SafetyDepositBoxV1])),\n            },\n          },\n          // Filter for assigned to this vault\n          {\n            memcmp: {\n              offset: 1,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => SafetyDepositBox.from(account));\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { VaultKey, VaultProgram } from '../VaultProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = {\n  vault: StringPublicKey;\n  tokenMint: StringPublicKey;\n  store: StringPublicKey;\n  order: number;\n};\nexport class SafetyDepositBoxData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['vault', 'pubkeyAsString'],\n    ['tokenMint', 'pubkeyAsString'],\n    ['store', 'pubkeyAsString'],\n    ['order', 'u8'],\n  ]);\n\n  /// Each token type in a vault has it's own box that contains it's mint and a look-back\n  key: VaultKey;\n  /// VaultKey pointing to the parent vault\n  vault: StringPublicKey;\n  /// This particular token's mint\n  tokenMint: StringPublicKey;\n  /// Account that stores the tokens under management\n  store: StringPublicKey;\n  /// the order in the array of registries\n  order: number;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = VaultKey.SafetyDepositBoxV1;\n  }\n}\n\nexport class SafetyDepositBox extends Account<SafetyDepositBoxData> {\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(VaultProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!SafetyDepositBox.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = SafetyDepositBoxData.deserialize(this.info.data);\n  }\n\n  static async getPDA(vault: AnyPublicKey, mint: AnyPublicKey) {\n    return VaultProgram.findProgramAddress([\n      Buffer.from(VaultProgram.PREFIX),\n      new PublicKey(vault).toBuffer(),\n      new PublicKey(mint).toBuffer(),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === VaultKey.SafetyDepositBoxV1;\n  }\n}\n","import { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { AccountInfo } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Buffer } from 'buffer';\nimport { Account } from '../../../Account';\nimport { VaultKey, VaultProgram } from '../VaultProgram';\n\ntype Args = {\n  pricePerShare: BN;\n  priceMint: StringPublicKey;\n  allowedToCombine: boolean;\n};\nexport class ExternalPriceAccountData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['pricePerShare', 'u64'],\n    ['priceMint', 'pubkeyAsString'],\n    ['allowedToCombine', 'u8'],\n  ]);\n\n  key: VaultKey;\n  pricePerShare: BN;\n  /// Mint of the currency we are pricing the shares against, should be same as redeem_treasury.\n  /// Most likely will be USDC mint most of the time.\n  priceMint: StringPublicKey;\n  /// Whether or not combination has been allowed for this vault.\n  allowedToCombine: boolean;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = VaultKey.ExternalPriceAccountV1;\n  }\n}\n\nexport class ExternalPriceAccount extends Account<ExternalPriceAccountData> {\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(VaultProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!ExternalPriceAccount.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = ExternalPriceAccountData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === VaultKey.ExternalPriceAccountV1;\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class CombineVaultArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = VaultInstructions.CombineVault;\n}\n\ntype CombineVaultParams = {\n  vault: PublicKey;\n  fractionMint: PublicKey;\n  fractionTreasury: PublicKey;\n  outstandingShareTokenAccount: PublicKey;\n  payingTokenAccount: PublicKey;\n  redeemTreasury: PublicKey;\n  vaultAuthority: PublicKey;\n  transferAuthority: PublicKey;\n  externalPriceAccount: PublicKey;\n  burnAuthority: PublicKey;\n  newVaultAuthority?: PublicKey;\n};\n\nexport class CombineVault extends Transaction {\n  constructor(options: TransactionCtorFields, params: CombineVaultParams) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      fractionMint,\n      fractionTreasury,\n      outstandingShareTokenAccount,\n      payingTokenAccount,\n      redeemTreasury,\n      newVaultAuthority,\n      transferAuthority,\n      externalPriceAccount,\n      burnAuthority,\n    } = params;\n\n    const data = CombineVaultArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: outstandingShareTokenAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: payingTokenAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: redeemTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: newVaultAuthority || vaultAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: burnAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: externalPriceAccount,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class InitVaultArgs extends Borsh.Data<{ allowFurtherShareCreation: boolean }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['allowFurtherShareCreation', 'u8'],\n  ]);\n\n  instruction = VaultInstructions.InitVault;\n  allowFurtherShareCreation = false;\n}\n\ntype InitVaultParams = {\n  vault: PublicKey;\n  vaultAuthority: PublicKey;\n  fractionalMint: PublicKey;\n  redeemTreasury: PublicKey;\n  fractionalTreasury: PublicKey;\n  pricingLookupAddress: PublicKey;\n  allowFurtherShareCreation: boolean;\n};\n\nexport class InitVault extends Transaction {\n  constructor(options: TransactionCtorFields, params: InitVaultParams) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      fractionalMint,\n      redeemTreasury,\n      fractionalTreasury,\n      pricingLookupAddress,\n      allowFurtherShareCreation,\n    } = params;\n\n    const data = InitVaultArgs.serialize({ allowFurtherShareCreation });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: fractionalMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: redeemTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionalTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: pricingLookupAddress,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class RedeemSharesArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = VaultInstructions.RedeemShares;\n}\n\ntype RedeemSharsParams = {\n  burnAuthority: PublicKey;\n  fractionMint: PublicKey;\n  outstandingSharesAccount: PublicKey;\n  proceedsAccount: PublicKey;\n  redeemTreasury: PublicKey;\n  transferAuthority: PublicKey;\n  vault: PublicKey;\n};\n\nexport class RedeemShares extends Transaction {\n  constructor(options: TransactionCtorFields, params: RedeemSharsParams) {\n    super(options);\n    const {\n      vault,\n      burnAuthority,\n      fractionMint,\n      outstandingSharesAccount,\n      proceedsAccount,\n      redeemTreasury,\n      transferAuthority,\n    } = params;\n\n    const data = RedeemSharesArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: outstandingSharesAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: proceedsAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: redeemTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n\n          {\n            pubkey: burnAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class SetVaultAuthorityArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = VaultInstructions.SetVaultAuthority;\n}\n\ntype SetVaultAuthorityParams = {\n  vault: PublicKey;\n  currentAuthority: PublicKey;\n  newAuthority: PublicKey;\n};\n\nexport class SetVaultAuthority extends Transaction {\n  constructor(options: TransactionCtorFields, params: SetVaultAuthorityParams) {\n    super(options);\n    const { vault, currentAuthority, newAuthority } = params;\n\n    const data = SetVaultAuthorityArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: currentAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: newAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { ExternalPriceAccountData } from '../accounts/ExternalPriceAccount';\nimport { VaultProgram } from '../VaultProgram';\n\nexport class UpdateExternalPriceAccountArgs extends Borsh.Data<{\n  externalPriceAccount: ExternalPriceAccountData;\n}> {\n  static readonly SCHEMA = new Map([\n    ...ExternalPriceAccountData.SCHEMA,\n    ...this.struct([['instruction', 'u8']]),\n  ]);\n\n  instruction = VaultInstructions.UpdateExternalPriceAccount;\n  externalPriceAccount: ExternalPriceAccountData;\n}\n\ntype UpdateExternalPriceAccountParams = {\n  externalPriceAccount: PublicKey;\n  externalPriceAccountData: ExternalPriceAccountData;\n};\n\nexport class UpdateExternalPriceAccount extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<UpdateExternalPriceAccountParams>,\n  ) {\n    super(options);\n    const { externalPriceAccount, externalPriceAccountData } = params;\n\n    const data = UpdateExternalPriceAccountArgs.serialize({\n      externalPriceAccount: externalPriceAccountData,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: externalPriceAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { PublicKey } from '@solana/web3.js';\nimport { Program } from '../../Program';\nimport { config } from '../../config';\n\nexport enum MetadataKey {\n  Uninitialized = 0,\n  MetadataV1 = 4,\n  EditionV1 = 1,\n  MasterEditionV1 = 2,\n  MasterEditionV2 = 6,\n  EditionMarker = 7,\n}\n\nexport class MetadataProgram extends Program {\n  static readonly PREFIX = 'metadata';\n  static readonly PUBKEY = new PublicKey(config.programs.metadata);\n}\n","import { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { NumberOfShareArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype ActivateVaultParams = {\n  vault: PublicKey;\n  fractionMint: PublicKey;\n  fractionTreasury: PublicKey;\n  fractionMintAuthority: PublicKey;\n  vaultAuthority: PublicKey;\n  numberOfShares: BN;\n};\n\nexport class ActivateVault extends Transaction {\n  constructor(options: TransactionCtorFields, params: ActivateVaultParams) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      fractionMint,\n      fractionTreasury,\n      fractionMintAuthority,\n      numberOfShares,\n    } = params;\n\n    const data = NumberOfShareArgs.serialize({\n      instruction: VaultInstructions.ActivateVault,\n      numberOfShares,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMintAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { NumberOfShareArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype AddSharesToTreasuryParams = {\n  vault: PublicKey;\n  source: PublicKey;\n  fractionTreasury: PublicKey;\n  vaultAuthority: PublicKey;\n  transferAuthority: PublicKey;\n  numberOfShares: BN;\n};\n\nexport class AddSharesToTreasury extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<AddSharesToTreasuryParams>) {\n    super(options);\n    const { vault, vaultAuthority, source, transferAuthority, fractionTreasury, numberOfShares } =\n      params;\n\n    const data = NumberOfShareArgs.serialize({\n      instruction: VaultInstructions.AddSharesToTreasury,\n      numberOfShares,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: source,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { AmountArgs } from '../accounts/Vault';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../VaultProgram';\nimport { VaultInstructions } from '../VaultProgram';\n\ntype AddTokenToInactiveVaultParams = {\n  vault: PublicKey;\n  vaultAuthority: PublicKey;\n  tokenMint: PublicKey;\n  tokenAccount: PublicKey;\n  tokenStoreAccount: PublicKey;\n  transferAuthority: PublicKey;\n  safetyDepositBox: PublicKey;\n  amount: BN;\n};\n\nexport class AddTokenToInactiveVault extends Transaction {\n  constructor(options: TransactionCtorFields, params: AddTokenToInactiveVaultParams) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      vault,\n      vaultAuthority,\n      tokenAccount,\n      tokenStoreAccount,\n      transferAuthority,\n      safetyDepositBox,\n      amount,\n    } = params;\n\n    const data = AmountArgs.serialize({\n      instruction: VaultInstructions.AddTokenToInactiveVault,\n      amount,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: safetyDepositBox,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenStoreAccount,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { NumberOfShareArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype MintFractionalSharesParams = {\n  vault: PublicKey;\n  fractionMint: PublicKey;\n  fractionMintAuthority: PublicKey;\n  fractionTreasury: PublicKey;\n  vaultAuthority: PublicKey;\n  numberOfShares: BN;\n};\n\nexport class MintFractionalShares extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<MintFractionalSharesParams>) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      fractionMint,\n      fractionTreasury,\n      fractionMintAuthority,\n      numberOfShares,\n    } = params;\n\n    const data = NumberOfShareArgs.serialize({\n      instruction: VaultInstructions.MintFractionalShares,\n      numberOfShares,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: fractionMintAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { NumberOfShareArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype WithdrawSharesFromTreasuryParams = {\n  vault: PublicKey;\n  destination: PublicKey;\n  fractionTreasury: PublicKey;\n  vaultAuthority: PublicKey;\n  transferAuthority: PublicKey;\n  numberOfShares: BN;\n};\n\nexport class WithdrawSharesFromTreasury extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<WithdrawSharesFromTreasuryParams>,\n  ) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      destination,\n      transferAuthority,\n      fractionTreasury,\n      numberOfShares,\n    } = params;\n\n    const data = NumberOfShareArgs.serialize({\n      instruction: VaultInstructions.WithdrawSharesFromTreasury,\n      numberOfShares,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: destination,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionTreasury,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { VaultInstructions } from '../VaultProgram';\nimport { Transaction } from '../../../Transaction';\nimport { AmountArgs } from '../accounts/Vault';\nimport { VaultProgram } from '../VaultProgram';\n\ntype WithdrawTokenFromSafetyDepositBoxParams = {\n  vault: PublicKey;\n  destination: PublicKey;\n  safetyDepositBox: PublicKey;\n  fractionMint: PublicKey;\n  vaultAuthority: PublicKey;\n  transferAuthority: PublicKey;\n  amount: BN;\n};\n\nexport class WithdrawTokenFromSafetyDepositBox extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<WithdrawTokenFromSafetyDepositBoxParams>,\n  ) {\n    super(options);\n    const {\n      vault,\n      vaultAuthority,\n      store,\n      destination,\n      fractionMint,\n      transferAuthority,\n      safetyDepositBox,\n      amount,\n    } = params;\n\n    const data = AmountArgs.serialize({\n      instruction: VaultInstructions.WithdrawTokenFromSafetyDepositBox,\n      amount,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: destination,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDepositBox,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vaultAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: VaultProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { MetadataProgram, MetadataKey } from '../MetadataProgram';\nimport { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Account } from '../../../Account';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype Args = { key: MetadataKey; parent: StringPublicKey; edition: BN };\nexport class EditionData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['parent', 'pubkeyAsString'],\n    ['edition', 'u64'],\n  ]);\n  key: MetadataKey;\n  /// Points at MasterEdition struct\n  parent: StringPublicKey;\n  /// Starting at 0 for master record, this is incremented for each edition minted.\n  edition: BN;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetadataKey.EditionV1;\n  }\n}\n\nexport class Edition extends Account<EditionData> {\n  static readonly EDITION_PREFIX = 'edition';\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(MetadataProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!Edition.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = EditionData.deserialize(this.info.data);\n  }\n\n  static async getPDA(mint: AnyPublicKey) {\n    return MetadataProgram.findProgramAddress([\n      Buffer.from(MetadataProgram.PREFIX),\n      MetadataProgram.PUBKEY.toBuffer(),\n      new PublicKey(mint).toBuffer(),\n      Buffer.from(Edition.EDITION_PREFIX),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetadataKey.EditionV1;\n  }\n}\n","import { AccountInfo, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Account } from '../../../Account';\nimport { Edition } from './Edition';\nimport { MetadataKey, MetadataProgram } from '../MetadataProgram';\nimport { Buffer } from 'buffer';\n\ntype Args = { key: MetadataKey; ledger: number[] };\nexport class EditionMarkerData extends Borsh.Data<Args> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['ledger', [31]],\n  ]);\n\n  key: MetadataKey;\n  ledger: number[];\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetadataKey.EditionMarker;\n  }\n\n  editionTaken(edition: number) {\n    const editionOffset = edition % EditionMarker.DATA_SIZE;\n    const indexOffset = Math.floor(editionOffset / 8);\n\n    if (indexOffset > 30) {\n      throw Error('Bad index for edition');\n    }\n\n    const positionInBitsetFromRight = 7 - (editionOffset % 8);\n    const mask = Math.pow(2, positionInBitsetFromRight);\n    const appliedMask = this.ledger[indexOffset] & mask;\n\n    return appliedMask != 0;\n  }\n}\n\nexport class EditionMarker extends Account<EditionMarkerData> {\n  static readonly DATA_SIZE = 248;\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(MetadataProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!EditionMarker.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = EditionMarkerData.deserialize(this.info.data);\n  }\n\n  static async getPDA(mint: AnyPublicKey, edition: BN) {\n    const editionNumber = Math.floor(edition.toNumber() / 248);\n\n    return MetadataProgram.findProgramAddress([\n      Buffer.from(MetadataProgram.PREFIX),\n      MetadataProgram.PUBKEY.toBuffer(),\n      new PublicKey(mint).toBuffer(),\n      Buffer.from(Edition.EDITION_PREFIX),\n      Buffer.from(editionNumber.toString()),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetadataKey.EditionMarker;\n  }\n}\n","import { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport bs58 from 'bs58';\nimport { Account } from '../../../Account';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { Edition } from './Edition';\nimport { MetadataKey, MetadataProgram } from '../MetadataProgram';\nimport { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { Buffer } from 'buffer';\n\ntype ArgsV1 = {\n  key: MetadataKey;\n  supply: BN;\n  maxSupply?: BN;\n  printingMint: StringPublicKey;\n  oneTimePrintingAuthorizationMint: StringPublicKey;\n};\nexport class MasterEditionV1Data extends Borsh.Data<ArgsV1> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['supply', 'u64'],\n    ['maxSupply', { kind: 'option', type: 'u64' }],\n    ['printingMint', 'pubkeyAsString'],\n    ['oneTimePrintingAuthorizationMint', 'pubkeyAsString'],\n  ]);\n\n  key: MetadataKey;\n  supply: BN;\n  maxSupply?: BN;\n  /// Can be used to mint tokens that give one-time permission to mint a single limited edition.\n  printingMint: StringPublicKey;\n  /// If you don't know how many printing tokens you are going to need, but you do know\n  /// you are going to need some amount in the future, you can use a token from this mint.\n  /// Coming back to token metadata with one of these tokens allows you to mint (one time)\n  /// any number of printing tokens you want. This is used for instance by Auction Manager\n  /// with participation NFTs, where we dont know how many people will bid and need participation\n  /// printing tokens to redeem, so we give it ONE of these tokens to use after the auction is over,\n  /// because when the auction begins we just dont know how many printing tokens we will need,\n  /// but at the end we will. At the end it then burns this token with token-metadata to\n  /// get the printing tokens it needs to give to bidders. Each bidder then redeems a printing token\n  /// to get their limited editions.\n  oneTimePrintingAuthorizationMint: StringPublicKey;\n\n  constructor(args: ArgsV1) {\n    super(args);\n    this.key = MetadataKey.MasterEditionV1;\n  }\n}\n\ntype ArgsV2 = { key: MetadataKey; supply: BN; maxSupply?: BN };\nexport class MasterEditionV2Data extends Borsh.Data<ArgsV2> {\n  static readonly SCHEMA = this.struct([\n    ['key', 'u8'],\n    ['supply', 'u64'],\n    ['maxSupply', { kind: 'option', type: 'u64' }],\n  ]);\n\n  key: MetadataKey;\n  supply: BN;\n  maxSupply?: BN;\n\n  constructor(args: ArgsV2) {\n    super(args);\n    this.key = MetadataKey.MasterEditionV2;\n  }\n}\n\nexport type MasterEditionData = MasterEditionV1Data | MasterEditionV2Data;\n\nexport class MasterEdition extends Account<MasterEditionData> {\n  static readonly EDITION_PREFIX = 'edition';\n\n  constructor(key: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(key, info);\n\n    if (!this.assertOwner(MetadataProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (MasterEdition.isMasterEditionV1(this.info.data)) {\n      this.data = MasterEditionV1Data.deserialize(this.info.data);\n    } else if (MasterEdition.isMasterEditionV2(this.info.data)) {\n      this.data = MasterEditionV2Data.deserialize(this.info.data);\n    } else {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n  }\n\n  static async getPDA(mint: AnyPublicKey) {\n    return MetadataProgram.findProgramAddress([\n      Buffer.from(MetadataProgram.PREFIX),\n      MetadataProgram.PUBKEY.toBuffer(),\n      new PublicKey(mint).toBuffer(),\n      Buffer.from(MasterEdition.EDITION_PREFIX),\n    ]);\n  }\n\n  static isCompatible(data: Buffer) {\n    return MasterEdition.isMasterEditionV1(data) || MasterEdition.isMasterEditionV2(data);\n  }\n\n  static isMasterEditionV1(data: Buffer) {\n    return data[0] === MetadataKey.MasterEditionV1;\n  }\n\n  static isMasterEditionV2(data: Buffer) {\n    return data[0] === MetadataKey.MasterEditionV2;\n  }\n\n  async getEditions(connection: Connection) {\n    return (\n      await MetadataProgram.getProgramAccounts(connection, {\n        filters: [\n          // Filter for EditionV1 by key\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(Buffer.from([MetadataKey.EditionV1])),\n            },\n          },\n          // Filter for assigned to this master edition\n          {\n            memcmp: {\n              offset: 1,\n              bytes: this.pubkey.toBase58(),\n            },\n          },\n        ],\n      })\n    ).map((account) => Edition.from(account));\n  }\n}\n","import { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey } from '@metaplex/types';\nimport {\n  AccountInfo as TokenAccountInfo,\n  AccountLayout,\n  TOKEN_PROGRAM_ID,\n  u64,\n} from '@solana/spl-token';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport { Buffer } from 'buffer';\nimport { Account } from '../../../Account';\n\nexport class TokenAccount extends Account<TokenAccountInfo> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(TOKEN_PROGRAM_ID)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!TokenAccount.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data.length === AccountLayout.span;\n  }\n\n  static async getTokenAccountsByOwner(connection: Connection, owner: AnyPublicKey) {\n    return (\n      await connection.getTokenAccountsByOwner(new PublicKey(owner), {\n        programId: TOKEN_PROGRAM_ID,\n      })\n    ).value.map(({ pubkey, account }) => new TokenAccount(pubkey, account));\n  }\n}\n\nexport const deserialize = (data: Buffer) => {\n  const accountInfo = AccountLayout.decode(data);\n  accountInfo.mint = new PublicKey(accountInfo.mint);\n  accountInfo.owner = new PublicKey(accountInfo.owner);\n  accountInfo.amount = u64.fromBuffer(accountInfo.amount);\n\n  if (accountInfo.delegateOption === 0) {\n    accountInfo.delegate = null;\n    accountInfo.delegatedAmount = new u64(0);\n  } else {\n    accountInfo.delegate = new PublicKey(accountInfo.delegate);\n    accountInfo.delegatedAmount = u64.fromBuffer(accountInfo.delegatedAmount);\n  }\n\n  accountInfo.isInitialized = accountInfo.state !== 0;\n  accountInfo.isFrozen = accountInfo.state === 2;\n\n  if (accountInfo.isNativeOption === 1) {\n    accountInfo.rentExemptReserve = u64.fromBuffer(accountInfo.isNative);\n    accountInfo.isNative = true;\n  } else {\n    accountInfo.rentExemptReserve = null;\n    accountInfo.isNative = false;\n  }\n\n  if (accountInfo.closeAuthorityOption === 0) {\n    accountInfo.closeAuthority = null;\n  } else {\n    accountInfo.closeAuthority = new PublicKey(accountInfo.closeAuthority);\n  }\n\n  return accountInfo;\n};\n","import { Transaction } from '../../../Transaction';\nimport { MintLayout, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, SystemProgram, TransactionCtorFields } from '@solana/web3.js';\n\ntype CreateMintParams = {\n  newAccountPubkey: PublicKey;\n  lamports: number;\n  decimals?: number;\n  owner?: PublicKey;\n  freezeAuthority?: PublicKey;\n};\n\nexport class CreateMint extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateMintParams) {\n    const { feePayer } = options;\n    const { newAccountPubkey, lamports, decimals, owner, freezeAuthority } = params;\n\n    super(options);\n\n    this.add(\n      SystemProgram.createAccount({\n        fromPubkey: feePayer,\n        newAccountPubkey,\n        lamports,\n        space: MintLayout.span,\n        programId: TOKEN_PROGRAM_ID,\n      }),\n    );\n\n    this.add(\n      Token.createInitMintInstruction(\n        TOKEN_PROGRAM_ID,\n        newAccountPubkey,\n        decimals ?? 0,\n        owner ?? feePayer,\n        freezeAuthority ?? feePayer,\n      ),\n    );\n  }\n}\n","import { Transaction } from '../../../Transaction';\nimport { AccountLayout, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, SystemProgram, TransactionCtorFields } from '@solana/web3.js';\n\ntype CreateTokenAccountParams = {\n  newAccountPubkey: PublicKey;\n  lamports: number;\n  mint: PublicKey;\n  owner?: PublicKey;\n};\n\nexport class CreateTokenAccount extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateTokenAccountParams) {\n    const { feePayer } = options;\n    const { newAccountPubkey, lamports, mint, owner } = params;\n\n    super(options);\n\n    this.add(\n      SystemProgram.createAccount({\n        fromPubkey: feePayer,\n        newAccountPubkey,\n        lamports,\n        space: AccountLayout.span,\n        programId: TOKEN_PROGRAM_ID,\n      }),\n    );\n\n    this.add(\n      Token.createInitAccountInstruction(\n        TOKEN_PROGRAM_ID,\n        mint,\n        newAccountPubkey,\n        owner ?? feePayer,\n      ),\n    );\n  }\n}\n","import { Transaction } from '../../../Transaction';\nimport { ASSOCIATED_TOKEN_PROGRAM_ID, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Buffer } from 'buffer';\n\ntype CreateAssociatedTokenAccountParams = {\n  associatedTokenAddress: PublicKey;\n  walletAddress?: PublicKey;\n  splTokenMintAddress: PublicKey;\n};\n\nexport class CreateAssociatedTokenAccount extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateAssociatedTokenAccountParams) {\n    const { feePayer } = options;\n    const { associatedTokenAddress, walletAddress, splTokenMintAddress } = params;\n    super(options);\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: true,\n          },\n          {\n            pubkey: associatedTokenAddress,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: walletAddress ?? feePayer,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: splTokenMintAddress,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: ASSOCIATED_TOKEN_PROGRAM_ID,\n        data: Buffer.from([]),\n      }),\n    );\n  }\n}\n","import { Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { PublicKey, TransactionCtorFields } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Transaction } from '../../../Transaction';\n\ntype MintToParams = {\n  mint: PublicKey;\n  dest: PublicKey;\n  amount: number | BN;\n  authority?: PublicKey;\n};\n\nexport class MintTo extends Transaction {\n  constructor(options: TransactionCtorFields, params: MintToParams) {\n    const { feePayer } = options;\n    const { mint, dest, authority, amount } = params;\n\n    super(options);\n\n    this.add(\n      Token.createMintToInstruction(\n        TOKEN_PROGRAM_ID,\n        mint,\n        dest,\n        authority ?? feePayer,\n        [],\n        new BN(amount).toNumber(),\n      ),\n    );\n  }\n}\n","import { ERROR_INVALID_ACCOUNT_DATA, ERROR_INVALID_OWNER } from '@metaplex/errors';\nimport { AnyPublicKey, StringPublicKey } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { AccountInfo, Connection, PublicKey } from '@solana/web3.js';\nimport bs58 from 'bs58';\nimport { Buffer } from 'buffer';\nimport { config } from '../../../config';\nimport { Account } from '../../../Account';\nimport { TokenAccount } from '../../shared';\nimport { MetadataKey, MetadataProgram } from '../MetadataProgram';\nimport { Edition } from './Edition';\nimport { MasterEdition } from './MasterEdition';\n\ntype CreatorArgs = { address: StringPublicKey; verified: boolean; share: number };\nexport class Creator extends Borsh.Data<CreatorArgs> {\n  static readonly SCHEMA = this.struct([\n    ['address', 'pubkeyAsString'],\n    ['verified', 'u8'],\n    ['share', 'u8'],\n  ]);\n\n  address: StringPublicKey;\n  verified: boolean;\n  share: number;\n}\n\ntype DataArgs = {\n  name: string;\n  symbol: string;\n  uri: string;\n  sellerFeeBasisPoints: number;\n  creators: Creator[] | null;\n};\nexport class MetadataDataData extends Borsh.Data<DataArgs> {\n  static readonly SCHEMA = new Map([\n    ...Creator.SCHEMA,\n    ...this.struct([\n      ['name', 'string'],\n      ['symbol', 'string'],\n      ['uri', 'string'],\n      ['sellerFeeBasisPoints', 'u16'],\n      ['creators', { kind: 'option', type: [Creator] }],\n    ]),\n  ]);\n\n  name: string;\n  symbol: string;\n  uri: string;\n  sellerFeeBasisPoints: number;\n  creators: Creator[] | null;\n\n  constructor(args: DataArgs) {\n    super(args);\n\n    const METADATA_REPLACE = new RegExp('\\u0000', 'g');\n    this.name = args.name.replace(METADATA_REPLACE, '');\n    this.uri = args.uri.replace(METADATA_REPLACE, '');\n    this.symbol = args.symbol.replace(METADATA_REPLACE, '');\n  }\n}\n\ntype Args = {\n  updateAuthority: StringPublicKey;\n  mint: StringPublicKey;\n  data: MetadataDataData;\n  primarySaleHappened: boolean;\n  isMutable: boolean;\n  editionNonce: number | null;\n};\nexport class MetadataData extends Borsh.Data<Args> {\n  static readonly SCHEMA = new Map([\n    ...MetadataDataData.SCHEMA,\n    ...this.struct([\n      ['key', 'u8'],\n      ['updateAuthority', 'pubkeyAsString'],\n      ['mint', 'pubkeyAsString'],\n      ['data', MetadataDataData],\n      ['primarySaleHappened', 'u8'], // bool\n      ['isMutable', 'u8'], // bool\n    ]),\n  ]);\n\n  key: MetadataKey;\n  updateAuthority: StringPublicKey;\n  mint: StringPublicKey;\n  data: MetadataDataData;\n  primarySaleHappened: boolean;\n  isMutable: boolean;\n  editionNonce: number | null;\n\n  // set lazy\n  masterEdition?: StringPublicKey;\n  edition?: StringPublicKey;\n\n  constructor(args: Args) {\n    super(args);\n    this.key = MetadataKey.MetadataV1;\n  }\n}\n\nexport class Metadata extends Account<MetadataData> {\n  constructor(pubkey: AnyPublicKey, info: AccountInfo<Buffer>) {\n    super(pubkey, info);\n\n    if (!this.assertOwner(MetadataProgram.PUBKEY)) {\n      throw ERROR_INVALID_OWNER();\n    }\n\n    if (!Metadata.isCompatible(this.info.data)) {\n      throw ERROR_INVALID_ACCOUNT_DATA();\n    }\n\n    this.data = MetadataData.deserialize(this.info.data);\n  }\n\n  static isCompatible(data: Buffer) {\n    return data[0] === MetadataKey.MetadataV1;\n  }\n\n  static async getPDA(mint: AnyPublicKey) {\n    return MetadataProgram.findProgramAddress([\n      Buffer.from(MetadataProgram.PREFIX),\n      MetadataProgram.PUBKEY.toBuffer(),\n      new PublicKey(mint).toBuffer(),\n    ]);\n  }\n\n  static async findMany(\n    connection: Connection,\n    filters: {\n      mint?: AnyPublicKey;\n      updateAuthority?: AnyPublicKey;\n      creators?: AnyPublicKey[];\n    } = {},\n  ) {\n    const baseFilters = [\n      // Filter for MetadataV1 by key\n      {\n        memcmp: {\n          offset: 0,\n          bytes: bs58.encode(Buffer.from([MetadataKey.MetadataV1])),\n        },\n      },\n      // Filter for assigned to update authority\n      filters.updateAuthority && {\n        memcmp: {\n          offset: 1,\n          bytes: new PublicKey(filters.updateAuthority).toBase58(),\n        },\n      },\n      // Filter for assigned to mint\n      filters.mint && {\n        memcmp: {\n          offset: 33,\n          bytes: new PublicKey(filters.mint).toBase58(),\n        },\n      },\n    ].filter(Boolean);\n\n    if (filters.creators) {\n      return (\n        await Promise.all(\n          Array.from(Array(config.maxCreatorLimit).keys()).reduce(\n            (prev, i) => [\n              ...prev,\n              ...filters.creators.map((pubkey) =>\n                MetadataProgram.getProgramAccounts(connection, {\n                  filters: [\n                    ...baseFilters,\n                    {\n                      memcmp: {\n                        offset: computeCreatorOffset(i),\n                        bytes: new PublicKey(pubkey).toBase58(),\n                      },\n                    },\n                  ],\n                }),\n              ),\n            ],\n            [],\n          ),\n        )\n      )\n        .flat()\n        .map((account) => Metadata.from(account));\n    } else {\n      return (await MetadataProgram.getProgramAccounts(connection, { filters: baseFilters })).map(\n        (account) => Metadata.from(account),\n      );\n    }\n  }\n\n  static async findByOwner(connection: Connection, owner: AnyPublicKey) {\n    const accounts = await TokenAccount.getTokenAccountsByOwner(connection, owner);\n    const accountMap = new Map(accounts.map(({ data }) => [data.mint.toString(), data]));\n    // Slow method\n    const allMetadata = await Metadata.findMany(connection);\n\n    return allMetadata.filter(\n      (metadata) =>\n        accountMap.has(metadata.data.mint) &&\n        (accountMap?.get(metadata.data.mint)?.amount?.toNumber() || 0) > 0,\n    );\n  }\n\n  static async findByOwnerV2(connection: Connection, owner: AnyPublicKey) {\n    const accounts = await TokenAccount.getTokenAccountsByOwner(connection, owner);\n    const accountsWithAmount = accounts\n      .map(({ data }) => data)\n      .filter(({ amount }) => amount?.toNumber() > 0);\n\n    return (\n      await Promise.all(\n        accountsWithAmount.map(({ mint }) => Metadata.findMany(connection, { mint })),\n      )\n    ).flat();\n  }\n\n  static async getEdition(connection: Connection, mint: AnyPublicKey) {\n    const pda = await Edition.getPDA(mint);\n    const info = await Account.getInfo(connection, pda);\n    const key = info?.data[0];\n\n    switch (key) {\n      case MetadataKey.EditionV1:\n        return new Edition(pda, info);\n      case MetadataKey.MasterEditionV1:\n      case MetadataKey.MasterEditionV2:\n        return new MasterEdition(pda, info);\n      default:\n        return;\n    }\n  }\n}\n\nexport const MAX_NAME_LENGTH = 32;\nexport const MAX_SYMBOL_LENGTH = 10;\nexport const MAX_URI_LENGTH = 200;\nexport const MAX_CREATOR_LEN = 32 + 1 + 1;\n\nexport const computeCreatorOffset = (index: number) => {\n  return (\n    1 + // key\n    32 + // update auth\n    32 + // mint\n    4 + // name string length\n    MAX_NAME_LENGTH + // name\n    4 + // uri string length\n    MAX_URI_LENGTH + // uri\n    4 + // symbol string length\n    MAX_SYMBOL_LENGTH + // symbol\n    2 + // seller fee basis points\n    1 + // whether or not there is a creators vec\n    4 + // creators vec length\n    index * MAX_CREATOR_LEN\n  );\n};\n","import { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataDataData } from '../accounts/Metadata';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class CreateMetadataArgs extends Borsh.Data<{ data: MetadataDataData; isMutable: boolean }> {\n  static readonly SCHEMA = new Map([\n    ...MetadataDataData.SCHEMA,\n    ...this.struct([\n      ['instruction', 'u8'],\n      ['data', MetadataDataData],\n      ['isMutable', 'u8'],\n    ]),\n  ]);\n\n  instruction = 0;\n  data: MetadataDataData;\n  isMutable: boolean;\n}\n\ntype CreateMetadataParams = {\n  metadata: PublicKey;\n  metadataData: MetadataDataData;\n  updateAuthority: PublicKey;\n  mint: PublicKey;\n  mintAuthority: PublicKey;\n};\n\nexport class CreateMetadata extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateMetadataParams) {\n    super(options);\n    const { feePayer } = options;\n    const { metadata, metadataData, updateAuthority, mint, mintAuthority } = params;\n\n    const data = CreateMetadataArgs.serialize({\n      data: metadataData,\n      isMutable: true,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: mint,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: mintAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: updateAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataDataData } from '../accounts/Metadata';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class UpdateMetadataArgs extends Borsh.Data<{\n  data?: MetadataDataData;\n  updateAuthority?: string;\n  primarySaleHappened: boolean | null;\n}> {\n  static readonly SCHEMA = new Map([\n    ...MetadataDataData.SCHEMA,\n    ...this.struct([\n      ['instruction', 'u8'],\n      ['data', { kind: 'option', type: MetadataDataData }],\n      ['updateAuthority', { kind: 'option', type: 'pubkeyAsString' }],\n      ['primarySaleHappened', { kind: 'option', type: 'u8' }],\n    ]),\n  ]);\n\n  instruction = 1;\n  // NOTE: do not add \"=null\". This breaks serialization.\n  data: MetadataDataData | null;\n  updateAuthority: string | null;\n  primarySaleHappened: boolean | null;\n}\n\ntype UpdateMetadataParams = {\n  metadata: PublicKey;\n  updateAuthority: PublicKey;\n  metadataData?: MetadataDataData;\n  newUpdateAuthority?: PublicKey;\n  primarySaleHappened?: boolean | null;\n};\n\nexport class UpdateMetadata extends Transaction {\n  constructor(options: TransactionCtorFields, params: UpdateMetadataParams) {\n    super(options);\n    const { metadata, metadataData, updateAuthority, newUpdateAuthority, primarySaleHappened } =\n      params;\n\n    const data = UpdateMetadataArgs.serialize({\n      data: metadataData,\n      updateAuthority: newUpdateAuthority && newUpdateAuthority.toString(),\n      primarySaleHappened: primarySaleHappened || null,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: updateAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class CreateMasterEditionArgs extends Borsh.Data<{ maxSupply: BN | null }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['maxSupply', { kind: 'option', type: 'u64' }],\n  ]);\n\n  instruction = 10;\n  maxSupply: BN | null;\n}\n\ntype CreateMasterEditionParams = {\n  edition: PublicKey;\n  metadata: PublicKey;\n  updateAuthority: PublicKey;\n  mint: PublicKey;\n  mintAuthority: PublicKey;\n  maxSupply?: BN;\n};\n\nexport class CreateMasterEdition extends Transaction {\n  constructor(options: TransactionCtorFields, params: CreateMasterEditionParams) {\n    super(options);\n    const { feePayer } = options;\n    const { edition, metadata, updateAuthority, mint, mintAuthority, maxSupply } = params;\n\n    const data = CreateMasterEditionArgs.serialize({\n      maxSupply: maxSupply || null,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: edition,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: mint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: updateAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: mintAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: false,\n          },\n\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class MintNewEditionFromMasterEditionViaTokenArgs extends Borsh.Data<{ edition: BN }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['edition', 'u64'],\n  ]);\n\n  instruction = 11;\n  edition: BN;\n}\n\ntype MintNewEditionFromMasterEditionViaTokenParams = {\n  edition: PublicKey;\n  metadata: PublicKey;\n  updateAuthority: PublicKey;\n  mint: PublicKey;\n  mintAuthority: PublicKey;\n  masterEdition: PublicKey;\n  masterMetadata: PublicKey;\n  editionMarker: PublicKey;\n  tokenOwner: PublicKey;\n  tokenAccount: PublicKey;\n  editionValue: BN;\n};\n\nexport class MintNewEditionFromMasterEditionViaToken extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: MintNewEditionFromMasterEditionViaTokenParams,\n  ) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      edition,\n      metadata,\n      updateAuthority,\n      masterEdition,\n      masterMetadata,\n      mint,\n      editionMarker,\n      mintAuthority,\n      tokenOwner,\n      tokenAccount,\n      editionValue,\n    } = params;\n\n    const data = MintNewEditionFromMasterEditionViaTokenArgs.serialize({\n      edition: editionValue,\n    });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: edition,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: masterEdition,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: mint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: editionMarker,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: mintAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: tokenOwner,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: tokenAccount,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: updateAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: masterMetadata,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class UpdatePrimarySaleHappenedViaTokenArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 4;\n}\n\ntype UpdatePrimarySaleHappenedViaTokenParams = {\n  metadata: PublicKey;\n  owner: PublicKey;\n  tokenAccount: PublicKey;\n};\n\nexport class UpdatePrimarySaleHappenedViaToken extends Transaction {\n  constructor(options: TransactionCtorFields, params: UpdatePrimarySaleHappenedViaTokenParams) {\n    super(options);\n    const { metadata, owner, tokenAccount } = params;\n\n    const data = UpdatePrimarySaleHappenedViaTokenArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: owner,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: tokenAccount,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport { PublicKey, TransactionCtorFields, TransactionInstruction } from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../MetadataProgram';\n\nexport class SignMetadataArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 7;\n}\n\ntype SignMetadataParams = {\n  metadata: PublicKey;\n  creator: PublicKey;\n};\n\nexport class SignMetadata extends Transaction {\n  constructor(options: TransactionCtorFields, params: SignMetadataParams) {\n    super(options);\n    const { metadata, creator } = params;\n\n    const data = SignMetadataArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: metadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: creator,\n            isSigner: true,\n            isWritable: false,\n          },\n        ],\n        programId: MetadataProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../../metadata';\nimport { VaultProgram } from '../../vault';\nimport { MetaplexProgram } from '../MetaplexProgram';\n\nexport class RedeemBidArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 2;\n}\n\nexport enum ProxyCallAddress {\n  RedeemBid = 0,\n  RedeemFullRightsTransferBid = 1,\n}\n\nexport class RedeemUnusedWinningConfigItemsAsAuctioneerArgs extends Borsh.Data<{\n  winningConfigItemIndex: number;\n  proxyCall: ProxyCallAddress;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['winningConfigItemIndex', 'u8'],\n    ['proxyCall', 'u8'],\n  ]);\n\n  instruction = 12;\n  winningConfigItemIndex: number;\n  proxyCall: ProxyCallAddress;\n}\n\ntype RedeemBidParams = {\n  vault: PublicKey;\n  auction: PublicKey;\n  auctionManager: PublicKey;\n  bidRedemption: PublicKey;\n  bidderMeta: PublicKey;\n  safetyDepositTokenStore: PublicKey;\n  destination: PublicKey;\n  safetyDeposit: PublicKey;\n  fractionMint: PublicKey;\n  bidder: PublicKey;\n  isPrintingType: boolean;\n  safetyDepositConfig: PublicKey;\n  auctionExtended: PublicKey;\n  transferAuthority: PublicKey;\n  masterEdition?: PublicKey;\n  reservationList?: PublicKey;\n  // If this is an auctioneer trying to reclaim a specific winning index, pass it here,\n  // and this will instead call the proxy route instead of the real one, wrapping the original\n  // redemption call in an override call that forces the winning index if the auctioneer is authorized.\n  auctioneerReclaimIndex?: number;\n};\n\nexport class RedeemBid extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<RedeemBidParams>) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidRedemption,\n      bidderMeta: bidMetadata,\n      safetyDepositTokenStore,\n      destination,\n      safetyDeposit,\n      fractionMint,\n      bidder,\n      isPrintingType,\n      safetyDepositConfig,\n      transferAuthority,\n      masterEdition,\n      reservationList,\n      auctioneerReclaimIndex,\n    } = params;\n\n    const data = auctioneerReclaimIndex\n      ? RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({\n          winningConfigItemIndex: auctioneerReclaimIndex,\n          proxyCall: ProxyCallAddress.RedeemBid,\n        })\n      : RedeemBidArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDepositTokenStore,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: destination,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidRedemption,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDeposit,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidMetadata,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidder,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: VaultProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: MetadataProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: safetyDepositConfig,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: false,\n          },\n          ...(isPrintingType && masterEdition && reservationList\n            ? [\n                {\n                  pubkey: masterEdition,\n                  isSigner: false,\n                  isWritable: true,\n                },\n                {\n                  pubkey: reservationList,\n                  isSigner: false,\n                  isWritable: true,\n                },\n              ]\n            : []),\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Borsh } from '@metaplex/utils';\nimport { Transaction } from '../../../Transaction';\nimport { VaultProgram } from '../../vault';\nimport { MetadataProgram } from '../../metadata';\nimport { AuctionProgram } from '../../auction';\nimport { MetaplexProgram } from '../MetaplexProgram';\nimport { ParamsWithStore } from '@metaplex/types';\n\nexport class SetStoreArgs extends Borsh.Data<{ public: boolean }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['public', 'u8'],\n  ]);\n\n  instruction = 8;\n  public: boolean;\n}\n\ntype SetStoreParams = {\n  admin: PublicKey;\n  isPublic: boolean;\n};\n\nexport class SetStore extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<SetStoreParams>) {\n    super(options);\n    const { feePayer } = options;\n    const { admin, store, isPublic } = params;\n\n    const data = SetStoreArgs.serialize({ public: isPublic });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: admin,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },\n          {\n            pubkey: VaultProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: MetadataProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: AuctionProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetaplexProgram } from '../MetaplexProgram';\n\nexport class SetWhitelistedCreatorArgs extends Borsh.Data<{ activated: boolean }> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['activated', 'u8'],\n  ]);\n\n  instruction = 9;\n  activated: boolean;\n}\n\ntype SetWhitelistedCreatorParams = {\n  admin: PublicKey;\n  whitelistedCreatorPDA: PublicKey;\n  creator: PublicKey;\n  activated: boolean;\n};\n\nexport class SetWhitelistedCreator extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<SetWhitelistedCreatorParams>,\n  ) {\n    super(options);\n    const { feePayer } = options;\n    const { admin, whitelistedCreatorPDA, store, creator, activated } = params;\n\n    const data = SetWhitelistedCreatorArgs.serialize({ activated });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: whitelistedCreatorPDA,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: admin,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: creator,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Borsh } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SYSVAR_CLOCK_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { MetaplexProgram } from '../MetaplexProgram';\nimport { Transaction } from '../../../Transaction';\nimport { AuctionProgram } from '../../auction';\nimport { ParamsWithStore } from '@metaplex/types';\n\nexport class StartAuctionArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 5;\n}\n\ntype StartAuctionParams = {\n  auction: PublicKey;\n  auctionManager: PublicKey;\n  auctionManagerAuthority: PublicKey;\n};\n\nexport class StartAuction extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<StartAuctionParams>) {\n    super(options);\n    const { store, auction, auctionManager, auctionManagerAuthority } = params;\n\n    const data = StartAuctionArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auctionManagerAuthority,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: AuctionProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_CLOCK_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh, TupleNumericType } from '@metaplex/utils';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetaplexProgram } from '../MetaplexProgram';\n\nexport class InitAuctionManagerV2Args extends Borsh.Data<{\n  amountType: TupleNumericType;\n  lengthType: TupleNumericType;\n  maxRanges: BN;\n}> {\n  static readonly SCHEMA = this.struct([\n    ['instruction', 'u8'],\n    ['amountType', 'u8'],\n    ['lengthType', 'u8'],\n    ['maxRanges', 'u64'],\n  ]);\n\n  instruction = 17;\n  amountType: TupleNumericType = TupleNumericType.U8;\n  lengthType: TupleNumericType = TupleNumericType.U8;\n  maxRanges: BN = new BN(1);\n}\n\ntype InitAuctionManagerV2Params = {\n  vault: PublicKey;\n  auction: PublicKey;\n  auctionManager: PublicKey;\n  auctionManagerAuthority: PublicKey;\n  acceptPaymentAccount: PublicKey;\n  tokenTracker: PublicKey;\n  amountType: TupleNumericType;\n  lengthType: TupleNumericType;\n  maxRanges: BN;\n};\n\nexport class InitAuctionManagerV2 extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<InitAuctionManagerV2Params>) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      store,\n      vault,\n      auction,\n      auctionManager,\n      auctionManagerAuthority,\n      acceptPaymentAccount,\n      tokenTracker,\n      amountType,\n      lengthType,\n      maxRanges,\n    } = params;\n\n    const data = InitAuctionManagerV2Args.serialize({ amountType, lengthType, maxRanges });\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: tokenTracker,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: auctionManagerAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: acceptPaymentAccount,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SYSVAR_CLOCK_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { AuctionProgram } from '../../auction';\nimport { MetaplexProgram } from '../MetaplexProgram';\n\nexport class ClaimBidArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 6;\n}\n\ntype ClaimBidParams = {\n  vault: PublicKey;\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  auctionManager: PublicKey;\n  acceptPayment: PublicKey;\n  bidder: PublicKey;\n  bidderPot: PublicKey;\n  bidderPotToken: PublicKey;\n  tokenMint: PublicKey;\n};\n\nexport class ClaimBid extends Transaction {\n  constructor(options: TransactionCtorFields, params: ParamsWithStore<ClaimBidParams>) {\n    super(options);\n    const {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidder,\n      bidderPot,\n      bidderPotToken,\n      acceptPayment,\n      tokenMint,\n    } = params;\n\n    const data = ClaimBidArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: acceptPayment,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPotToken,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidderPot,\n            isSigner: false,\n            isWritable: true,\n          },\n\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidder,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: tokenMint,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: AuctionProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_CLOCK_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { ParamsWithStore } from '@metaplex/types';\nimport { Borsh } from '@metaplex/utils';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { Transaction } from '../../../Transaction';\nimport { MetadataProgram } from '../../metadata';\nimport { VaultProgram } from '../../vault';\nimport { MetaplexProgram } from '../MetaplexProgram';\nimport { ProxyCallAddress, RedeemUnusedWinningConfigItemsAsAuctioneerArgs } from './RedeemBid';\n\nexport class RedeemFullRightsTransferBidArgs extends Borsh.Data {\n  static readonly SCHEMA = this.struct([['instruction', 'u8']]);\n\n  instruction = 3;\n}\n\ntype RedeemFullRightsTransferBidParams = {\n  vault: PublicKey;\n  auction: PublicKey;\n  auctionManager: PublicKey;\n  bidRedemption: PublicKey;\n  bidMetadata: PublicKey;\n  safetyDepositTokenStore: PublicKey;\n  destination: PublicKey;\n  safetyDeposit: PublicKey;\n  fractionMint: PublicKey;\n  bidder: PublicKey;\n  safetyDepositConfig: PublicKey;\n  auctionExtended: PublicKey;\n  transferAuthority: PublicKey;\n  masterMetadata: PublicKey;\n  newAuthority: PublicKey;\n  auctioneerReclaimIndex?: number;\n};\n\nexport class RedeemFullRightsTransferBid extends Transaction {\n  constructor(\n    options: TransactionCtorFields,\n    params: ParamsWithStore<RedeemFullRightsTransferBidParams>,\n  ) {\n    super(options);\n    const { feePayer } = options;\n    const {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidRedemption,\n      bidMetadata,\n      safetyDepositTokenStore,\n      destination,\n      safetyDeposit,\n      fractionMint,\n      bidder,\n      safetyDepositConfig,\n      transferAuthority,\n      masterMetadata,\n      newAuthority,\n      auctioneerReclaimIndex,\n    } = params;\n\n    const data = auctioneerReclaimIndex\n      ? RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({\n          winningConfigItemIndex: auctioneerReclaimIndex,\n          proxyCall: ProxyCallAddress.RedeemFullRightsTransferBid,\n        })\n      : RedeemFullRightsTransferBidArgs.serialize();\n\n    this.add(\n      new TransactionInstruction({\n        keys: [\n          {\n            pubkey: auctionManager,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDepositTokenStore,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: destination,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: bidRedemption,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: safetyDeposit,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: vault,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: fractionMint,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: auction,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidMetadata,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: bidder,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: feePayer,\n            isSigner: true,\n            isWritable: false,\n          },\n          {\n            pubkey: TOKEN_PROGRAM_ID,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: VaultProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: MetadataProgram.PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: store,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SystemProgram.programId,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: SYSVAR_RENT_PUBKEY,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: masterMetadata,\n            isSigner: false,\n            isWritable: true,\n          },\n          {\n            pubkey: newAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: transferAuthority,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: safetyDepositConfig,\n            isSigner: false,\n            isWritable: false,\n          },\n          {\n            pubkey: auctionExtended,\n            isSigner: false,\n            isWritable: false,\n          },\n        ],\n        programId: MetaplexProgram.PUBKEY,\n        data,\n      }),\n    );\n  }\n}\n","import { Transaction } from '../../../Transaction';\nimport {\n  PublicKey,\n  SystemProgram,\n  TransactionCtorFields,\n  TransactionInstruction,\n} from '@solana/web3.js';\nimport { config } from '../../../config';\nimport { Buffer } from 'buffer';\n\ntype PayForFilesParams = {\n  lamports: number;\n  fileHashes: Buffer[];\n  arweaveWallet?: PublicKey;\n};\n\nexport class PayForFiles extends Transaction {\n  constructor(options: TransactionCtorFields, params: PayForFilesParams) {\n    const { feePayer } = options;\n    const { lamports, fileHashes, arweaveWallet } = params;\n\n    super(options);\n\n    this.add(\n      SystemProgram.transfer({\n        fromPubkey: feePayer,\n        toPubkey: arweaveWallet ?? new PublicKey(config.arweaveWallet),\n        lamports,\n      }),\n    );\n\n    fileHashes.forEach((data) => {\n      this.add(\n        new TransactionInstruction({\n          keys: [],\n          programId: new PublicKey(config.programs.memo),\n          data,\n        }),\n      );\n    });\n  }\n}\n","import { Connection, Keypair, PublicKey } from '@solana/web3.js';\nimport {\n  ASSOCIATED_TOKEN_PROGRAM_ID,\n  MintLayout,\n  Token,\n  TOKEN_PROGRAM_ID,\n} from '@solana/spl-token';\nimport { CreateAssociatedTokenAccount, CreateMint, MintTo } from '../../programs';\n\nexport async function prepareTokenAccountAndMintTx(connection: Connection, owner: PublicKey) {\n  const mint = Keypair.generate();\n  const mintRent = await connection.getMinimumBalanceForRentExemption(MintLayout.span);\n  const createMintTx = new CreateMint(\n    { feePayer: owner },\n    {\n      newAccountPubkey: mint.publicKey,\n      lamports: mintRent,\n    },\n  );\n\n  const recipient = await Token.getAssociatedTokenAddress(\n    ASSOCIATED_TOKEN_PROGRAM_ID,\n    TOKEN_PROGRAM_ID,\n    mint.publicKey,\n    owner,\n  );\n\n  const createAssociatedTokenAccountTx = new CreateAssociatedTokenAccount(\n    { feePayer: owner },\n    {\n      associatedTokenAddress: recipient,\n      splTokenMintAddress: mint.publicKey,\n    },\n  );\n\n  const mintToTx = new MintTo(\n    { feePayer: owner },\n    {\n      mint: mint.publicKey,\n      dest: recipient,\n      amount: 1,\n    },\n  );\n\n  return { mint, createMintTx, createAssociatedTokenAccountTx, mintToTx };\n}\n","import { Keypair } from '@solana/web3.js';\nimport { Transaction } from '../Transaction';\n\ninterface TransactionsBatchParams {\n  beforeTransactions?: Transaction[];\n  transactions: Transaction[];\n  afterTransactions?: Transaction[];\n}\n\nexport class TransactionsBatch {\n  beforeTransactions: Transaction[];\n  transactions: Transaction[];\n  afterTransactions: Transaction[];\n\n  signers: Keypair[] = [];\n\n  constructor({\n    beforeTransactions = [],\n    transactions,\n    afterTransactions = [],\n  }: TransactionsBatchParams) {\n    this.beforeTransactions = beforeTransactions;\n    this.transactions = transactions;\n    this.afterTransactions = afterTransactions;\n  }\n\n  addSigner(signer: Keypair) {\n    this.signers.push(signer);\n  }\n\n  addBeforeTransaction(transaction: Transaction) {\n    this.beforeTransactions.push(transaction);\n  }\n\n  addTransaction(transaction: Transaction) {\n    this.transactions.push(transaction);\n  }\n\n  addAfterTransaction(transaction: Transaction) {\n    this.afterTransactions.push(transaction);\n  }\n\n  toTransactions() {\n    return [...this.beforeTransactions, ...this.transactions, ...this.afterTransactions];\n  }\n\n  toInstructions() {\n    return this.toTransactions().flatMap((t) => t.instructions);\n  }\n}\n","import { Keypair, PublicKey } from '@solana/web3.js';\nimport { AccountLayout, NATIVE_MINT, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { AuctionExtended, BidderMetadata, BidderPot, CancelBid } from '../programs/auction';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport { AuctionManager } from '../programs/metaplex';\nimport { CreateTokenAccount, Transaction } from '../programs';\n\ninterface ICancelBidParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  bidderPotToken: PublicKey;\n  destAccount?: PublicKey;\n}\n\ninterface ICancelBidResponse {\n  txId: string;\n}\n\nexport const cancelBid = async ({\n  connection,\n  wallet,\n  auction,\n  bidderPotToken,\n  destAccount,\n}: ICancelBidParams): Promise<ICancelBidResponse> => {\n  const bidder = wallet.publicKey;\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const {\n    data: { tokenMint },\n  } = await manager.getAuction(connection);\n\n  const auctionTokenMint = new PublicKey(tokenMint);\n  const vault = new PublicKey(manager.data.vault);\n  const auctionExtended = await AuctionExtended.getPDA(vault);\n  const bidderPot = await BidderPot.getPDA(auction, bidder);\n  const bidderMeta = await BidderMetadata.getPDA(auction, bidder);\n\n  const accountRentExempt = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n  const txBatch = await getCancelBidTransactions({\n    destAccount,\n    bidder,\n    accountRentExempt,\n    bidderPot,\n    bidderPotToken,\n    bidderMeta,\n    auction,\n    auctionExtended,\n    auctionTokenMint,\n    vault,\n  });\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs: txBatch.toTransactions(),\n    signers: txBatch.signers,\n  });\n\n  return { txId };\n};\n\ninterface ICancelBidTransactionsParams {\n  destAccount?: PublicKey;\n  bidder: PublicKey;\n  accountRentExempt: number;\n  bidderPot: PublicKey;\n  bidderPotToken: PublicKey;\n  bidderMeta: PublicKey;\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  auctionTokenMint: PublicKey;\n  vault: PublicKey;\n}\n\nexport const getCancelBidTransactions = async ({\n  destAccount,\n  bidder,\n  accountRentExempt,\n  bidderPot,\n  bidderPotToken,\n  bidderMeta,\n  auction,\n  auctionExtended,\n  auctionTokenMint,\n  vault,\n}: ICancelBidTransactionsParams): Promise<TransactionsBatch> => {\n  const txBatch = new TransactionsBatch({ transactions: [] });\n  if (!destAccount) {\n    const account = Keypair.generate();\n    const createTokenAccountTransaction = new CreateTokenAccount(\n      { feePayer: bidder },\n      {\n        newAccountPubkey: account.publicKey,\n        lamports: accountRentExempt,\n        mint: NATIVE_MINT,\n      },\n    );\n    const closeTokenAccountInstruction = new Transaction().add(\n      Token.createCloseAccountInstruction(TOKEN_PROGRAM_ID, account.publicKey, bidder, bidder, []),\n    );\n    txBatch.addTransaction(createTokenAccountTransaction);\n    txBatch.addAfterTransaction(closeTokenAccountInstruction);\n    txBatch.addSigner(account);\n    destAccount = account.publicKey;\n  }\n\n  const cancelBidTransaction = new CancelBid(\n    { feePayer: bidder },\n    {\n      bidder,\n      bidderToken: destAccount,\n      bidderPot,\n      bidderPotToken,\n      bidderMeta,\n      auction,\n      auctionExtended,\n      tokenMint: auctionTokenMint,\n      resource: vault,\n    },\n  );\n  txBatch.addTransaction(cancelBidTransaction);\n\n  return txBatch;\n};\n","import BN from 'bn.js';\nimport { Keypair, PublicKey } from '@solana/web3.js';\nimport { AccountLayout, NATIVE_MINT, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { AuctionExtended, BidderMetadata, BidderPot, PlaceBid } from '../programs/auction';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport { getCancelBidTransactions } from './cancelBid';\nimport { AuctionManager } from '../programs/metaplex';\nimport { CreateTokenAccount, Transaction } from '../programs';\n\ninterface IPlaceBidParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  bidderPotToken?: PublicKey;\n  // amount in lamports\n  amount: BN;\n}\n\ninterface IPlaceBidResponse {\n  txId: string;\n  bidderPotToken: PublicKey;\n  bidderMeta: PublicKey;\n}\n\nexport const placeBid = async ({\n  connection,\n  wallet,\n  amount,\n  auction,\n  bidderPotToken,\n}: IPlaceBidParams): Promise<IPlaceBidResponse> => {\n  // get data for transactions\n  const bidder = wallet.publicKey;\n  const accountRentExempt = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const {\n    data: { tokenMint },\n  } = await manager.getAuction(connection);\n  const auctionTokenMint = new PublicKey(tokenMint);\n  const vault = new PublicKey(manager.data.vault);\n  const auctionExtended = await AuctionExtended.getPDA(vault);\n  const bidderPot = await BidderPot.getPDA(auction, bidder);\n  const bidderMeta = await BidderMetadata.getPDA(auction, bidder);\n  ////\n\n  let txBatch = new TransactionsBatch({ transactions: [] });\n\n  if (bidderPotToken) {\n    // cancel prev bid\n    txBatch = await getCancelBidTransactions({\n      destAccount: null,\n      bidder,\n      accountRentExempt,\n      bidderPot,\n      bidderPotToken,\n      bidderMeta,\n      auction,\n      auctionExtended,\n      auctionTokenMint,\n      vault,\n    });\n    ////\n  } else {\n    // create a new account for bid\n    const account = Keypair.generate();\n    const createBidderPotTransaction = new CreateTokenAccount(\n      { feePayer: bidder },\n      {\n        newAccountPubkey: account.publicKey,\n        lamports: accountRentExempt,\n        mint: auctionTokenMint,\n        owner: auction,\n      },\n    );\n    txBatch.addSigner(account);\n    txBatch.addTransaction(createBidderPotTransaction);\n    bidderPotToken = account.publicKey;\n    ////\n  }\n\n  // create paying account\n  const payingAccount = Keypair.generate();\n  const createTokenAccountTransaction = new CreateTokenAccount(\n    { feePayer: bidder },\n    {\n      newAccountPubkey: payingAccount.publicKey,\n      // TODO: find out why we put such amount of lamports\n      lamports: amount.toNumber() + accountRentExempt * 3,\n      mint: NATIVE_MINT,\n    },\n  );\n  const closeTokenAccountTransaction = new Transaction().add(\n    Token.createCloseAccountInstruction(\n      TOKEN_PROGRAM_ID,\n      payingAccount.publicKey,\n      bidder,\n      bidder,\n      [],\n    ),\n  );\n  txBatch.addTransaction(createTokenAccountTransaction);\n  txBatch.addAfterTransaction(closeTokenAccountTransaction);\n  txBatch.addSigner(payingAccount);\n  ////\n\n  // transfer authority\n  const transferAuthority = Keypair.generate();\n  const createApproveTransaction = new Transaction().add(\n    Token.createApproveInstruction(\n      TOKEN_PROGRAM_ID,\n      payingAccount.publicKey,\n      transferAuthority.publicKey,\n      bidder,\n      [],\n      amount.toNumber(),\n    ),\n  );\n  txBatch.addTransaction(createApproveTransaction);\n\n  const createRevokeTransaction = new Transaction().add(\n    Token.createRevokeInstruction(TOKEN_PROGRAM_ID, payingAccount.publicKey, bidder, []),\n  );\n  txBatch.addAfterTransaction(createRevokeTransaction);\n  txBatch.addSigner(transferAuthority);\n  ////\n\n  // create place bid transaction\n  const placeBidTransaction = new PlaceBid(\n    { feePayer: bidder },\n    {\n      bidder,\n      bidderToken: payingAccount.publicKey,\n      bidderPot,\n      bidderPotToken,\n      bidderMeta,\n      auction,\n      auctionExtended,\n      tokenMint: auctionTokenMint,\n      transferAuthority: transferAuthority.publicKey,\n      amount,\n      resource: vault,\n    },\n  );\n  txBatch.addTransaction(placeBidTransaction);\n  ////\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs: txBatch.toTransactions(),\n    signers: txBatch.signers,\n  });\n\n  return { txId, bidderPotToken, bidderMeta };\n};\n","import { Keypair, PublicKey } from '@solana/web3.js';\nimport { AccountLayout } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { AuctionExtended, BidderMetadata } from '../programs/auction';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport {\n  AuctionManager,\n  MetaplexProgram,\n  RedeemFullRightsTransferBid,\n  SafetyDepositConfig,\n} from '../programs/metaplex';\nimport { CreateTokenAccount } from '../programs';\nimport { Vault } from '../programs/vault';\nimport { Metadata, UpdatePrimarySaleHappenedViaToken } from '../programs/metadata';\n\ninterface IRedeemBidParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  store: PublicKey;\n}\n\ninterface IRedeemBidResponse {\n  txId: string;\n}\n\nexport const redeemBid = async ({\n  connection,\n  wallet,\n  store,\n  auction,\n}: IRedeemBidParams): Promise<IRedeemBidResponse> => {\n  // get data for transactions\n  const bidder = wallet.publicKey;\n  const accountRentExempt = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const vault = await Vault.load(connection, manager.data.vault);\n  const fractionMint = new PublicKey(vault.data.fractionMint);\n  const auctionExtended = await AuctionExtended.getPDA(vault.pubkey);\n  // assuming we have 1 item\n  const [safetyDepositBox] = await vault.getSafetyDepositBoxes(connection);\n  const tokenMint = new PublicKey(safetyDepositBox.data.tokenMint);\n  const safetyDepositTokenStore = new PublicKey(safetyDepositBox.data.store);\n  const bidderMeta = await BidderMetadata.getPDA(auction, bidder);\n  const bidRedemption = await getBidRedemptionPDA(auction, bidderMeta);\n  const safetyDepositConfig = await SafetyDepositConfig.getPDA(\n    auctionManager,\n    safetyDepositBox.pubkey,\n  );\n  const transferAuthority = await Vault.getPDA(vault.pubkey);\n  const metadata = await Metadata.getPDA(tokenMint);\n  ////\n\n  const txBatch = await getRedeemBidTransactions({\n    accountRentExempt,\n    tokenMint,\n    bidder,\n    bidderMeta,\n    store,\n    vault: vault.pubkey,\n    auction,\n    auctionExtended,\n    auctionManager,\n    fractionMint,\n    safetyDepositTokenStore,\n    safetyDeposit: safetyDepositBox.pubkey,\n    bidRedemption,\n    safetyDepositConfig,\n    transferAuthority,\n    metadata,\n  });\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs: txBatch.toTransactions(),\n    signers: txBatch.signers,\n  });\n\n  return { txId };\n};\n\ninterface IRedeemBidTransactionsParams {\n  bidder: PublicKey;\n  accountRentExempt: number;\n  bidderPotToken?: PublicKey;\n  bidderMeta: PublicKey;\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  tokenMint: PublicKey;\n  vault: PublicKey;\n  store: PublicKey;\n  auctionManager: PublicKey;\n  bidRedemption: PublicKey;\n  safetyDepositTokenStore: PublicKey;\n  safetyDeposit: PublicKey;\n  fractionMint: PublicKey;\n  safetyDepositConfig: PublicKey;\n  transferAuthority: PublicKey;\n  metadata: PublicKey;\n}\n\nexport const getRedeemBidTransactions = async ({\n  accountRentExempt,\n  bidder,\n  tokenMint,\n  store,\n  vault,\n  auction,\n  auctionManager,\n  auctionExtended,\n  bidRedemption,\n  bidderMeta: bidMetadata,\n  safetyDepositTokenStore,\n  safetyDeposit,\n  fractionMint,\n  safetyDepositConfig,\n  transferAuthority,\n  metadata,\n}: IRedeemBidTransactionsParams) => {\n  const txBatch = new TransactionsBatch({ transactions: [] });\n\n  // create a new account for redeeming\n  const account = Keypair.generate();\n  const createDestinationTransaction = new CreateTokenAccount(\n    { feePayer: bidder },\n    {\n      newAccountPubkey: account.publicKey,\n      lamports: accountRentExempt,\n      mint: tokenMint,\n    },\n  );\n  txBatch.addSigner(account);\n  txBatch.addTransaction(createDestinationTransaction);\n  ////\n\n  // create redeem bid\n  const redeemBidTransaction = new RedeemFullRightsTransferBid(\n    { feePayer: bidder },\n    {\n      store,\n      vault,\n      auction,\n      auctionManager,\n      bidRedemption,\n      bidMetadata,\n      safetyDepositTokenStore,\n      destination: account.publicKey,\n      safetyDeposit,\n      fractionMint,\n      bidder,\n      safetyDepositConfig,\n      auctionExtended,\n      transferAuthority,\n      newAuthority: bidder,\n      masterMetadata: metadata,\n    },\n  );\n  txBatch.addTransaction(redeemBidTransaction);\n  ////\n\n  // update primary sale happened via token\n  const updatePrimarySaleHappenedViaTokenTransaction = new UpdatePrimarySaleHappenedViaToken(\n    { feePayer: bidder },\n    {\n      metadata,\n      owner: bidder,\n      tokenAccount: account.publicKey,\n    },\n  );\n  txBatch.addTransaction(updatePrimarySaleHappenedViaTokenTransaction);\n  ////\n\n  return txBatch;\n};\n\nexport const getBidRedemptionPDA = async (auction: PublicKey, bidderMeta: PublicKey) => {\n  return (\n    await PublicKey.findProgramAddress(\n      [Buffer.from(MetaplexProgram.PREFIX), auction.toBuffer(), bidderMeta.toBuffer()],\n      MetaplexProgram.PUBKEY,\n    )\n  )[0];\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { Auction, AuctionExtended, BidderPot } from '../programs/auction';\nimport { TransactionsBatch } from '../utils/transactions-batch';\nimport { AuctionManager, ClaimBid } from '../programs/metaplex';\n\ninterface IClaimBidParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  store: PublicKey;\n  bidderPotToken: PublicKey;\n}\n\ninterface IClaimBidResponse {\n  txId: string;\n}\n\nexport const claimBid = async ({\n  connection,\n  wallet,\n  store,\n  auction,\n  bidderPotToken,\n}: IClaimBidParams): Promise<IClaimBidResponse> => {\n  // get data for transactions\n  const bidder = wallet.publicKey;\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const vault = new PublicKey(manager.data.vault);\n  const {\n    data: { tokenMint },\n  } = await Auction.load(connection, auction);\n  const acceptPayment = new PublicKey(manager.data.acceptPayment);\n  const auctionExtended = await AuctionExtended.getPDA(vault);\n  const auctionTokenMint = new PublicKey(tokenMint);\n  const bidderPot = await BidderPot.getPDA(auction, bidder);\n  ////\n\n  const txBatch = await getClaimBidTransactions({\n    auctionTokenMint,\n    bidder,\n    store,\n    vault,\n    auction,\n    auctionExtended,\n    auctionManager,\n    acceptPayment,\n    bidderPot,\n    bidderPotToken,\n  });\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs: txBatch.toTransactions(),\n    signers: txBatch.signers,\n  });\n\n  return { txId };\n};\n\ninterface IClaimBidTransactionsParams {\n  bidder: PublicKey;\n  bidderPotToken?: PublicKey;\n  bidderPot: PublicKey;\n  auction: PublicKey;\n  auctionExtended: PublicKey;\n  auctionTokenMint: PublicKey;\n  vault: PublicKey;\n  store: PublicKey;\n  auctionManager: PublicKey;\n  acceptPayment: PublicKey;\n}\n\nexport const getClaimBidTransactions = async ({\n  bidder,\n  auctionTokenMint,\n  store,\n  vault,\n  auction,\n  auctionManager,\n  auctionExtended,\n  acceptPayment,\n  bidderPot,\n  bidderPotToken,\n}: IClaimBidTransactionsParams) => {\n  const txBatch = new TransactionsBatch({ transactions: [] });\n\n  // create claim bid\n  const claimBidTransaction = new ClaimBid(\n    { feePayer: bidder },\n    {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidder,\n      tokenMint: auctionTokenMint,\n      acceptPayment,\n      bidderPot,\n      bidderPotToken,\n    },\n  );\n  txBatch.addTransaction(claimBidTransaction);\n  ////\n\n  return txBatch;\n};\n","function RetryOperation(timeouts, options) {\n  // Compatibility for the old (timeouts, retryForever) signature\n  if (typeof options === 'boolean') {\n    options = { forever: options };\n  }\n\n  this._originalTimeouts = JSON.parse(JSON.stringify(timeouts));\n  this._timeouts = timeouts;\n  this._options = options || {};\n  this._maxRetryTime = options && options.maxRetryTime || Infinity;\n  this._fn = null;\n  this._errors = [];\n  this._attempts = 1;\n  this._operationTimeout = null;\n  this._operationTimeoutCb = null;\n  this._timeout = null;\n  this._operationStart = null;\n  this._timer = null;\n\n  if (this._options.forever) {\n    this._cachedTimeouts = this._timeouts.slice(0);\n  }\n}\nmodule.exports = RetryOperation;\n\nRetryOperation.prototype.reset = function() {\n  this._attempts = 1;\n  this._timeouts = this._originalTimeouts.slice(0);\n}\n\nRetryOperation.prototype.stop = function() {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n  if (this._timer) {\n    clearTimeout(this._timer);\n  }\n\n  this._timeouts       = [];\n  this._cachedTimeouts = null;\n};\n\nRetryOperation.prototype.retry = function(err) {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n\n  if (!err) {\n    return false;\n  }\n  var currentTime = new Date().getTime();\n  if (err && currentTime - this._operationStart >= this._maxRetryTime) {\n    this._errors.push(err);\n    this._errors.unshift(new Error('RetryOperation timeout occurred'));\n    return false;\n  }\n\n  this._errors.push(err);\n\n  var timeout = this._timeouts.shift();\n  if (timeout === undefined) {\n    if (this._cachedTimeouts) {\n      // retry forever, only keep last error\n      this._errors.splice(0, this._errors.length - 1);\n      timeout = this._cachedTimeouts.slice(-1);\n    } else {\n      return false;\n    }\n  }\n\n  var self = this;\n  this._timer = setTimeout(function() {\n    self._attempts++;\n\n    if (self._operationTimeoutCb) {\n      self._timeout = setTimeout(function() {\n        self._operationTimeoutCb(self._attempts);\n      }, self._operationTimeout);\n\n      if (self._options.unref) {\n          self._timeout.unref();\n      }\n    }\n\n    self._fn(self._attempts);\n  }, timeout);\n\n  if (this._options.unref) {\n      this._timer.unref();\n  }\n\n  return true;\n};\n\nRetryOperation.prototype.attempt = function(fn, timeoutOps) {\n  this._fn = fn;\n\n  if (timeoutOps) {\n    if (timeoutOps.timeout) {\n      this._operationTimeout = timeoutOps.timeout;\n    }\n    if (timeoutOps.cb) {\n      this._operationTimeoutCb = timeoutOps.cb;\n    }\n  }\n\n  var self = this;\n  if (this._operationTimeoutCb) {\n    this._timeout = setTimeout(function() {\n      self._operationTimeoutCb();\n    }, self._operationTimeout);\n  }\n\n  this._operationStart = new Date().getTime();\n\n  this._fn(this._attempts);\n};\n\nRetryOperation.prototype.try = function(fn) {\n  console.log('Using RetryOperation.try() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = function(fn) {\n  console.log('Using RetryOperation.start() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = RetryOperation.prototype.try;\n\nRetryOperation.prototype.errors = function() {\n  return this._errors;\n};\n\nRetryOperation.prototype.attempts = function() {\n  return this._attempts;\n};\n\nRetryOperation.prototype.mainError = function() {\n  if (this._errors.length === 0) {\n    return null;\n  }\n\n  var counts = {};\n  var mainError = null;\n  var mainErrorCount = 0;\n\n  for (var i = 0; i < this._errors.length; i++) {\n    var error = this._errors[i];\n    var message = error.message;\n    var count = (counts[message] || 0) + 1;\n\n    counts[message] = count;\n\n    if (count >= mainErrorCount) {\n      mainError = error;\n      mainErrorCount = count;\n    }\n  }\n\n  return mainError;\n};\n","var RetryOperation = require('./retry_operation');\n\nexports.operation = function(options) {\n  var timeouts = exports.timeouts(options);\n  return new RetryOperation(timeouts, {\n      forever: options && (options.forever || options.retries === Infinity),\n      unref: options && options.unref,\n      maxRetryTime: options && options.maxRetryTime\n  });\n};\n\nexports.timeouts = function(options) {\n  if (options instanceof Array) {\n    return [].concat(options);\n  }\n\n  var opts = {\n    retries: 10,\n    factor: 2,\n    minTimeout: 1 * 1000,\n    maxTimeout: Infinity,\n    randomize: false\n  };\n  for (var key in options) {\n    opts[key] = options[key];\n  }\n\n  if (opts.minTimeout > opts.maxTimeout) {\n    throw new Error('minTimeout is greater than maxTimeout');\n  }\n\n  var timeouts = [];\n  for (var i = 0; i < opts.retries; i++) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  if (options && options.forever && !timeouts.length) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  // sort the array numerically ascending\n  timeouts.sort(function(a,b) {\n    return a - b;\n  });\n\n  return timeouts;\n};\n\nexports.createTimeout = function(attempt, opts) {\n  var random = (opts.randomize)\n    ? (Math.random() + 1)\n    : 1;\n\n  var timeout = Math.round(random * Math.max(opts.minTimeout, 1) * Math.pow(opts.factor, attempt));\n  timeout = Math.min(timeout, opts.maxTimeout);\n\n  return timeout;\n};\n\nexports.wrap = function(obj, options, methods) {\n  if (options instanceof Array) {\n    methods = options;\n    options = null;\n  }\n\n  if (!methods) {\n    methods = [];\n    for (var key in obj) {\n      if (typeof obj[key] === 'function') {\n        methods.push(key);\n      }\n    }\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    var method   = methods[i];\n    var original = obj[method];\n\n    obj[method] = function retryWrapper(original) {\n      var op       = exports.operation(options);\n      var args     = Array.prototype.slice.call(arguments, 1);\n      var callback = args.pop();\n\n      args.push(function(err) {\n        if (op.retry(err)) {\n          return;\n        }\n        if (err) {\n          arguments[0] = op.mainError();\n        }\n        callback.apply(this, arguments);\n      });\n\n      op.attempt(function() {\n        original.apply(obj, args);\n      });\n    }.bind(obj, original);\n    obj[method].options = options;\n  }\n};\n","// Packages\nvar retrier = require('retry');\n\nfunction retry(fn, opts) {\n  function run(resolve, reject) {\n    var options = opts || {};\n    var op;\n\n    // Default `randomize` to true\n    if (!('randomize' in options)) {\n      options.randomize = true;\n    }\n\n    op = retrier.operation(options);\n\n    // We allow the user to abort retrying\n    // this makes sense in the cases where\n    // knowledge is obtained that retrying\n    // would be futile (e.g.: auth errors)\n\n    function bail(err) {\n      reject(err || new Error('Aborted'));\n    }\n\n    function onError(err, num) {\n      if (err.bail) {\n        bail(err);\n        return;\n      }\n\n      if (!op.retry(err)) {\n        reject(op.mainError());\n      } else if (options.onRetry) {\n        options.onRetry(err, num);\n      }\n    }\n\n    function runAttempt(num) {\n      var val;\n\n      try {\n        val = fn(bail, num);\n      } catch (err) {\n        onError(err, num);\n        return;\n      }\n\n      Promise.resolve(val)\n        .then(resolve)\n        .catch(function catchIt(err) {\n          onError(err, num);\n        });\n    }\n\n    op.attempt(runAttempt);\n  }\n\n  return new Promise(run);\n}\n\nmodule.exports = retry;\n","module.exports = require('./lib/retry');","import { PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { SetStore, Store } from '../programs/metaplex';\n\ninterface IInitStoreParams {\n  connection: Connection;\n  wallet: Wallet;\n  isPublic?: boolean;\n}\n\ninterface IInitStoreResponse {\n  storeId: PublicKey;\n  txId: string;\n}\n\nexport const initStore = async ({\n  connection,\n  wallet,\n  isPublic = true,\n}: IInitStoreParams): Promise<IInitStoreResponse> => {\n  const storeId = await Store.getPDA(wallet.publicKey);\n  const tx = new SetStore(\n    { feePayer: wallet.publicKey },\n    {\n      admin: new PublicKey(wallet.publicKey),\n      store: storeId,\n      isPublic,\n    },\n  );\n\n  const txId = await sendTransaction({ connection, wallet, txs: [tx] });\n\n  return { storeId, txId };\n};\n","import { PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { Connection } from '../Connection';\nimport {\n  CreateMasterEdition,\n  CreateMetadata,\n  Creator,\n  MasterEdition,\n  Metadata,\n  MetadataDataData,\n} from '../programs/metadata';\nimport { Wallet } from '../wallet';\nimport { sendTransaction } from './transactions';\nimport { lookup } from '../utils/metadata';\nimport { prepareTokenAccountAndMintTx } from './shared';\n\ninterface MintNFTParams {\n  connection: Connection;\n  wallet: Wallet;\n  uri: string;\n  maxSupply?: number;\n}\n\ninterface MintNFTResponse {\n  txId: string;\n  mint: PublicKey;\n  metadata: PublicKey;\n  edition: PublicKey;\n}\n\nexport const mintNFT = async ({\n  connection,\n  wallet,\n  uri,\n  maxSupply,\n}: MintNFTParams): Promise<MintNFTResponse> => {\n  const { mint, createMintTx, createAssociatedTokenAccountTx, mintToTx } =\n    await prepareTokenAccountAndMintTx(connection, wallet.publicKey);\n\n  const metadataPDA = await Metadata.getPDA(mint.publicKey);\n  const editionPDA = await MasterEdition.getPDA(mint.publicKey);\n\n  const {\n    name,\n    symbol,\n    seller_fee_basis_points,\n    properties: { creators },\n  } = await lookup(uri);\n\n  const creatorsData = creators.reduce<Creator[]>((memo, { address, share }) => {\n    const verified = address === wallet.publicKey.toString();\n\n    const creator = new Creator({\n      address,\n      share,\n      verified,\n    });\n\n    memo = [...memo, creator];\n\n    return memo;\n  }, []);\n\n  const metadataData = new MetadataDataData({\n    name,\n    symbol,\n    uri,\n    sellerFeeBasisPoints: seller_fee_basis_points,\n    creators: creatorsData,\n  });\n\n  const createMetadataTx = new CreateMetadata(\n    {\n      feePayer: wallet.publicKey,\n    },\n    {\n      metadata: metadataPDA,\n      metadataData,\n      updateAuthority: wallet.publicKey,\n      mint: mint.publicKey,\n      mintAuthority: wallet.publicKey,\n    },\n  );\n\n  const masterEditionTx = new CreateMasterEdition(\n    { feePayer: wallet.publicKey },\n    {\n      edition: editionPDA,\n      metadata: metadataPDA,\n      updateAuthority: wallet.publicKey,\n      mint: mint.publicKey,\n      mintAuthority: wallet.publicKey,\n      maxSupply: maxSupply ? new BN(maxSupply) : null,\n    },\n  );\n\n  const txId = await sendTransaction({\n    connection,\n    signers: [mint],\n    txs: [\n      createMintTx,\n      createMetadataTx,\n      createAssociatedTokenAccountTx,\n      mintToTx,\n      masterEditionTx,\n    ],\n    wallet,\n  });\n\n  return {\n    txId,\n    mint: mint.publicKey,\n    metadata: metadataPDA,\n    edition: editionPDA,\n  };\n};\n","import { Connection, PublicKey } from '@solana/web3.js';\nimport { ASSOCIATED_TOKEN_PROGRAM_ID, Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { Wallet } from '../wallet';\nimport {\n  Edition,\n  EditionMarker,\n  MasterEdition,\n  Metadata,\n  MintNewEditionFromMasterEditionViaToken,\n} from '../programs/metadata';\nimport { Account } from '../Account';\nimport BN from 'bn.js';\nimport { prepareTokenAccountAndMintTx } from './shared';\nimport { sendTransaction } from './transactions';\n\ninterface MintEditionFromMasterParams {\n  connection: Connection;\n  wallet: Wallet;\n  masterEditionMint: PublicKey;\n  updateAuthority?: PublicKey;\n}\n\ninterface MintEditionFromMasterResponse {\n  txId: string;\n  mint: PublicKey;\n  metadata: PublicKey;\n  edition: PublicKey;\n}\n\nexport const mintEditionFromMaster = async (\n  { connection, wallet, masterEditionMint, updateAuthority } = {} as MintEditionFromMasterParams,\n): Promise<MintEditionFromMasterResponse> => {\n  const masterPDA = await MasterEdition.getPDA(masterEditionMint);\n  const masterMetaPDA = await Metadata.getPDA(masterEditionMint);\n  const masterInfo = await Account.getInfo(connection, masterPDA);\n  const masterData = new MasterEdition(masterPDA, masterInfo).data;\n\n  //take the current outstanding supply and increment by 1\n  const editionValue = masterData.supply.add(new BN(1));\n\n  const { mint, createMintTx, createAssociatedTokenAccountTx, mintToTx } =\n    await prepareTokenAccountAndMintTx(connection, wallet.publicKey);\n\n  const tokenAccount = await Token.getAssociatedTokenAddress(\n    ASSOCIATED_TOKEN_PROGRAM_ID,\n    TOKEN_PROGRAM_ID,\n    masterEditionMint,\n    wallet.publicKey,\n  );\n\n  const metadataPDA = await Metadata.getPDA(mint.publicKey);\n  const editionMarker = await EditionMarker.getPDA(masterEditionMint, editionValue);\n  const editionPDA = await Edition.getPDA(mint.publicKey);\n\n  const newEditionFromMasterTx = new MintNewEditionFromMasterEditionViaToken(\n    { feePayer: wallet.publicKey },\n    {\n      edition: editionPDA, //empty, created inside program\n      metadata: metadataPDA, //empty, created inside program\n      updateAuthority: updateAuthority ?? wallet.publicKey,\n      mint: mint.publicKey,\n      mintAuthority: wallet.publicKey,\n      masterEdition: masterPDA,\n      masterMetadata: masterMetaPDA,\n      editionMarker, // empty if this is the 1st limited edition being created\n      tokenOwner: wallet.publicKey,\n      tokenAccount,\n      editionValue,\n    },\n  );\n\n  const txId = await sendTransaction({\n    connection,\n    signers: [mint],\n    txs: [createMintTx, createAssociatedTokenAccountTx, mintToTx, newEditionFromMasterTx],\n    wallet,\n  });\n\n  return {\n    txId,\n    mint: mint.publicKey,\n    metadata: metadataPDA,\n    edition: editionPDA,\n  };\n};\n","import { Connection, PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { CreateMetadata, Metadata, MetadataDataData } from '../programs/metadata';\nimport { sendTransaction } from './transactions';\n\ninterface CreateMetadataParams {\n  connection: Connection;\n  wallet: Wallet;\n  editionMint: PublicKey; // can be any mint with 0 decimals\n  metadataData: MetadataDataData;\n  updateAuthority?: PublicKey;\n}\n\nexport const createMetadata = async (\n  { connection, wallet, editionMint, metadataData, updateAuthority } = {} as CreateMetadataParams,\n): Promise<string> => {\n  const metadata = await Metadata.getPDA(editionMint);\n\n  const createMetadataTx = new CreateMetadata(\n    { feePayer: wallet.publicKey },\n    {\n      metadata,\n      metadataData,\n      updateAuthority: updateAuthority ?? wallet.publicKey,\n      mint: editionMint,\n      mintAuthority: wallet.publicKey,\n    },\n  );\n  return sendTransaction({\n    connection,\n    signers: [],\n    txs: [createMetadataTx],\n    wallet,\n  });\n};\n","import { Connection, PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { CreateMasterEdition, MasterEdition, Metadata } from '../programs/metadata';\nimport { sendTransaction } from './transactions';\nimport BN from 'bn.js';\n\ninterface CreateMasterEditionParams {\n  connection: Connection;\n  wallet: Wallet;\n  editionMint: PublicKey;\n  updateAuthority?: PublicKey;\n  maxSupply?: BN;\n}\n\n/*\n * NOTE 1: a metadata account must already exist\n * NOTE 2: must have exactly 1 editionMint token with 0 decimals outstanding\n */\nexport const createMasterEdition = async (\n  { connection, wallet, editionMint, updateAuthority, maxSupply } = {} as CreateMasterEditionParams,\n): Promise<string> => {\n  const metadata = await Metadata.getPDA(editionMint);\n  const edition = await MasterEdition.getPDA(editionMint);\n\n  const createMetadataTx = new CreateMasterEdition(\n    { feePayer: wallet.publicKey },\n    {\n      edition,\n      metadata,\n      updateAuthority: updateAuthority ?? wallet.publicKey,\n      mint: editionMint,\n      mintAuthority: wallet.publicKey,\n      maxSupply,\n    },\n  );\n  return sendTransaction({\n    connection,\n    signers: [],\n    txs: [createMetadataTx],\n    wallet,\n  });\n};\n","import { Connection, Keypair, PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Metadata, SignMetadata } from '../programs/metadata';\nimport { sendTransaction } from './transactions';\n\ninterface SignMetadataParams {\n  connection: Connection;\n  wallet: Wallet;\n  editionMint: PublicKey;\n  signer?: Keypair;\n}\n\nexport const signMetadata = async (\n  { connection, wallet, editionMint, signer } = {} as SignMetadataParams,\n): Promise<string> => {\n  const metadata = await Metadata.getPDA(editionMint);\n  const signTx = new SignMetadata(\n    { feePayer: wallet.publicKey },\n    {\n      metadata,\n      creator: signer ? signer.publicKey : wallet.publicKey,\n    },\n  );\n  return await sendTransaction({\n    connection,\n    signers: signer ? [signer] : [],\n    txs: [signTx],\n    wallet,\n  });\n};\n","import { Connection, PublicKey } from '@solana/web3.js';\nimport { Wallet } from '../wallet';\nimport { Metadata, MetadataDataData, UpdateMetadata } from '../programs/metadata';\nimport { sendTransaction } from './transactions';\n\ninterface UpdateMetadataParams {\n  connection: Connection;\n  wallet: Wallet;\n  editionMint: PublicKey;\n  newMetadataData?: MetadataDataData;\n  newUpdateAuthority?: PublicKey;\n  primarySaleHappened?: boolean;\n}\n\n/*\n * Can be used to update any of the below 3:\n * 1) data inside metadata, but only if it's mutable (which is only possible for MasterEditions)\n * 2) updateAuthority\n * 3) whether primary sale has happened (can only be set true, never back false)\n */\nexport const updateMetadata = async (\n  {\n    connection,\n    wallet,\n    editionMint,\n    newMetadataData,\n    newUpdateAuthority,\n    primarySaleHappened,\n  } = {} as UpdateMetadataParams,\n): Promise<string> => {\n  const metadata = await Metadata.getPDA(editionMint);\n  const updateTx = new UpdateMetadata(\n    { feePayer: wallet.publicKey },\n    {\n      metadata,\n      updateAuthority: wallet.publicKey,\n      metadataData: newMetadataData,\n      newUpdateAuthority,\n      primarySaleHappened,\n    },\n  );\n  return sendTransaction({\n    connection,\n    signers: [],\n    txs: [updateTx],\n    wallet,\n  });\n};\n","import { PublicKey } from '@solana/web3.js';\nimport { AccountLayout } from '@solana/spl-token';\nimport retry from 'async-retry';\nimport { Wallet } from '../wallet';\nimport { Connection } from '../Connection';\nimport { sendTransaction } from './transactions';\nimport { Auction, AuctionExtended, BidderPot } from '../programs/auction';\nimport { AuctionManager, SafetyDepositConfig } from '../programs/metaplex';\nimport { placeBid } from './placeBid';\nimport { getClaimBidTransactions } from './claimBid';\nimport { getRedeemBidTransactions } from './redeemBid';\nimport { Vault } from '../programs/vault/accounts/Vault';\nimport { Metadata } from '../programs/metadata';\nimport { getBidRedemptionPDA } from './redeemBid';\nimport { Account } from '../Account';\n\ninterface IInstantSaleParams {\n  connection: Connection;\n  wallet: Wallet;\n  auction: PublicKey;\n  store: PublicKey;\n}\n\ninterface IInstantSaleResponse {\n  txId: string;\n}\n\nexport const instantSale = async ({\n  connection,\n  wallet,\n  store,\n  auction,\n}: IInstantSaleParams): Promise<IInstantSaleResponse> => {\n  // get data for transactions\n  const bidder = wallet.publicKey;\n  const accountRentExempt = await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n  const auctionManager = await AuctionManager.getPDA(auction);\n  const manager = await AuctionManager.load(connection, auctionManager);\n  const vault = await Vault.load(connection, manager.data.vault);\n  const {\n    data: { tokenMint },\n  } = await Auction.load(connection, auction);\n  const auctionExtended = await AuctionExtended.getPDA(vault.pubkey);\n  const acceptPayment = new PublicKey(manager.data.acceptPayment);\n  const {\n    data: { instantSalePrice },\n  } = await AuctionExtended.load(connection, auctionExtended);\n  const auctionTokenMint = new PublicKey(tokenMint);\n  const bidderPot = await BidderPot.getPDA(auction, bidder);\n  const fractionMint = new PublicKey(vault.data.fractionMint);\n  // assuming we have 1 item\n  const [safetyDepositBox] = await vault.getSafetyDepositBoxes(connection);\n  const metadataTokenMint = new PublicKey(safetyDepositBox.data.tokenMint);\n  const safetyDepositTokenStore = new PublicKey(safetyDepositBox.data.store);\n  const safetyDepositConfig = await SafetyDepositConfig.getPDA(\n    auctionManager,\n    safetyDepositBox.pubkey,\n  );\n  const transferAuthority = await Vault.getPDA(vault.pubkey);\n  const metadata = await Metadata.getPDA(metadataTokenMint);\n  ////\n\n  const { bidderPotToken, bidderMeta } = await placeBid({\n    connection,\n    wallet,\n    amount: instantSalePrice,\n    auction,\n  });\n\n  // workaround to wait for bidderMeta to be created\n  await retry(async (bail) => {\n    await Account.getInfo(connection, bidderMeta);\n  });\n  const bidRedemption = await getBidRedemptionPDA(auction, bidderMeta);\n\n  const redeemBatch = await getRedeemBidTransactions({\n    accountRentExempt,\n    tokenMint: metadataTokenMint,\n    bidder,\n    bidderMeta,\n    store,\n    vault: vault.pubkey,\n    auction,\n    auctionExtended,\n    auctionManager,\n    fractionMint,\n    safetyDepositTokenStore,\n    safetyDeposit: safetyDepositBox.pubkey,\n    bidRedemption,\n    safetyDepositConfig,\n    transferAuthority,\n    metadata,\n  });\n\n  const claimBatch = await getClaimBidTransactions({\n    auctionTokenMint,\n    bidder,\n    store,\n    vault: vault.pubkey,\n    auction,\n    auctionExtended,\n    auctionManager,\n    acceptPayment,\n    bidderPot,\n    bidderPotToken,\n  });\n\n  const txs = [...redeemBatch.toTransactions(), ...claimBatch.toTransactions()];\n  const signers = [...redeemBatch.signers, ...claimBatch.signers];\n\n  const txId = await sendTransaction({\n    connection,\n    wallet,\n    txs,\n    signers,\n  });\n\n  return { txId };\n};\n","import { Keypair, PublicKey, Transaction } from '@solana/web3.js';\n\nexport interface Wallet {\n  publicKey: PublicKey;\n  signTransaction(tx: Transaction): Promise<Transaction>;\n  signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;\n}\n\nexport class NodeWallet implements Wallet {\n  constructor(readonly payer: Keypair) {}\n\n  async signTransaction(tx: Transaction): Promise<Transaction> {\n    tx.partialSign(this.payer);\n    return tx;\n  }\n\n  async signAllTransactions(txs: Transaction[]): Promise<Transaction[]> {\n    return txs.map((tx) => {\n      tx.partialSign(this.payer);\n      return tx;\n    });\n  }\n\n  get publicKey(): PublicKey {\n    return this.payer.publicKey;\n  }\n}\n"],"names":["Currency","bind","fn","thisArg","args","Array","arguments","length","i","apply","require$$0","toString","Object","prototype","isArray","val","call","isUndefined","isObject","isPlainObject","getPrototypeOf","isFunction","forEach","obj","l","key","hasOwnProperty","utils","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","slice","extend","a","b","trim","str","replace","stripBOM","content","charCodeAt","encode","encodeURIComponent","buildURL","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","push","join","hashmarkIndex","indexOf","InterceptorManager","this","handlers","use","fulfilled","rejected","options","synchronous","runWhen","eject","id","h","InterceptorManager_1","enhanceError","error","config","code","request","response","isAxiosError","toJSON","message","name","description","number","fileName","lineNumber","columnNumber","stack","createError","Error","cookies","write","value","expires","path","domain","secure","cookie","Date","toGMTString","read","match","RegExp","decodeURIComponent","remove","now","isAbsoluteURL","test","combineURLs","baseURL","relativeURL","ignoreDuplicateOf","isURLSameOrigin","originURL","msie","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","location","requestURL","parsed","settle","resolve","reject","validateStatus","status","require$$2","require$$3","buildFullPath","requestedURL","parseHeaders","headers","split","line","substr","toLowerCase","concat","require$$6","require$$7","xhr","Promise","requestData","data","requestHeaders","responseType","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","onloadend","responseHeaders","getAllResponseHeaders","responseText","statusText","open","method","toUpperCase","timeout","onreadystatechange","readyState","responseURL","setTimeout","onabort","onerror","ontimeout","timeoutErrorMessage","transitional","clarifyTimeoutError","xsrfValue","withCredentials","xsrfCookieName","undefined","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","normalizeHeaderName","normalizedName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","adapter","defaults","silentJSONParsing","forcedJSONParsing","process","transformRequest","rawValue","parser","encoder","parse","e","stringifySafely","transformResponse","strictJSONParsing","maxContentLength","maxBodyLength","common","Accept","defaults_1","require$$1","isCancel","__CANCEL__","transformData","fns","context","throwIfCancellationRequested","throwIfRequested","mergeConfig","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","target","source","mergeDeepProperties","prop","axiosKeys","otherKeys","keys","filter","pkg","validators","type","thing","deprecatedWarnings","currentVerArr","version","isOlderVersion","thanVersion","pkgVersionArr","destVer","validator","isDeprecated","formatMessage","opt","desc","opts","console","warn","assertOptions","schema","allowUnknown","TypeError","dispatchRequest","reason","require$$4","require$$5","Axios","instanceConfig","interceptors","boolean","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","chain","shift","newConfig","onFulfilled","onRejected","getUri","Axios_1","Cancel","Cancel_1","CancelToken","executor","resolvePromise","token","c","CancelToken_1","createInstance","defaultConfig","instance","axios","create","all","promises","spread","callback","arr","payload","Coingecko","static","currency","AR","SOL","USD","EUR","getRate","from","to","fromArray","toArray","map","translateCurrency","reduce","previousPairs","fromCurrency","toCurrency","rate","browser","self","ARWEAVE_URL","LAMPORT_MULTIPLIER","Math","WINSTON_MULTIPLIER","ChainId","ENV","devnet","endpoint","clusterApiUrl","Devnet","MainnetBeta","testnet","Testnet","Connection","SolanaConnection","commitment","super","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","len","revLookup","uint8","extraBytes","maxChunkLength","len2","encodeChunk","lookup","Uint8Array","start","end","num","output","offset","isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","s","NaN","Infinity","pow","rt","abs","isNaN","floor","log","LN2","base64","ieee754","customInspectSymbol","Symbol","exports","Buffer","alloc","K_MAX_LENGTH","createBuffer","RangeError","buf","setPrototypeOf","arg","encodingOrOffset","allocUnsafe","string","encoding","isEncoding","byteLength","actual","fromString","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","checked","numberIsNaN","fromObject","toPrimitive","assertSize","size","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","String","readUInt16BE","foundIndex","found","j","hexWrite","Number","remaining","strLen","parseInt","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","defineProperty","enumerable","get","poolSize","fill","allocUnsafeSlow","_isBuffer","compare","x","y","list","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","max","INSPECT_MAX_BYTES","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","_arr","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","writable","configurable","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","input","msg","received","isInteger","INVALID_BASE64_RE","leadSurrogate","toByteArray","base64clean","src","dst","alphabet","table","i16","BufferBigIntNotDefined","Account","pubkey","info","PublicKey","account","connection","getInfo","getAccountInfo","pubkeys","getMultipleAccounts","results","Map","entries","k","_buildArgs","unsafeRes","_rpcRequest","acc","index","assertOwner","owner","executable","lamports","module","assert","inherits","ctor","superCtor","super_","TempCtor","BN","base","endian","isBN","negative","words","red","_init","wordSize","parseHex4Bits","parseHexByte","lowerBound","r","parseBase","move","dest","left","right","cmp","_initNumber","_initArray","_parseHex","_parseBase","ceil","w","off","_strip","limbLen","limbPow","total","mod","word","imuln","_iaddn","_move","clone","_expand","_normSign","for","zeros","groupSizes","groupBases","smallMulTo","carry","ncarry","rword","maxJ","padding","groupSize","groupBase","isZero","modrn","idivn","toNumber","toBuffer","toArrayLike","ArrayType","reqLength","allocate","_toArrayLikeLE","position","_toArrayLikeBE","clz32","_countBits","t","_zeroBits","bitLength","zeroBits","toTwos","width","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","add","comb10MulTo","mid","o","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","bigMulTo","hncarry","jumboMulTo","mulTo","mulf","isNegNum","muln","sqr","isqr","toBitArray","q","iushln","bits","carryMask","newCarry","ishln","iushrn","hint","extended","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","mode","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","andln","p","modn","egcd","A","B","C","D","g","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","imulK","strip","outLen","prev","next","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","copyProps","SafeBuffer","SlowBuffer","_Buffer","ALPHABET","BASE_MAP","xc","BASE","LEADER","FACTOR","iFACTOR","decodeUnsafe","psz","zeroes","b256","it3","it4","vch","pbegin","pend","b58","it1","it2","repeat","decode","bs58","inRange","ToDictionary","Stream","tokens","endOfStream","prepend","pop","finished","decoderError","fatal","opt_code_point","DEFAULT_ENCODING","TextDecoder","_streaming","_BOMseen","_decoder","_fatal","Boolean","_ignoreBOM","TextEncoder","_encoder","_options","UTF8Decoder","utf8_code_point","utf8_bytes_seen","utf8_bytes_needed","utf8_lower_boundary","utf8_upper_boundary","handler","stream","bite","code_point","UTF8Encoder","count","temp","input_stream","code_points","cp","codePointsToString","opt_string","stringToCodePoints","__createBinding","k2","__setModuleDefault","__decorate","decorators","getOwnPropertyDescriptor","Reflect","decorate","__importStar","__esModule","__importDefault","default","lib","serialize_1","BinaryReader_1","BinaryWriter_1","bn_js_1","bs58_1","textDecoder","global","INITIAL_LENGTH","BorshError","fieldPath","originalMessage","addToFieldPath","fieldName","splice","BinaryWriter","maybeResize","writeU8","writeU16","writeU32","writeU64","writeBuffer","writeU128","writeU256","writeU512","writeString","writeFixedArray","writeArray","elem","handlingRangeError","propertyKey","propertyDescriptor","originalMethod","BinaryReader","readU8","readU16","readU32","readU64","readBuffer","readU128","readU256","readU512","readString","readFixedArray","readArray","capitalizeFirstLetter","serializeField","fieldType","writer","item","kind","serializeStruct","structSchema","fields","field","idx","values","deserializeField","reader","deserializeStruct","classType","deserializeUnchecked_1","extendBorsh","readPubkey","writePubkey","readPubkeyAsString","base58","writePubkeyAsString","Data","assign","struct","serialize","SCHEMA","deserializeUnchecked","_globalThis","globalThis","algorithm","async","outputFormat","crypto","subtle","digest","view","DataView","hexCodes","getUint32","padStart","bufferToHex","file","sha256","TupleNumericType","getBNFromData","dataType","U8","U16","U32","U64","ErrorCode","MetaplexError","errorCode","ERROR_INVALID_OWNER","ERROR_INVALID_ACCOUNT_DATA","ERROR_DEPRECATED_ACCOUNT_DATA","Transaction","SolanaTransaction","transactions","combinedTransaction","transaction","instructions","instruction","sendTransaction","wallet","txs","signers","tx","fromCombined","feePayer","publicKey","recentBlockhash","getRecentBlockhash","blockhash","partialSign","signTransaction","sendRawTransaction","Program","seeds","findProgramAddress","PUBKEY","configOrCommitment","extra","dataSlice","filters","toBase58","auction","metadata","metaplex","vault","packs","memo","MetaplexKey","MetaplexProgram","WINNER_INDEX_OFFSETS","BidRedemptionTicket","isBidRedemptionTicketV1","isBidRedemptionTicketV2","winnerIndex","BidRedemptionTicketV2","auctionManager","BidRedemptionTicketV1","AuctionProgram","AuctionState","BidStateType","PriceFloorType","WinnerLimitType","BidderMetadataData","Borsh.Data","_a","BidderMetadata","isCompatible","deserialize","DATA_SIZE","bidder","PREFIX","BidderPotData","BidderPot","Bid","BidState","getWinnerAt","convertedIndex","bids","getAmountAt","amount","getWinnerIndex","findIndex","zeroBased","_b","PriceFloor","Minimum","minPrice","_c","AuctionData","_d","Auction","getProgramAccounts","authority","memcmp","err","getBidderPots","dataSize","getBidderMetadata","AuctionDataExtended","AuctionExtended","EXTENDED","CancelBidArgs","CancelBid","auctionExtended","bidderPot","bidderMeta","bidderToken","bidderPotToken","tokenMint","resource","TransactionInstruction","isSigner","isWritable","SYSVAR_CLOCK_PUBKEY","SYSVAR_RENT_PUBKEY","SystemProgram","programId","TOKEN_PROGRAM_ID","WinnerLimit","CreateAuctionArgs","PlaceBidArgs","PlaceBid","transferAuthority","SetAuctionAuthorityArgs","AuctionManagerStatus","WinningConfigType","WinningConstraint","NonWinningConstraint","creator","currentAuthority","newAuthority","AuctionManagerStateV2","Initialized","AuctionManagerV2Data","AuctionManagerV2","AuctionManager","isAuctionManagerV1","isAuctionManagerV2","AuctionManagerV1","store","getAuction","load","getBidRedemptionTickets","haveWinnerIndex","PayoutTicketData","PayoutTicketV1","PayoutTicket","recipient","PrizeTrackingTicketData","PrizeTrackingTicketV1","PrizeTrackingTicket","mint","SafetyDepositConfig","SafetyDepositConfigV1","safetyDeposit","order","winningConfigType","amountType","lengthType","amountRanges","participationConfig","participationState","lengthOfArray","winnerConstraint","nonWinningConstraint","fixedPrice","collectedToAcceptPayment","WhitelistedCreatorData","WhitelistedCreatorV1","WhitelistedCreator","StoreData","StoreV1","Store","getWhitelistedCreators","getAuctionManagers","AuctionWinnerTokenTypeTracker","AuctionWinnerTokenTypeTrackerV1","TOTALS","VaultKey","VaultInstructions","VaultState","VaultProgram","SafetyDepositBoxData","SafetyDepositBoxV1","SafetyDepositBox","AmountArgs","NumberOfShareArgs","VaultData","VaultV1","Vault","getSafetyDepositBoxes","ExternalPriceAccountData","ExternalPriceAccountV1","ExternalPriceAccount","CombineVaultArgs","CombineVault","InitVaultArgs","InitVault","RedeemSharesArgs","RedeemShares","SetVaultAuthorityArgs","SetVaultAuthority","UpdateExternalPriceAccountArgs","UpdateExternalPriceAccount","MetadataKey","vaultAuthority","fractionMint","fractionTreasury","fractionMintAuthority","numberOfShares","ActivateVault","AddSharesToTreasury","tokenAccount","tokenStoreAccount","safetyDepositBox","AddTokenToInactiveVault","outstandingShareTokenAccount","payingTokenAccount","redeemTreasury","newVaultAuthority","externalPriceAccount","burnAuthority","fractionalMint","fractionalTreasury","pricingLookupAddress","allowFurtherShareCreation","MintFractionalShares","outstandingSharesAccount","proceedsAccount","externalPriceAccountData","destination","WithdrawSharesFromTreasury","WithdrawTokenFromSafetyDepositBox","MetadataProgram","EditionData","EditionV1","Edition","EDITION_PREFIX","EditionMarkerData","EditionMarker","editionTaken","edition","editionOffset","indexOffset","positionInBitsetFromRight","ledger","editionNumber","MasterEditionV1Data","MasterEditionV1","MasterEditionV2Data","MasterEditionV2","MasterEdition","isMasterEditionV1","isMasterEditionV2","getEditions","TokenAccount","AccountLayout","span","getTokenAccountsByOwner","accountInfo","u64","fromBuffer","delegateOption","delegate","delegatedAmount","isInitialized","state","isFrozen","isNativeOption","rentExemptReserve","isNative","closeAuthorityOption","closeAuthority","CreateMint","newAccountPubkey","decimals","freezeAuthority","createAccount","fromPubkey","space","MintLayout","Token","createInitMintInstruction","CreateTokenAccount","createInitAccountInstruction","CreateAssociatedTokenAccount","associatedTokenAddress","walletAddress","splTokenMintAddress","ASSOCIATED_TOKEN_PROGRAM_ID","MintTo","createMintToInstruction","Creator","MetadataDataData","METADATA_REPLACE","uri","symbol","MetadataData","MetadataV1","Metadata","baseFilters","updateAuthority","creators","computeCreatorOffset","flat","accounts","accountMap","findMany","has","accountsWithAmount","pda","getPDA","CreateMetadataArgs","CreateMetadata","metadataData","mintAuthority","isMutable","UpdateMetadataArgs","UpdateMetadata","newUpdateAuthority","primarySaleHappened","CreateMasterEditionArgs","CreateMasterEdition","maxSupply","MintNewEditionFromMasterEditionViaTokenArgs","MintNewEditionFromMasterEditionViaToken","masterEdition","masterMetadata","editionMarker","tokenOwner","editionValue","UpdatePrimarySaleHappenedViaTokenArgs","UpdatePrimarySaleHappenedViaToken","SignMetadataArgs","SignMetadata","ProxyCallAddress","SetStoreArgs","SetStore","admin","isPublic","public","SetWhitelistedCreatorArgs","StartAuctionArgs","InitAuctionManagerV2Args","ClaimBidArgs","ClaimBid","acceptPayment","RedeemBidArgs","RedeemUnusedWinningConfigItemsAsAuctioneerArgs","RedeemFullRightsTransferBidArgs","RedeemFullRightsTransferBid","bidRedemption","bidMetadata","safetyDepositTokenStore","safetyDepositConfig","auctioneerReclaimIndex","winningConfigItemIndex","proxyCall","whitelistedCreatorPDA","activated","auctionManagerAuthority","acceptPaymentAccount","tokenTracker","maxRanges","isPrintingType","reservationList","RedeemBid","fileHashes","arweaveWallet","transfer","toPubkey","prepareTokenAccountAndMintTx","Keypair","generate","mintRent","getMinimumBalanceForRentExemption","createMintTx","getAssociatedTokenAddress","createAssociatedTokenAccountTx","mintToTx","TransactionsBatch","beforeTransactions","afterTransactions","addSigner","signer","addBeforeTransaction","addTransaction","addAfterTransaction","toTransactions","toInstructions","flatMap","getCancelBidTransactions","destAccount","accountRentExempt","auctionTokenMint","txBatch","createTokenAccountTransaction","NATIVE_MINT","closeTokenAccountInstruction","createCloseAccountInstruction","cancelBidTransaction","placeBid","manager","createBidderPotTransaction","payingAccount","closeTokenAccountTransaction","createApproveTransaction","createApproveInstruction","createRevokeTransaction","createRevokeInstruction","placeBidTransaction","txId","getRedeemBidTransactions","createDestinationTransaction","redeemBidTransaction","updatePrimarySaleHappenedViaTokenTransaction","getBidRedemptionPDA","getClaimBidTransactions","claimBidTransaction","RetryOperation","timeouts","forever","_originalTimeouts","_timeouts","_maxRetryTime","maxRetryTime","_fn","_errors","_attempts","_operationTimeout","_operationTimeoutCb","_timeout","_operationStart","_timer","_cachedTimeouts","retry_operation","reset","stop","clearTimeout","retry","currentTime","getTime","unref","attempt","timeoutOps","cb","try","attempts","mainError","counts","mainErrorCount","retries","factor","minTimeout","maxTimeout","randomize","createTimeout","sort","random","round","methods","original","op","operation","retrier","bail","onError","onRetry","catch","storeId","metadataPDA","editionPDA","seller_fee_basis_points","properties","creatorsData","address","share","verified","sellerFeeBasisPoints","createMetadataTx","masterEditionTx","masterEditionMint","masterPDA","masterMetaPDA","masterInfo","supply","newEditionFromMasterTx","editionMint","signTx","newMetadataData","updateTx","instantSalePrice","metadataTokenMint","redeemBatch","claimBatch","env","getAssetCostToStore","files","arweaveRate","solanaRate","buffers","totalBytes","sum","f","txnFeeInWinstons","byteCostInWinstons","totalArCost","mintKey","txid","fileEntries","tags","body","append","post","payer","signAllTransactions"],"mappings":"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"}