{"remainingRequest":"/home/quantium/labs/solana-nft-python/nft-armory/node_modules/babel-loader/lib/index.js!/home/quantium/labs/solana-nft-python/nft-armory/node_modules/ts-loader/index.js??ref--14-2!/home/quantium/labs/solana-nft-python/nft-armory/src/common/NFTget.ts","dependencies":[{"path":"/home/quantium/labs/solana-nft-python/nft-armory/src/common/NFTget.ts","mtime":1666703689729},{"path":"/home/quantium/labs/solana-nft-python/nft-armory/babel.config.js","mtime":1666703689725},{"path":"/home/quantium/labs/solana-nft-python/nft-armory/node_modules/cache-loader/dist/cjs.js","mtime":1666703775764},{"path":"/home/quantium/labs/solana-nft-python/nft-armory/node_modules/babel-loader/lib/index.js","mtime":1666703776480},{"path":"/home/quantium/labs/solana-nft-python/nft-armory/node_modules/ts-loader/index.js","mtime":1666703778256}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9vYmplY3RTcHJlYWQgPSByZXF1aXJlKCIvaG9tZS9xdWFudGl1bS9sYWJzL3NvbGFuYS1uZnQtcHl0aG9uL25mdC1hcm1vcnkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMiIpLmRlZmF1bHQ7Cgp2YXIgX3RvQ29uc3VtYWJsZUFycmF5ID0gcmVxdWlyZSgiL2hvbWUvcXVhbnRpdW0vbGFicy9zb2xhbmEtbmZ0LXB5dGhvbi9uZnQtYXJtb3J5L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5IikuZGVmYXVsdDsKCnZhciBfYXN5bmNUb0dlbmVyYXRvciA9IHJlcXVpcmUoIi9ob21lL3F1YW50aXVtL2xhYnMvc29sYW5hLW5mdC1weXRob24vbmZ0LWFybW9yeS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yIikuZGVmYXVsdDsKCnJlcXVpcmUoInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuTkZUR2V0ID0gdm9pZCAwOwoKdmFyIHRzbGliXzEgPSByZXF1aXJlKCJ0c2xpYiIpOwoKdmFyIHdlYjNfanNfMSA9IHJlcXVpcmUoIkBzb2xhbmEvd2ViMy5qcyIpOwoKdmFyIGF4aW9zXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKCJheGlvcyIpKTsKCnZhciBqc18xID0gcmVxdWlyZSgiQG1ldGFwbGV4L2pzIik7Cgp2YXIgbXBsX3Rva2VuX21ldGFkYXRhXzEgPSByZXF1aXJlKCJAbWV0YXBsZXgtZm91bmRhdGlvbi9tcGwtdG9rZW4tbWV0YWRhdGEiKTsKCnZhciBiczU4XzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKCJiczU4IikpOwoKdmFyIHNwbF90b2tlbl8xID0gcmVxdWlyZSgiQHNvbGFuYS9zcGwtdG9rZW4iKTsKCnZhciB1dGlsXzEgPSByZXF1aXJlKCIuL2hlbHBlcnMvdXRpbCIpOwoKdmFyIHNwbF90b2tlbl8yID0gcmVxdWlyZSgiLi9oZWxwZXJzL3NwbC10b2tlbiIpOwoKdmFyIGNsdXN0ZXJfMSA9IHRzbGliXzEuX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoIkAvY29tcG9zYWJsZXMvY2x1c3RlciIpKTsKCnZhciBnbG9iYWxzXzEgPSByZXF1aXJlKCJAL2dsb2JhbHMiKTsKCnZhciBsb2FkaW5nXzEgPSByZXF1aXJlKCJAL2NvbXBvc2FibGVzL2xvYWRpbmciKTsKCnZhciByYXJpdHlfMSA9IHJlcXVpcmUoIkAvY29tbW9uL3Jhcml0eSIpOwoKdmFyIF9jbHVzdGVyXzEkZGVmYXVsdCA9IGNsdXN0ZXJfMS5kZWZhdWx0KCksCiAgICBnZXRDb25uZWN0aW9uID0gX2NsdXN0ZXJfMSRkZWZhdWx0LmdldENvbm5lY3Rpb247Cgp2YXIgYmFzZUZpbHRlcnMgPSBbLy8gRmlsdGVyIGZvciBNZXRhZGF0YVYxIGJ5IGtleQp7CiAgbWVtY21wOiB7CiAgICBvZmZzZXQ6IDAsCiAgICBieXRlczogYnM1OF8xLmRlZmF1bHQuZW5jb2RlKEJ1ZmZlci5mcm9tKFttcGxfdG9rZW5fbWV0YWRhdGFfMS5NZXRhZGF0YUtleS5NZXRhZGF0YVYxXSkpCiAgfQp9XS5maWx0ZXIoQm9vbGVhbik7CgpmdW5jdGlvbiBnZXRIb2xkZXJCeU1pbnQoX3gpIHsKICByZXR1cm4gX2dldEhvbGRlckJ5TWludC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0SG9sZGVyQnlNaW50KCkgewogIF9nZXRIb2xkZXJCeU1pbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUobWludCkgewogICAgdmFyIHRva2VuczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBnZXRDb25uZWN0aW9uKCkuZ2V0VG9rZW5MYXJnZXN0QWNjb3VudHMobWludCk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICB0b2tlbnMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0b2tlbnMudmFsdWVbMF0uYWRkcmVzcyk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2dldEhvbGRlckJ5TWludC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBkZXNlcmlhbGl6ZU1ldGFkYXRhKHJhd01ldGFkYXRhKSB7CiAgdmFyIGFjYyA9IG5ldyBqc18xLkFjY291bnQocmF3TWV0YWRhdGEucHVia2V5LCByYXdNZXRhZGF0YS5hY2NvdW50KTsKICByZXR1cm4gbXBsX3Rva2VuX21ldGFkYXRhXzEuTWV0YWRhdGEuZnJvbShhY2MpOwp9CgpmdW5jdGlvbiBtZXRhZGF0YXNUb1Rva2VucyhfeDIpIHsKICByZXR1cm4gX21ldGFkYXRhc1RvVG9rZW5zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9tZXRhZGF0YXNUb1Rva2VucygpIHsKICBfbWV0YWRhdGFzVG9Ub2tlbnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHJhd01ldGFkYXRhcykgewogICAgdmFyIHByb21pc2VzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmF3TWV0YWRhdGFzLm1hcCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIobSkgewogICAgICAgICAgICAgICAgdmFyIG1ldGFkYXRhLCBtaW50LCBhZGRyZXNzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IGRlc2VyaWFsaXplTWV0YWRhdGEobSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnQgPSBuZXcgd2ViM19qc18xLlB1YmxpY0tleShtZXRhZGF0YS5kYXRhLm1pbnQpOwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRIb2xkZXJCeU1pbnQobWludCk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbWludDogbWludCwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhUERBOiBtZXRhZGF0YS5wdWJrZXksCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGFPbmNoYWluOiBtZXRhZGF0YS5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmYWlsZWQgdG8gZGVzZXJpYWxpemUgb25lIG9mIHRoZSBmZXRjaGVkIG1ldGFkYXRhcycpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDldXSk7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTMpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSgpKSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBwcm9taXNlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcHJvbWlzZXMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuICEhdDsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMpOwogIH0pKTsKICByZXR1cm4gX21ldGFkYXRhc1RvVG9rZW5zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldFRva2Vuc0J5Q3JlYXRvcihfeDMpIHsKICByZXR1cm4gX2dldFRva2Vuc0J5Q3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0VG9rZW5zQnlDcmVhdG9yKCkgewogIF9nZXRUb2tlbnNCeUNyZWF0b3IgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGNyZWF0b3IpIHsKICAgIHZhciByYXdNZXRhZGF0YXM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBnZXRDb25uZWN0aW9uKCkuZ2V0UHJvZ3JhbUFjY291bnRzKG5ldyB3ZWIzX2pzXzEuUHVibGljS2V5KGdsb2JhbHNfMS5ERUZBVUxUUy5NRVRBREFUQV9QUk9HUkFNX0lEKSwgewogICAgICAgICAgICAgIGZpbHRlcnM6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYmFzZUZpbHRlcnMpLCBbewogICAgICAgICAgICAgICAgbWVtY21wOiB7CiAgICAgICAgICAgICAgICAgIG9mZnNldDoganNfMS5wcm9ncmFtcy5tZXRhZGF0YS5jb21wdXRlQ3JlYXRvck9mZnNldCgwKSwKICAgICAgICAgICAgICAgICAgYnl0ZXM6IGNyZWF0b3IudG9CYXNlNTgoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH1dKQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJhd01ldGFkYXRhcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgbWV0YWRhdGFzVG9Ub2tlbnMocmF3TWV0YWRhdGFzKSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNCk7CiAgfSkpOwogIHJldHVybiBfZ2V0VG9rZW5zQnlDcmVhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldFRva2Vuc0J5VXBkYXRlQXV0aG9yaXR5KF94NCkgewogIHJldHVybiBfZ2V0VG9rZW5zQnlVcGRhdGVBdXRob3JpdHkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldFRva2Vuc0J5VXBkYXRlQXV0aG9yaXR5KCkgewogIF9nZXRUb2tlbnNCeVVwZGF0ZUF1dGhvcml0eSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUodXBkYXRlQXV0aG9yaXR5KSB7CiAgICB2YXIgcmF3TWV0YWRhdGFzOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gZ2V0Q29ubmVjdGlvbigpLmdldFByb2dyYW1BY2NvdW50cyhuZXcgd2ViM19qc18xLlB1YmxpY0tleShnbG9iYWxzXzEuREVGQVVMVFMuTUVUQURBVEFfUFJPR1JBTV9JRCksIHsKICAgICAgICAgICAgICBmaWx0ZXJzOiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGJhc2VGaWx0ZXJzKSwgW3sKICAgICAgICAgICAgICAgIG1lbWNtcDogewogICAgICAgICAgICAgICAgICBvZmZzZXQ6IDEsCiAgICAgICAgICAgICAgICAgIGJ5dGVzOiB1cGRhdGVBdXRob3JpdHkudG9CYXNlNTgoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH1dKQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJhd01ldGFkYXRhcyA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgbWV0YWRhdGFzVG9Ub2tlbnMocmF3TWV0YWRhdGFzKSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNSk7CiAgfSkpOwogIHJldHVybiBfZ2V0VG9rZW5zQnlVcGRhdGVBdXRob3JpdHkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZ2V0VG9rZW5zQnlNaW50KF94NSkgewogIHJldHVybiBfZ2V0VG9rZW5zQnlNaW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXRUb2tlbnNCeU1pbnQoKSB7CiAgX2dldFRva2Vuc0J5TWludCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYobWludCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gbWludDsKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZ2V0SG9sZGVyQnlNaW50KG1pbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgX2NvbnRleHQ2LnQxID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Ni50MiA9IHsKICAgICAgICAgICAgICBtaW50OiBfY29udGV4dDYudDAsCiAgICAgICAgICAgICAgYWRkcmVzczogX2NvbnRleHQ2LnQxCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBbX2NvbnRleHQ2LnQyXSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNik7CiAgfSkpOwogIHJldHVybiBfZ2V0VG9rZW5zQnlNaW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldFRva2Vuc0J5T3duZXIoX3g2KSB7CiAgcmV0dXJuIF9nZXRUb2tlbnNCeU93bmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGVucmljaCB3aXRoIHVzZWZ1bCBzdHVmZgoKCmZ1bmN0aW9uIF9nZXRUb2tlbnNCeU93bmVyKCkgewogIF9nZXRUb2tlbnNCeU93bmVyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhvd25lcikgewogICAgdmFyIHRva2VuczsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGdldENvbm5lY3Rpb24oKS5nZXRQYXJzZWRUb2tlbkFjY291bnRzQnlPd25lcihvd25lciwgewogICAgICAgICAgICAgIHByb2dyYW1JZDogc3BsX3Rva2VuXzEuVE9LRU5fUFJPR1JBTV9JRAogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHRva2VucyA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgdG9rZW5zLnZhbHVlLmZpbHRlcihmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgIHZhciBhbW91bnQgPSB0LmFjY291bnQuZGF0YS5wYXJzZWQuaW5mby50b2tlbkFtb3VudDsKICAgICAgICAgICAgICByZXR1cm4gYW1vdW50LmRlY2ltYWxzID09PSAwICYmIGFtb3VudC51aUFtb3VudCA9PT0gMTsKICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGFkZHJlc3M6IG5ldyB3ZWIzX2pzXzEuUHVibGljS2V5KHQucHVia2V5KSwKICAgICAgICAgICAgICAgIG1pbnQ6IG5ldyB3ZWIzX2pzXzEuUHVibGljS2V5KHQuYWNjb3VudC5kYXRhLnBhcnNlZC5pbmZvLm1pbnQpCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTcpOwogIH0pKTsKICByZXR1cm4gX2dldFRva2Vuc0J5T3duZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZ2V0TWV0YWRhdGFCeU1pbnQoX3g3LCBfeDgsIF94OSkgewogIHJldHVybiBfZ2V0TWV0YWRhdGFCeU1pbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldE1ldGFkYXRhQnlNaW50KCkgewogIF9nZXRNZXRhZGF0YUJ5TWludCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgobWludCwgbWV0YWRhdGFQREEsIG1ldGFkYXRhT25jaGFpbikgewogICAgdmFyIHBkYSwgb25jaGFpbiwgbWV0YWRhdGFFeHRlcm5hbDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghKG1ldGFkYXRhUERBICE9PSBudWxsICYmIG1ldGFkYXRhUERBICE9PSB2b2lkIDApKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dDgudDAgPSBtZXRhZGF0YVBEQTsKICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIG1wbF90b2tlbl9tZXRhZGF0YV8xLk1ldGFkYXRhLmdldFBEQShtaW50KTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OC5zZW50OwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgcGRhID0gX2NvbnRleHQ4LnQwOwoKICAgICAgICAgICAgaWYgKCEobWV0YWRhdGFPbmNoYWluICE9PSBudWxsICYmIG1ldGFkYXRhT25jaGFpbiAhPT0gdm9pZCAwKSkgewogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0OC50MSA9IG1ldGFkYXRhT25jaGFpbjsKICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNDsKICAgICAgICAgICAgcmV0dXJuIG1wbF90b2tlbl9tZXRhZGF0YV8xLk1ldGFkYXRhLmxvYWQoZ2V0Q29ubmVjdGlvbigpLCBwZGEpOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIF9jb250ZXh0OC50MSA9IF9jb250ZXh0OC5zZW50LmRhdGE7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgb25jaGFpbiA9IF9jb250ZXh0OC50MTsKICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxODsKICAgICAgICAgICAgcmV0dXJuIGF4aW9zXzEuZGVmYXVsdC5nZXQob25jaGFpbi5kYXRhLnVyaSk7CgogICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgbWV0YWRhdGFFeHRlcm5hbCA9IF9jb250ZXh0OC5zZW50LmRhdGE7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgbWV0YWRhdGFQREE6IHBkYSwKICAgICAgICAgICAgICBtZXRhZGF0YU9uY2hhaW46IG9uY2hhaW4sCiAgICAgICAgICAgICAgbWV0YWRhdGFFeHRlcm5hbDogbWV0YWRhdGFFeHRlcm5hbAogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlOCk7CiAgfSkpOwogIHJldHVybiBfZ2V0TWV0YWRhdGFCeU1pbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZ2V0RWRpdGlvbkluZm9CeU1pbnQoX3gxMCkgewogIHJldHVybiBfZ2V0RWRpdGlvbkluZm9CeU1pbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldEVkaXRpb25JbmZvQnlNaW50KCkgewogIF9nZXRFZGl0aW9uSW5mb0J5TWludCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkobWludCkgewogICAgdmFyIHBkYSwgaW5mbywga2V5LCBlZGl0aW9uVHlwZSwgZWRpdGlvblBEQSwgZWRpdGlvbkRhdGEsIG1hc3RlckVkaXRpb25QREEsIG1hc3RlckVkaXRpb25EYXRhLCBfeWllbGQkdXRpbF8xJG9rVG9GYWk7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gbXBsX3Rva2VuX21ldGFkYXRhXzEuRWRpdGlvbi5nZXRQREEobWludCk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBwZGEgPSBfY29udGV4dDkuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4ganNfMS5BY2NvdW50LmdldEluZm8oZ2V0Q29ubmVjdGlvbigpLCBwZGEpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgaW5mbyA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICBrZXkgPSBpbmZvID09PSBudWxsIHx8IGluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm8uZGF0YVswXTsKICAgICAgICAgICAgZWRpdGlvblR5cGUgPSB1dGlsXzEuZ2V0RW51bUtleUJ5RW51bVZhbHVlKG1wbF90b2tlbl9tZXRhZGF0YV8xLk1ldGFkYXRhS2V5LCBrZXkpOwogICAgICAgICAgICBfY29udGV4dDkudDAgPSBrZXk7CiAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gX2NvbnRleHQ5LnQwID09PSBtcGxfdG9rZW5fbWV0YWRhdGFfMS5NZXRhZGF0YUtleS5FZGl0aW9uVjEgPyAxMSA6IF9jb250ZXh0OS50MCA9PT0gbXBsX3Rva2VuX21ldGFkYXRhXzEuTWV0YWRhdGFLZXkuTWFzdGVyRWRpdGlvblYxID8gMTkgOiBfY29udGV4dDkudDAgPT09IG1wbF90b2tlbl9tZXRhZGF0YV8xLk1ldGFkYXRhS2V5Lk1hc3RlckVkaXRpb25WMiA/IDE5IDogMjI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGVkaXRpb25QREEgPSBwZGE7CiAgICAgICAgICAgIGVkaXRpb25EYXRhID0gbmV3IG1wbF90b2tlbl9tZXRhZGF0YV8xLkVkaXRpb24ocGRhLCBpbmZvKS5kYXRhOyAvLyB3ZSBjYW4gZnVydGhlciBnZXQgbWFzdGVyIGVkaXRpb24gaW5mbywgc2luY2Ugd2Uga25vdyB0aGUgcGFyZW50CgogICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE1OwogICAgICAgICAgICByZXR1cm4gdXRpbF8xLm9rVG9GYWlsQXN5bmMoZ2V0UGFyZW50RWRpdGlvbiwgW2VkaXRpb25EYXRhXSk7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgX3lpZWxkJHV0aWxfMSRva1RvRmFpID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgIG1hc3RlckVkaXRpb25QREEgPSBfeWllbGQkdXRpbF8xJG9rVG9GYWkubWFzdGVyRWRpdGlvblBEQTsKICAgICAgICAgICAgbWFzdGVyRWRpdGlvbkRhdGEgPSBfeWllbGQkdXRpbF8xJG9rVG9GYWkubWFzdGVyRWRpdGlvbkRhdGE7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJicmVhayIsIDIyKTsKCiAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICBtYXN0ZXJFZGl0aW9uRGF0YSA9IG5ldyBtcGxfdG9rZW5fbWV0YWRhdGFfMS5NYXN0ZXJFZGl0aW9uKHBkYSwgaW5mbykuZGF0YTsKICAgICAgICAgICAgbWFzdGVyRWRpdGlvblBEQSA9IHBkYTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoImJyZWFrIiwgMjIpOwoKICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgZWRpdGlvblR5cGU6IGVkaXRpb25UeXBlLAogICAgICAgICAgICAgIGVkaXRpb25QREE6IGVkaXRpb25QREEsCiAgICAgICAgICAgICAgZWRpdGlvbkRhdGE6IGVkaXRpb25EYXRhLAogICAgICAgICAgICAgIG1hc3RlckVkaXRpb25QREE6IG1hc3RlckVkaXRpb25QREEsCiAgICAgICAgICAgICAgbWFzdGVyRWRpdGlvbkRhdGE6IG1hc3RlckVkaXRpb25EYXRhCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU5KTsKICB9KSk7CiAgcmV0dXJuIF9nZXRFZGl0aW9uSW5mb0J5TWludC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBnZXRQYXJlbnRFZGl0aW9uKF94MTEpIHsKICByZXR1cm4gX2dldFBhcmVudEVkaXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldFBhcmVudEVkaXRpb24oKSB7CiAgX2dldFBhcmVudEVkaXRpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMChlZGl0aW9uRGF0YSkgewogICAgdmFyIG1hc3RlckVkaXRpb25QREEsIG1hc3RlckluZm8sIG1hc3RlckVkaXRpb25EYXRhOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIG1hc3RlckVkaXRpb25QREEgPSBuZXcgd2ViM19qc18xLlB1YmxpY0tleShlZGl0aW9uRGF0YS5wYXJlbnQpOwogICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4ganNfMS5BY2NvdW50LmdldEluZm8oZ2V0Q29ubmVjdGlvbigpLCBtYXN0ZXJFZGl0aW9uUERBKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIG1hc3RlckluZm8gPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgIG1hc3RlckVkaXRpb25EYXRhID0gbmV3IG1wbF90b2tlbl9tZXRhZGF0YV8xLk1hc3RlckVkaXRpb24obWFzdGVyRWRpdGlvblBEQSwgbWFzdGVySW5mbykuZGF0YTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgbWFzdGVyRWRpdGlvblBEQTogbWFzdGVyRWRpdGlvblBEQSwKICAgICAgICAgICAgICBtYXN0ZXJFZGl0aW9uRGF0YTogbWFzdGVyRWRpdGlvbkRhdGEKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTEwKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRQYXJlbnRFZGl0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIHRva2Vuc1RvRW5yaWNoZWRORlRzKF94MTIpIHsKICByZXR1cm4gX3Rva2Vuc1RvRW5yaWNoZWRORlRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMKCgpmdW5jdGlvbiBfdG9rZW5zVG9FbnJpY2hlZE5GVHMoKSB7CiAgX3Rva2Vuc1RvRW5yaWNoZWRORlRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIodG9rZW5zKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLmFsbCh0b2tlbnMubWFwKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKHQpIHsKICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gX29iamVjdFNwcmVhZDsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS50MSA9IF9vYmplY3RTcHJlYWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDIgPSB0Lm1pbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDMgPSB0LmFkZHJlc3M7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1dGlsXzEub2tUb0ZhaWxBc3luYyhzcGxfdG9rZW5fMi5kZXNlcmlhbGl6ZVRva2VuQWNjb3VudCwgW3QubWludCwgdC5hZGRyZXNzXSk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLnQ0ID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbF8xLm9rVG9GYWlsQXN5bmMoc3BsX3Rva2VuXzIuZGVzZXJpYWxpemVUb2tlbk1pbnQsIFt0Lm1pbnRdKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDUgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDYgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbWludDogX2NvbnRleHQxMS50MiwKICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBfY29udGV4dDExLnQzLAogICAgICAgICAgICAgICAgICAgICAgICAgIHNwbFRva2VuSW5mbzogX2NvbnRleHQxMS50NCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzcGxNaW50SW5mbzogX2NvbnRleHQxMS50NQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxfMS5va1RvRmFpbEFzeW5jKGdldE1ldGFkYXRhQnlNaW50LCBbdC5taW50LCB0Lm1ldGFkYXRhUERBLCB0Lm1ldGFkYXRhT25jaGFpbl0sIHRydWUpOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDcgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEudDggPSAoMCwgX2NvbnRleHQxMS50MSkoX2NvbnRleHQxMS50NiwgX2NvbnRleHQxMS50Nyk7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbF8xLm9rVG9GYWlsQXN5bmMoZ2V0RWRpdGlvbkluZm9CeU1pbnQsIFt0Lm1pbnRdLCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLnQ5ID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsICgwLCBfY29udGV4dDExLnQwKShfY29udGV4dDExLnQ4LCBfY29udGV4dDExLnQ5KSk7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMSk7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MTQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0oKSkpKTsKCiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTIpOwogIH0pKTsKICByZXR1cm4gX3Rva2Vuc1RvRW5yaWNoZWRORlRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGZpbHRlck91dEluY29tcGxldGVORlRzKE5GVHMpIHsKICByZXR1cm4gTkZUcy5maWx0ZXIoZnVuY3Rpb24gKG4pIHsKICAgIHJldHVybiBuLm1pbnQgJiYgLy8gZ3VhcmFudGVlZAogICAgbi5tZXRhZGF0YU9uY2hhaW4gJiYgLy8gZ3VhcmFudGVlZAogICAgbi5tZXRhZGF0YUV4dGVybmFsOwogIH0gLy8gcmVxdWlyZW1lbnQsIG90aGVyd2lzZSBubyBwaWN0dXJlCiAgKTsKfSAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gaW50ZXJmYWNlCgoKZnVuY3Rpb24gTkZUR2V0KCkgewogIHJldHVybiBfTkZUR2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9ORlRHZXQoKSB7CiAgX05GVEdldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgdmFyIF9yZWYzLAogICAgICAgIG93bmVyLAogICAgICAgIGNyZWF0b3IsCiAgICAgICAgbWludCwKICAgICAgICB1cGRhdGVBdXRob3JpdHksCiAgICAgICAgdDEsCiAgICAgICAgdG9rZW5zLAogICAgICAgIHQyLAogICAgICAgIG5mdHMsCiAgICAgICAgdDMsCiAgICAgICAgdmFsaWRORlRzLAogICAgICAgIGZpbmFsTkZ0cywKICAgICAgICBfYXJnczEzID0gYXJndW1lbnRzOwoKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfcmVmMyA9IF9hcmdzMTMubGVuZ3RoID4gMCAmJiBfYXJnczEzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczEzWzBdIDoge30sIG93bmVyID0gX3JlZjMub3duZXIsIGNyZWF0b3IgPSBfcmVmMy5jcmVhdG9yLCBtaW50ID0gX3JlZjMubWludCwgdXBkYXRlQXV0aG9yaXR5ID0gX3JlZjMudXBkYXRlQXV0aG9yaXR5OwogICAgICAgICAgICB0MSA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgICAgICB0b2tlbnMgPSBbXTsKCiAgICAgICAgICAgIGlmICghb3duZXIpIHsKICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coJ1RpbWUgdG8gZ2V0IGVtIE5GVHMgYnkgb3duZXI6Jywgb3duZXIudG9CYXNlNTgoKSk7CiAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDc7CiAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbnNCeU93bmVyKG93bmVyKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIHRva2VucyA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGlmICghY3JlYXRvcikgewogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE3OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZygnVGltZSB0byBnZXQgZW0gTkZUcyBieSBjcmVhdG9yOicsIGNyZWF0b3IudG9CYXNlNTgoKSk7CiAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE0OwogICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW5zQnlDcmVhdG9yKGNyZWF0b3IpOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIHRva2VucyA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgIGlmICghbWludCkgewogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZygnVGltZSB0byBnZXQgZW0gTkZUcyBieSBtaW50OicsIG1pbnQudG9CYXNlNTgoKSk7CiAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDIxOwogICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW5zQnlNaW50KG1pbnQpOwoKICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIHRva2VucyA9IF9jb250ZXh0MTMuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgIGlmICghdXBkYXRlQXV0aG9yaXR5KSB7CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMzE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaW1lIHRvIGdldCBlbSBORlRzIGJ5IGF1dGhvcml0eTonLCB1cGRhdGVBdXRob3JpdHkudG9CYXNlNTgoKSk7CiAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDI4OwogICAgICAgICAgICByZXR1cm4gZ2V0VG9rZW5zQnlVcGRhdGVBdXRob3JpdHkodXBkYXRlQXV0aG9yaXR5KTsKCiAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICB0b2tlbnMgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDMyOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHBhc3Mgb25lIG9mIG93bmVyIC8gY3JlYXRvciAvIGF1dGhvcml0eSAvIG1pbnQnKTsKCiAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICBpZiAoISh0b2tlbnMubGVuZ3RoID09PSAwKSkgewogICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDM0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aHJvdyBnbG9iYWxzXzEuRVJSX05PX05GVFM7CgogICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgZ2xvYmFsc18xLkVFLmVtaXQoJ2xvYWRpbmcnLCB7CiAgICAgICAgICAgICAgbmV3U3RhdHVzOiBsb2FkaW5nXzEuTG9hZFN0YXR1cy5Mb2FkaW5nLAogICAgICAgICAgICAgIG5ld1Byb2dyZXNzOiA1MCwKICAgICAgICAgICAgICBtYXhQcm9ncmVzczogOTAsCiAgICAgICAgICAgICAgbmV3VGV4dDogIkZvdW5kICIuY29uY2F0KHRva2Vucy5sZW5ndGgsICIgcG90ZW50aWFsIE5GVHMuIEZldGNoaW5nIG1ldGFkYXRhLi4uIEVUQTogPCIpLmNvbmNhdChsb2FkaW5nXzEuZXN0aW1hdGVORlRMb2FkVGltZSh0b2tlbnMubGVuZ3RoKSwgIiBtaW4iKQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdDIgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICAgICAgY29uc29sZS5sb2coIkZvdW5kICIuY29uY2F0KHRva2Vucy5sZW5ndGgsICIgdG9rZW5zIikpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnVGltZTonLCAodDIgLSB0MSkgLyAxMDAwKTsKICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNDA7CiAgICAgICAgICAgIHJldHVybiB0b2tlbnNUb0VucmljaGVkTkZUcyh0b2tlbnMpOwoKICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgIG5mdHMgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgIHQzID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJQcmVwYXJlZCBhIHRvdGFsICIuY29uY2F0KG5mdHMubGVuZ3RoLCAiIE5GVHMiKSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaW1lOicsICh0MyAtIHQyKSAvIDEwMDApOwogICAgICAgICAgICBjb25zb2xlLmxvZygnVE9UQUwgdGltZTonLCAodDMgLSB0MSkgLyAxMDAwKTsKICAgICAgICAgICAgdmFsaWRORlRzID0gZmlsdGVyT3V0SW5jb21wbGV0ZU5GVHMobmZ0cyk7CiAgICAgICAgICAgIGZpbmFsTkZ0cyA9IHZhbGlkTkZUczsgLy8gcHJvY2VzcyByYXJpdHkgLSBmb3IgY3JlYXRvcnMgLyB1cGRhdGVBdXRoIG9ubHkKCiAgICAgICAgICAgIGlmIChjcmVhdG9yIHx8IHVwZGF0ZUF1dGhvcml0eSkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmaW5hbE5GdHMgPSByYXJpdHlfMS5wcm9jZXNzUmFyaXR5KHZhbGlkTkZUcyk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBjYWxjIHJhcml0eSB3aXRoIGVycm9yJywgZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIGZpbmFsTkZ0cyk7CgogICAgICAgICAgY2FzZSA0OToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUxMyk7CiAgfSkpOwogIHJldHVybiBfTkZUR2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydHMuTkZUR2V0ID0gTkZUR2V0Ow=="},{"version":3,"sources":["/home/quantium/labs/solana-nft-python/nft-armory/src/common/NFTget.ts"],"names":[],"mappings":"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","sourcesContent":["import { PublicKey } from '@solana/web3.js';\nimport axios from 'axios';\nimport { Account, programs } from '@metaplex/js';\nimport {\n  Edition,\n  EditionData,\n  MasterEdition,\n  Metadata,\n  MetadataData,\n  MetadataKey,\n} from '@metaplex-foundation/mpl-token-metadata';\nimport bs58 from 'bs58';\nimport { TOKEN_PROGRAM_ID } from '@solana/spl-token';\nimport { getEnumKeyByEnumValue, okToFailAsync } from './helpers/util';\nimport { deserializeTokenAccount, deserializeTokenMint } from './helpers/spl-token';\nimport { INFT, INFTParams } from './helpers/types';\nimport useCluster from '@/composables/cluster';\nimport { DEFAULTS, EE, ERR_NO_NFTS } from '@/globals';\nimport { estimateNFTLoadTime, IUpdateLoadingParams, LoadStatus } from '@/composables/loading';\nimport { processRarity } from '@/common/rarity';\n\nconst { getConnection } = useCluster();\n\n// --------------------------------------- get tokens\n\ninterface IToken {\n  mint: PublicKey;\n  address: PublicKey;\n  metadataPDA?: PublicKey;\n  metadataOnchain?: MetadataData;\n}\n\nconst baseFilters = [\n  // Filter for MetadataV1 by key\n  {\n    memcmp: {\n      offset: 0,\n      bytes: bs58.encode(Buffer.from([MetadataKey.MetadataV1])),\n    },\n  },\n].filter(Boolean);\n\nasync function getHolderByMint(mint: PublicKey): Promise<PublicKey> {\n  const tokens = await getConnection().getTokenLargestAccounts(mint);\n  return tokens.value[0].address; // since it's an NFT, we just grab the 1st account\n}\n\nfunction deserializeMetadata(rawMetadata: any) {\n  const acc = new Account(rawMetadata.pubkey, rawMetadata.account);\n  return Metadata.from(acc);\n}\n\nasync function metadatasToTokens(rawMetadatas: any[]): Promise<IToken[]> {\n  const promises = await Promise.all(\n    rawMetadatas.map(async (m) => {\n      try {\n        const metadata = deserializeMetadata(m);\n        const mint = new PublicKey(metadata.data.mint);\n        const address = await getHolderByMint(mint);\n        return {\n          mint,\n          address,\n          metadataPDA: metadata.pubkey,\n          metadataOnchain: metadata.data,\n        } as IToken;\n      } catch (e) {\n        console.log('failed to deserialize one of the fetched metadatas');\n      }\n    })\n  );\n  return promises.filter((t) => !!t) as IToken[];\n}\n\nasync function getTokensByCreator(creator: PublicKey): Promise<IToken[]> {\n  const rawMetadatas = await getConnection().getProgramAccounts(\n    new PublicKey(DEFAULTS.METADATA_PROGRAM_ID),\n    {\n      filters: [\n        ...baseFilters,\n        {\n          memcmp: {\n            offset: programs.metadata.computeCreatorOffset(0),\n            bytes: creator.toBase58(),\n          },\n        },\n      ],\n    }\n  );\n  return metadatasToTokens(rawMetadatas);\n}\n\nasync function getTokensByUpdateAuthority(updateAuthority: PublicKey): Promise<IToken[]> {\n  const rawMetadatas = await getConnection().getProgramAccounts(\n    new PublicKey(DEFAULTS.METADATA_PROGRAM_ID),\n    {\n      filters: [\n        ...baseFilters,\n        {\n          memcmp: {\n            offset: 1,\n            bytes: updateAuthority.toBase58(),\n          },\n        },\n      ],\n    }\n  );\n  return metadatasToTokens(rawMetadatas);\n}\n\nasync function getTokensByMint(mint: PublicKey): Promise<IToken[]> {\n  return [\n    {\n      mint,\n      address: await getHolderByMint(mint),\n    },\n  ];\n}\n\nasync function getTokensByOwner(owner: PublicKey): Promise<IToken[]> {\n  const tokens = await getConnection().getParsedTokenAccountsByOwner(owner, {\n    programId: TOKEN_PROGRAM_ID,\n  });\n\n  // initial filter - only tokens with 0 decimals & of which 1 is present in the wallet\n  return tokens.value\n    .filter((t) => {\n      const amount = t.account.data.parsed.info.tokenAmount;\n      return amount.decimals === 0 && amount.uiAmount === 1;\n    })\n    .map((t) => ({\n      address: new PublicKey(t.pubkey),\n      mint: new PublicKey(t.account.data.parsed.info.mint),\n    }));\n}\n\n// --------------------------------------- enrich with useful stuff\n\nasync function getMetadataByMint(\n  mint: PublicKey,\n  metadataPDA?: PublicKey,\n  metadataOnchain?: MetadataData\n) {\n  const pda = metadataPDA ?? (await Metadata.getPDA(mint));\n  const onchain = metadataOnchain ?? (await Metadata.load(getConnection(), pda)).data;\n  const metadataExternal = (await axios.get(onchain.data.uri)).data;\n  return {\n    metadataPDA: pda,\n    metadataOnchain: onchain,\n    metadataExternal,\n  };\n}\n\nasync function getEditionInfoByMint(mint: PublicKey) {\n  // untriaged\n  const pda = await Edition.getPDA(mint);\n  const info = await Account.getInfo(getConnection(), pda);\n  const key = info?.data[0];\n\n  const editionType = getEnumKeyByEnumValue(MetadataKey, key);\n  let editionPDA;\n  let editionData;\n  let masterEditionPDA;\n  let masterEditionData;\n\n  // triaged\n  switch (key) {\n    case MetadataKey.EditionV1:\n      editionPDA = pda;\n      editionData = new Edition(pda, info).data;\n      // we can further get master edition info, since we know the parent\n      ({ masterEditionPDA, masterEditionData } = await okToFailAsync(getParentEdition, [\n        editionData,\n      ]));\n      break;\n    case MetadataKey.MasterEditionV1:\n    case MetadataKey.MasterEditionV2:\n      masterEditionData = new MasterEdition(pda, info).data;\n      masterEditionPDA = pda;\n      break;\n  }\n\n  return {\n    editionType,\n    editionPDA,\n    editionData,\n    masterEditionPDA,\n    masterEditionData,\n  };\n}\n\nasync function getParentEdition(editionData: EditionData) {\n  const masterEditionPDA = new PublicKey(editionData.parent);\n  const masterInfo = await Account.getInfo(getConnection(), masterEditionPDA);\n  const masterEditionData = new MasterEdition(masterEditionPDA, masterInfo).data;\n  return { masterEditionPDA, masterEditionData };\n}\n\nasync function tokensToEnrichedNFTs(tokens: IToken[]): Promise<INFT[]> {\n  return Promise.all(\n    tokens.map(async (t) =>\n      // console.log(`Processing Mint ${t.mint}`)\n      ({\n        mint: t.mint,\n        address: t.address,\n        splTokenInfo: await okToFailAsync(deserializeTokenAccount, [t.mint, t.address]),\n        splMintInfo: await okToFailAsync(deserializeTokenMint, [t.mint]),\n        ...(await okToFailAsync(\n          getMetadataByMint,\n          [t.mint, t.metadataPDA, t.metadataOnchain],\n          true\n        )),\n        ...(await okToFailAsync(getEditionInfoByMint, [t.mint], true)),\n      })\n    )\n  );\n}\n\n// --------------------------------------- helpers\n\nfunction filterOutIncompleteNFTs(NFTs: INFT[]): INFT[] {\n  return NFTs.filter(\n    (n) =>\n      n.mint && // guaranteed\n      n.metadataOnchain && // guaranteed\n      n.metadataExternal // requirement, otherwise no picture\n  );\n}\n\n// --------------------------------------- interface\n\nexport async function NFTGet(\n  { owner, creator, mint, updateAuthority } = {} as INFTParams\n): Promise<INFT[]> {\n  const t1 = performance.now();\n\n  let tokens: IToken[] = [];\n  if (owner) {\n    console.log('Time to get em NFTs by owner:', owner.toBase58());\n    tokens = await getTokensByOwner(owner);\n  } else if (creator) {\n    console.log('Time to get em NFTs by creator:', creator.toBase58());\n    tokens = await getTokensByCreator(creator);\n  } else if (mint) {\n    console.log('Time to get em NFTs by mint:', mint.toBase58());\n    tokens = await getTokensByMint(mint);\n  } else if (updateAuthority) {\n    console.log('Time to get em NFTs by authority:', updateAuthority.toBase58());\n    tokens = await getTokensByUpdateAuthority(updateAuthority);\n  } else {\n    throw new Error('You must pass one of owner / creator / authority / mint');\n  }\n\n  if (tokens.length === 0) {\n    throw ERR_NO_NFTS;\n  }\n\n  EE.emit('loading', {\n    newStatus: LoadStatus.Loading,\n    newProgress: 50,\n    maxProgress: 90,\n    newText: `Found ${\n      tokens.length\n    } potential NFTs. Fetching metadata... ETA: <${estimateNFTLoadTime(tokens.length)} min`,\n  } as IUpdateLoadingParams);\n\n  const t2 = performance.now();\n  console.log(`Found ${tokens.length} tokens`);\n  console.log('Time:', (t2 - t1) / 1000);\n\n  const nfts = await tokensToEnrichedNFTs(tokens);\n  const t3 = performance.now();\n  console.log(`Prepared a total ${nfts.length} NFTs`);\n  console.log('Time:', (t3 - t2) / 1000);\n  console.log('TOTAL time:', (t3 - t1) / 1000);\n\n  const validNFTs = filterOutIncompleteNFTs(nfts);\n  let finalNFts = validNFTs;\n\n  // process rarity - for creators / updateAuth only\n  if (creator || updateAuthority) {\n    try {\n      finalNFts = processRarity(validNFTs);\n    } catch (e) {\n      console.log('Failed to calc rarity with error', e);\n    }\n  }\n\n  return finalNFts;\n}\n"],"sourceRoot":""}]}